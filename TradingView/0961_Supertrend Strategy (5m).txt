//@version=5
strategy("Supertrend Strategy (5m)", overlay=true)

// Настройки
atrPeriod = input.int(10, title="ATR Period")
factor = input.float(3.0, title="Factor")

// Расчёт индикатора
[supertrend, direction] = ta.supertrend(factor, atrPeriod)

// Отображение линий на графике
plot(supertrend, color=direction ? color.green : color.red, title="Supertrend Line")

// Торговые сигналы
longCondition = ta.crossover(close, supertrend)
shortCondition = ta.crossunder(close, supertrend)

if (longCondition)
    strategy.entry("Long", strategy.long)

if (shortCondition)
    strategy.close("Long")