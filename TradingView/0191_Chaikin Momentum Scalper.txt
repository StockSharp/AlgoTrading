//@version=6
strategy("Chaikin Momentum Scalper", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=100)

// Inputs
fastLength = input.int(3, minval=1, title="Chaikin Fast Length")
slowLength = input.int(10, minval=1, title="Chaikin Slow Length")
smaLength = input.int(200, minval=1, title="SMA Length")
atrLength = input.int(14, minval=1, title="ATR Length")
atrMultiplierSL = input.float(1.5, minval=0.1, title="ATR Multiplier for Stop-Loss")
atrMultiplierTP = input.float(2.0, minval=0.1, title="ATR Multiplier for Take-Profit")

// Calculations
accDist = ta.accdist
chaikin = ta.ema(accDist, fastLength) - ta.ema(accDist, slowLength)
sma = ta.sma(close, smaLength)
atr = ta.atr(atrLength)

// Conditions
longCondition = ta.crossover(chaikin, 0) and close > sma
shortCondition = ta.crossunder(chaikin, 0) and close < sma

// Entry and Exit
if (longCondition)
    strategy.entry("Long", strategy.long)
    strategy.exit("Long Exit", from_entry="Long", stop=close - atr * atrMultiplierSL, limit=close + atr * atrMultiplierTP)

if (shortCondition)
    strategy.entry("Short", strategy.short)
    strategy.exit("Short Exit", from_entry="Short", stop=close + atr * atrMultiplierSL, limit=close - atr * atrMultiplierTP)

// Plotting
plot(sma, title="200 SMA", color=color.orange)
plot(chaikin, title="Chaikin Oscillator", color=color.blue)
hline(0, title="Zero Line", color=color.gray, linestyle=hline.style_dashed)