// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © RicardoSantos

//@version=6

string LTITLE = 'Tutorial - Adding sessions to strategies'
string STITLE = 'T'
strategy(LTITLE, STITLE, overlay=true)

// RSI trading logic

float rsi = ta.rsi(close, 14)
float u = 70.0
float l = 30.0

bool buy_signal = ta.crossover(rsi, l)
bool sel_signal = ta.crossunder(rsi, u)

// Session logic

// @variable String with session information.
string session = input.session('1300-1700', 'Session:', options=['0930-1600', '1300-1700', '1700-2100'])
// @variable check if current time is within session window.
bool in_session = not na(time(timeframe.period, session))

// Trading logic:

if in_session
    if buy_signal
        strategy.entry('buy', strategy.long)
    if sel_signal
        strategy.entry('sel', strategy.short)
else
    strategy.close_all('Out of Session')