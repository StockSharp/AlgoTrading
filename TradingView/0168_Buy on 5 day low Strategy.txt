// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © Botnet101

//@version=6
strategy('Buy on 5 day low Strategy', overlay = true, initial_capital = 1000000, default_qty_value = 100, default_qty_type = strategy.percent_of_equity, process_orders_on_close = true, margin_long = 5, margin_short = 5, calc_on_every_tick = true)

in_start_time = input.time(timestamp('1 Jan 2014'), title = 'Start Time', group = 'Time Settings')
in_end_time = input.time(timestamp('1 Jan 2099'), title = 'End Time', group = 'Time Settings')
in_window = time >= in_start_time and time <= in_end_time

_lowest = ta.lowest(low, 5)

buyCondition = close < _lowest[1]
exitcondition = close > high[1]

if buyCondition and in_window
    strategy.entry('buy', strategy.long)
if exitcondition
    strategy.close_all()

plot(_lowest[1], color = color.yellow)