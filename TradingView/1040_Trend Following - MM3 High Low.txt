//@version=5
strategy("Trend Following - MM3 High/Low", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=100)

// Parâmetro
length = 3

// MM3 sobre máximas e mínimas
maHigh = ta.sma(high, length)
maLow = ta.sma(low, length)

// Condições
entryCond = close > maHigh and strategy.position_size == 0
exitCond  = close < maLow and strategy.position_size > 0

// Entrada
if entryCond
    strategy.entry("Buy", strategy.long)

// Saída
if exitCond
    strategy.close("Buy")

// Coloração visual (opcional)
barcolor(entryCond ? color.green : exitCond ? color.red : na)