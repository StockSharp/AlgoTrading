//@version=5
strategy("Supertrend + MACD Crossover", overlay=true)

// Define Supertrend
factor = 3.0
atrLength = 10
[supertrend, supertrendDirection] = ta.supertrend(factor, atrLength)

// Define MACD
[macdLine, signalLine, _] = ta.macd(close, 12, 26, 9)
macdBullish = ta.crossover(macdLine, signalLine)
macdBearish = ta.crossunder(macdLine, signalLine)

// Define Buy and Sell Conditions
bullishCrossover = supertrendDirection == 1 and macdBullish
bearishCrossover = supertrendDirection == -1 and macdBearish

// Execute Buy Order
if (bullishCrossover)
    strategy.entry("Long", strategy.long)

// Execute Sell Order
if (bearishCrossover)
    strategy.close("Long")

// Plot Supertrend
plot(supertrend, color=supertrendDirection == 1 ? color.green : color.red, title="Supertrend")

// Plot MACD Signals
plotshape(series=bullishCrossover, location=location.belowbar, color=color.green, style=shape.triangleup, title="Buy Signal", size=size.small)
plotshape(series=bearishCrossover, location=location.abovebar, color=color.red, style=shape.triangledown, title="Sell Signal", size=size.small)