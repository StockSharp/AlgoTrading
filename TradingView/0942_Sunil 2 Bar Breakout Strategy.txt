// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © sunilsenapati

//@version=6
strategy("Sunil 2 Bar Breakout Strategy", overlay = true)

long_cond = (close > close[1]) and (high[1] > high[2]) and (high[1] > high[3])
short_cond = (close < close[1]) and (low[1] < low[2]) and (low[1] < low[3])

long_sl = low[1]
short_sl = high[1]

if long_cond
    strategy.entry('long', direction = strategy.long, stop = close[1], comment = "Enter Long")
    strategy.exit('Exit Long', from_entry = 'long', stop = long_sl, comment = "Long SL Hit")

if short_cond
    strategy.close('long', comment = "Close Long")

if short_cond
    strategy.entry('short', strategy.short, stop = close[1], comment = "Enter Short")
    strategy.exit('Exit Short', from_entry = 'short', stop = short_sl, comment = "Short SL Hit")
if long_cond
    strategy.close('short', comment = "Close Short")