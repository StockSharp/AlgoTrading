//@version=6
strategy("Long Term Profitable Swing | Abbas", overlay=true, initial_capital=100000, default_qty_type=strategy.percent_of_equity, default_qty_value=10, pyramiding=5)

// Inputs
fastEMA_len = input.int(16, title="Fast EMA Length")
slowEMA_len = input.int(30, title="Slow EMA Length")
rsi_len     = input.int(9, title="RSI Length")
atr_len     = input.int(21, title="ATR Length")
rsi_thresh  = input.float(50, title="RSI Bullish Threshold")
atrStopMult = input.float(8, title="ATR Stop Loss Multiplier")
atrTPMult   = input.float(11, title="ATR Take Profit Multiplier")

// Indicators
fastEMA = ta.ema(close, fastEMA_len)
slowEMA = ta.ema(close, slowEMA_len)
rsi     = ta.rsi(close, rsi_len)
atr     = ta.atr(atr_len)

// Entry Conditions (simple)
longCondition = ta.crossover(fastEMA, slowEMA) and rsi > rsi_thresh

// Entry Execution
if (longCondition)
    entryPrice = close
    stopLoss = entryPrice - (atrStopMult * atr)
    takeProfit = entryPrice + (atrTPMult * atr)

    strategy.entry("Long", strategy.long)
    strategy.exit("ExitLong", "Long", stop=stopLoss, limit=takeProfit)

// Plot Indicators and Signals
plot(fastEMA, color=color.blue, title="Fast EMA (20)")
plot(slowEMA, color=color.orange, title="Slow EMA (50)")
plotshape(longCondition, location=location.belowbar, color=color.green, style=shape.triangleup, size=size.tiny, text="Long")