//@version=6

strategy("RSI, Volume, MACD, EMA Combo", overlay=true)

// === INPUTS ===
EMA_L = input.int(defval = 200,title = "EMA LENGTH" )
RSI_L = input.int(defval = 14,title = "RSI LENGTH" )
OB = input.int(defval = 50,title = "OB")
OS = input.int(defval =  50,title ="OS")
SLOW_L = input.int(defval =26,title = "RSI LENGTH" )
FAST_L = input.int(defval = 12,title = "RSI LENGTH" )
SIG_L = input.int(defval = 9,title = "RSI LENGTH")
SMA_L = input.int(defval = 20,title = "SMA LENGTH" )
// TRADING INICATORS
[macdLine, signalline, histLine] = ta.macd(close, FAST_L, SLOW_L, SIG_L)
RSI = ta.rsi(close,RSI_L)
EMA = ta.ema(close, EMA_L)
VOLUME = volume
sma_v = ta.sma(volume,SMA_L)
// Trading Logic
buy = macdLine > signalline and RSI > OB and close > EMA and volume > sma_v
short = macdLine < signalline and RSI < OS and close < EMA and volume > sma_v
sell = ta.crossunder(RSI,50)
cover = ta.crossover(RSI, 50)
// Strategy
if buy
    strategy.entry("long", direction = strategy.long, comment = "long")

if sell
    strategy.close("long", comment = "long exit")

if short
    strategy.entry("short", direction = strategy.short, comment = "short" )

if cover
    strategy.close("short", comment = "short exit")

//  Plot
plot(EMA, color = color.green, linewidth = 2)