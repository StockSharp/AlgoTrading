//@version=4
strategy("Stochastic Strategy", shorttitle="Stoch Strategy", overlay=true)

length = 7
smoothK = 2
smoothD = 2
overbought = 50
oversold = 50

K = sma(stoch(close, high, low, length), smoothK)
D = sma(K, smoothD)

longCondition = crossover(K, oversold)
shortCondition = crossunder(K, overbought)

plotshape(series=longCondition, location=location.belowbar, color=color.green, style=shape.triangleup, title="Long Signal")
plotshape(series=shortCondition, location=location.abovebar, color=color.red, style=shape.triangledown, title="Short Signal")

strategy.entry("Long", strategy.long, when=longCondition)
strategy.entry("Short", strategy.short, when=shortCondition)