//@version=6
strategy("RSI Long & Short Strategy", overlay=true)

// === Inputs ===
length = input(14, "RSI Length")
overSold = input(44, "Long Entry RSI Threshold")
longExitLevel = input(70, "Long Exit RSI Threshold")
shortEntryLevel = input(100, "Short Entry RSI Threshold")
shortExitLevel = input(0, "Short Exit RSI Threshold")

// === RSI Calculation ===
vrsi = ta.rsi(close, length)

// === Long Entry Logic ===
inOversold = vrsi < overSold
var bool oversoldTouched = false
if inOversold
    oversoldTouched := true

longEntry = oversoldTouched and ta.crossover(vrsi, overSold)
if longEntry
    strategy.entry("RSI Long", strategy.long)
    oversoldTouched := false

// === Long Exit Logic ===
if ta.crossover(vrsi, longExitLevel)
    strategy.close("RSI Long")

// === Short Entry Logic ===
if ta.crossover(vrsi, shortEntryLevel)
    strategy.entry("RSI Short", strategy.short)

// === Short Exit Logic ===
if vrsi < shortExitLevel
    strategy.close("RSI Short")