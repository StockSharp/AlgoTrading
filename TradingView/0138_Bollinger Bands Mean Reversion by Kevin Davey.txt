// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © EdgeTools

//@version=5
strategy("Bollinger Bands Mean Reversion by Kevin Davey ",  overlay=true, precision=2, calc_on_every_tick=true, initial_capital=20000, currency=currency.USD, slippage=1, commission_type=strategy.commission.cash_per_contract, commission_value=0.05)

// Bollinger Bands Input
length = input.int(20, title="Bollinger Bands Length")
src = input(close, title="Source")
mult = input.float(2.0, title="Multiplier")

// Calculate Bollinger Bands
basis = ta.sma(src, length)
dev = mult * ta.stdev(src, length)
upperBand = basis + dev
lowerBand = basis - dev

// Entry and Exit Conditions
buyCondition = close < lowerBand
sellCondition = close > upperBand

// Trade Logic
if (buyCondition)
    strategy.entry("Long", strategy.long)

if (sellCondition)
    strategy.close("Long")

// Plot Bollinger Bands
plot(upperBand, color=color.red, title="Upper Band")
plot(basis, color=color.blue, title="Basis")
plot(lowerBand, color=color.green, title="Lower Band")