# Стратегия MACD Candle
[English](README.md) | [中文](README_cn.md)

Данная стратегия является конверсией советника MetaTrader «Exp_MACDCandle». Она преобразует цвет свечей индикатора MACD Candle в торговые сигналы с использованием высокоуровневого API StockSharp.

## Концепция

Индикатор MACD Candle строит синтетические свечи из значений MACD, вычисленных по ценам открытия и закрытия. Если MACD по закрытию выше MACD по открытию, свеча считается бычьей (цвет 2). Обратное состояние формирует медвежью свечу (цвет 0). При равных значениях появляется нейтральный цвет (1).

Стратегия открывает длинную позицию, когда после небычьей свечи появляется бычья. Короткая позиция открывается, когда после немедвежьей свечи возникает медвежья. Текущая позиция переворачивается в новую сторону.

## Параметры

- `FastLength` – период быстрой EMA для MACD (по умолчанию 12).
- `SlowLength` – период медленной EMA для MACD (по умолчанию 26).
- `SignalLength` – период сигнальной линии MACD (по умолчанию 9).
- `CandleType` – тип свечей для расчётов, по умолчанию `TimeFrameCandle` с периодом четыре часа.

Все параметры настраиваются и поддерживают оптимизацию.

## Правила входа и выхода

- **Вход в лонг**: MACD по закрытию выше MACD по открытию, а предыдущая свеча не была бычьей.
- **Вход в шорт**: MACD по открытию выше MACD по закрытию, а предыдущая свеча не была медвежьей.
- **Выход**: позиция закрывается при появлении противоположного сигнала; стоп‑лосс и тейк‑профит не используются.

## Примечания

- В стратегии применяются рыночные заявки (`BuyMarket` и `SellMarket`).
- Сигналы рассчитываются только по завершённым свечам, чтобы избежать шума.
- Пример предназначен для учебных целей и не содержит управления рисками.
