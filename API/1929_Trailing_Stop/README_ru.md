# Стратегия с трейлинг-стопом

## Обзор
Стратегия реализует логику трейлинг-стопа из исходного MQL-скрипта `TRAILING.mq4`. Она управляет уже открытой позицией и закрывает её при достижении заданной прибыли либо при срабатывании стоп-лосса. Если включён параметр трейлинга, уровень стопа следует за ценой, фиксируя прибыль.

## Параметры
- **TakeProfit** – расстояние до целевой прибыли в ценовых единицах.
- **StopLoss** – максимально допустимое отклонение цены против позиции.
- **Trailing** – расстояние, на которое смещается трейлинг-стоп.
- **CandleType** – тип свечей, используемых для обновления цены.

## Как работает
1. Стратегия подписывается на выбранную серию свечей.
2. После завершения каждой свечи оценивается текущая позиция.
3. Для длинной позиции закрытие происходит при прибыли больше *TakeProfit* или убытке больше *StopLoss*.
4. Если *Trailing* больше нуля, стоп-уровень перемещается вслед за ценой; при пробое уровня позиция закрывается.
5. Короткая позиция обрабатывается по аналогичной схеме в противоположном направлении.
6. Цена входа фиксируется по первой сделке и сбрасывается при закрытии позиции.

## Примечания
- Используется высокоуровневый API и метод `Bind` для обработки свечей.
- Стратегия не открывает позиции самостоятельно, а лишь сопровождает уже открытую.
- Параметры доступны через `StrategyParam` и подходят для оптимизации.
