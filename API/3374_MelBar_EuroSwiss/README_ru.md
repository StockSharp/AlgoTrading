# Стратегия MelBar EuroSwiss
[English](README.md) | [中文](README_cn.md)

Стратегия MelBar EuroSwiss повторяет логику советника «MelBar EuroSwiss M30 500 1.85x 2Y». Она сочетает входы по пробою полос Боллинджера с выходом по индикатору Relative Vigor Index (RVI). Базовые настройки ориентированы на пару EUR/CHF и таймфрейм M30, однако все параметры могут быть оптимизированы под другие инструменты.

После закрытия каждой свечи стратегия считывает значения полос Боллинджера и RVI, рассчитанные по цене закрытия. Открытие позиции происходит, когда текущая свеча открывается за пределами канала, а предыдущая свеча открывалась внутри. Такой паттерн имитирует «разрывный» пробой оригинального эксперта: нижняя полоса отвечает за длинные позиции, верхняя — за короткие. Действующие позиции закрываются, когда запаздывающий RVI пересекает положительный или отрицательный порог, сигнализируя о затухании импульса. Дополнительно можно задать фиксированные стоп-лосс и тейк-профит в пунктах.

По умолчанию объём позиции составляет 0.2 лота, параметр `TradeVolume` позволяет гибко менять размер. Значения `StopLossPips` и `TakeProfitPips` задаются в пунктах и конвертируются в ценовое отклонение через параметр `PipSize` при запуске защиты позиции. Все расчёты выполняются только по закрытым свечам, что исключает заглядывание в будущее.

## Подробности
- **Условия входа**:
  - **Покупка**: текущая свеча открылась ниже предыдущей нижней полосы Боллинджера, а предыдущая свеча открылась выше нижней полосы двумя барами ранее.
  - **Продажа**: текущая свеча открылась выше предыдущей верхней полосы Боллинджера, а предыдущая свеча открылась ниже верхней полосы двумя барами ранее.
- **Условия выхода**:
  - **Покупка**: закрыть позицию, если историческое значение RVI превысило +`RviLevel`.
  - **Продажа**: закрыть позицию, если историческое значение RVI опустилось ниже -`RviLevel`.
- **Стопы**: опциональные стоп-лосс и тейк-профит с фиксированным пунктовым расстоянием.
- **Индикаторы**: полосы Боллинджера (`BollingerPeriod`, `BollingerDeviation`) и Relative Vigor Index (`RviPeriod`).
- **Значения по умолчанию**:
  - `TradeVolume` = 0.2 лота
  - `BollingerPeriod` = 18
  - `BollingerDeviation` = 2.75
  - `RviPeriod` = 15
  - `RviLevel` = 0.30
  - `StopLossPips` = 13
  - `TakeProfitPips` = 61
  - `PipSize` = 0.0001
  - `CandleType` = TimeSpan.FromMinutes(30)
- **Примечания**:
  - Категория: пробой с элементами разворота
  - Направление: длинные и короткие сделки
  - Таймфрейм: внутридневной (по умолчанию M30)
  - Уровень риска: средний благодаря фиксированным стопам
  - Трейлинг-стоп: по умолчанию отключен (можно добавить внешними средствами)

Эти настройки повторяют первоначальный советник и служат хорошей отправной точкой для тестирования и оптимизации в StockSharp.
