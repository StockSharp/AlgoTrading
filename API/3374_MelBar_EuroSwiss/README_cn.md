# 梅尔巴欧瑞策略
[English](README.md) | [Русский](README_ru.md)

梅尔巴欧瑞策略复刻了 “MelBar EuroSwiss M30 500 1.85x 2Y” 智能交易程序的核心思想。它通过布林带的突破信号触发入场，并使用相对活力指数（RVI）过滤离场。默认配置针对 EUR/CHF 货币对的 30 分钟周期，但所有参数都可以在 StockSharp 中进行优化以适配其他交易品种。

在每根已完成的 K 线结束后，策略会读取基于收盘价计算的布林带和 RVI 数值。当当前柱的开盘价突破布林带上下轨，而上一柱的开盘价仍位于通道内部时，即视为一个缺口式的突破机会，从而开仓。下轨信号触发多头，上轨信号触发空头。已有仓位会在滞后的 RVI 数值突破预设正、负阈值时平仓，表明行情动能出现衰竭。可选的止损和止盈使用固定点数距离，并通过可配置的 `PipSize` 换算成价格偏移。

默认手数为 0.2 手，可通过 `TradeVolume` 精细调整。`StopLossPips` 与 `TakeProfitPips` 均以点数表示，在启动时会转换为绝对价格距离并交由保护模块处理。整个策略只使用已完成的 K 线数据，避免前瞻性偏差。

## 细节
- **入场条件**：
  - **多头**：当前 K 线开盘价低于上一根布林带下轨，且上一根开盘价高于前一根的下轨。
  - **空头**：当前 K 线开盘价高于上一根布林带上轨，且上一根开盘价低于前一根的上轨。
- **离场条件**：
  - **多头**：当历史 RVI 值突破 +`RviLevel` 时平仓。
  - **空头**：当历史 RVI 值跌破 -`RviLevel` 时平仓。
- **止损/止盈**：支持固定点数的止损与止盈。
- **指标**：布林带（`BollingerPeriod`、`BollingerDeviation`）与相对活力指数（`RviPeriod`）。
- **默认参数**：
  - `TradeVolume` = 0.2 手
  - `BollingerPeriod` = 18
  - `BollingerDeviation` = 2.75
  - `RviPeriod` = 15
  - `RviLevel` = 0.30
  - `StopLossPips` = 13
  - `TakeProfitPips` = 61
  - `PipSize` = 0.0001
  - `CandleType` = TimeSpan.FromMinutes(30)
- **附注**：
  - 策略类型：突破反转
  - 方向：双向交易
  - 时间框架：默认 30 分钟
  - 风险等级：中等（固定点数风险控制）
  - 拖尾止损：默认关闭，可外部实现

上述设置忠实还原了原始 EA 的行为，是在 StockSharp 中进行前向测试或参数优化的良好起点。
