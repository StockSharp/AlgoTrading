# Hybrid Scalper Strategy

## Обзор

**Hybrid Scalper Strategy** — это алгоритм краткосрочной торговли, конвертированный из MQL4-скрипта `hybrid_Scalper.mq4`. Он построен на высокоуровневом API StockSharp и рассчитан на работу на таймфрейме 1 минута. Стратегия комбинирует несколько технических индикаторов, чтобы находить быстрые точки входа и избегать периодов слишком низкой или чрезмерной волатильности.

## Логика стратегии

1. **Фильтр тренда** – быстрая EMA (21) и медленная EMA (89) определяют направление рынка. Покупки разрешены, если быстрая EMA выше медленной, продажи — при обратном условии.
2. **Фильтр импульса** – стохастический осциллятор (5,3,3) формирует сигналы. Покупка выполняется, когда %K ниже 20 и ниже %D. Продажа выполняется, когда %K выше 80 и остаётся выше %D.
3. **Подтверждение RSI** – индекс относительной силы с периодом 7 подтверждает импульс. Для входа в лонг RSI должен быть ниже 25, для входа в шорт – выше 85.
4. **Фильтр волатильности** – полосы Боллинджера (50, отклонение 4) оценивают ширину рынка. Сделки открываются только при ширине между верхней и нижней полосами от 0.00045 до 0.00262, что исключает как слишком тихие, так и нестабильные периоды.
5. **Торговые дни** – параметры позволяют отдельно включать или отключать торговлю для каждого дня недели (понедельник–пятница).

## Параметры

| Имя | Описание |
| --- | -------- |
| `RsiPeriod` | Период индикатора RSI. |
| `EmaFastPeriod` | Период быстрой EMA для определения тренда. |
| `EmaSlowPeriod` | Период медленной EMA для определения тренда. |
| `BbPeriod` | Период полос Боллинджера. |
| `BbDeviation` | Множитель отклонения для полос Боллинджера. |
| `TradeMonday`–`TradeFriday` | Разрешение торговли в конкретные дни недели. |
| `CandleType` | Тип/таймфрейм свечей, по умолчанию 1 минута. |

## Примечания

- Стратегия использует высокоуровневый API `BindEx` для подключения нескольких индикаторов в одной подписке.
- В методе `OnStarted` вызывается `StartProtection()` для включения встроенной защиты позиций.
- Все комментарии в коде написаны на английском языке в соответствии с требованиями репозитория.

## Запуск

1. Добавьте файл стратегии в проект StockSharp.
2. Настройте подключение к рыночным данным и торговому шлюзу.
3. Скомпилируйте и запустите стратегию, убедившись, что выбранный инструмент предоставляет свечи с таймфреймом 1 минута.
4. При необходимости скорректируйте параметры через интерфейс `StrategyParam`.
