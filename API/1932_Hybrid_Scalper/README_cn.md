# Hybrid Scalper Strategy

## 概览

**Hybrid Scalper Strategy** 是从 MQL4 脚本 `hybrid_Scalper.mq4` 转换而来的短线交易算法。它基于 StockSharp 的高级 API 并默认运行在 1 分钟周期。该策略结合多种技术指标，用于捕捉快速突破机会，同时避开过低或过高的波动时期。

## 策略逻辑

1. **趋势过滤** – 通过快 EMA(21) 和慢 EMA(89) 判断市场方向。只有当快 EMA 位于慢 EMA 之上时才允许做多；做空则需要快 EMA 低于慢 EMA。
2. **动量过滤** – 使用随机指标 (5,3,3) 生成入场信号。当 %K 低于 20 且低于 %D 时触发买入；当 %K 高于 80 并高于 %D 时触发卖出。
3. **RSI 确认** – 周期为 7 的 RSI 用于确认动量。做多需要 RSI 低于 25；做空需要 RSI 高于 85。
4. **波动率过滤** – 采用布林带 (50, 偏差 4) 测量市场宽度。只有当上下轨之间的距离介于 0.00045 与 0.00262 之间时才允许交易，从而避免过于平静或极端波动的阶段。
5. **交易日控制** – 可分别设置周一至周五是否允许交易。

## 参数

| 名称 | 描述 |
| ---- | ---- |
| `RsiPeriod` | RSI 指标周期。 |
| `EmaFastPeriod` | 用于判定趋势的快 EMA 周期。 |
| `EmaSlowPeriod` | 用于判定趋势的慢 EMA 周期。 |
| `BbPeriod` | 布林带周期。 |
| `BbDeviation` | 布林带偏差倍数。 |
| `TradeMonday`–`TradeFriday` | 是否在对应的工作日启用交易。 |
| `CandleType` | 蜡烛类型/时间框架，默认 1 分钟。 |

## 说明

- 策略通过 `BindEx` 高级接口一次性绑定多个指标。
- `OnStarted` 方法中调用 `StartProtection()` 以启用内置的仓位保护功能。
- 代码中的所有注释均使用英文，符合仓库要求。

## 运行步骤

1. 将策略文件添加到 StockSharp 项目中。
2. 配置市场数据和交易连接。
3. 编译并启动策略，确保所选证券提供 1 分钟的蜡烛数据。
4. 可通过 `StrategyParam` 接口调整参数。
