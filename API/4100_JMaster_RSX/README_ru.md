# Стратегия JMaster RSX

## Обзор
JMaster RSX — это прямая конвертация советника MetaTrader 4 **jMasterRSXv1**. Стратегия сравнивает значения осциллятора Jurik RSX на быстром (M5) и медленном (M30) таймфреймах и открывает позицию, когда направление старшего периода подтверждает перекупленность или перепроданность младшего. Все вычисления выполняются на открытии новой свечи, используя полностью завершённые бары, как и в оригинальном коде с обращением к значениям `shift = 1`.

## Индикаторы и данные
- **Jurik RSX на быстром таймфрейме (длина = `RsxLength`)** — рассчитывается по свечам `FastCandleType` (по умолчанию 5 минут). Встроенный индикатор полностью повторяет рекурсивный фильтр из файла `rsx.mq4`.
- **Jurik RSX на медленном таймфрейме** — вычисляется на серии `SlowCandleType` (по умолчанию 30 минут) с тем же периодом. Полученное значение откладывается на один бар перед использованием, чтобы воспроизвести поведение `shift` в MT4.

## Логика входа
1. Дождаться закрытия очередной быстрой свечи.
2. Взять предыдущее значение быстрого RSX и предыдущее (на один бар старое) значение медленного RSX.
3. **Условия для покупки:** медленный RSX выше `MidlineLevel` (по умолчанию 50), а быстрый RSX ниже `OversoldLevel` (по умолчанию 25).
4. **Условия для продажи:** медленный RSX ниже `MidlineLevel`, а быстрый RSX выше `OverboughtLevel` (по умолчанию 75).
5. Если позиция отсутствует, открыть рыночный ордер объёмом `Volume`.

## Логика выхода
- Закрыть длинную позицию, как только выполняются условия для короткой сделки (медленный RSX ниже середины, быстрый RSX выше уровня перекупленности).
- Закрыть короткую позицию, как только выполняются условия для длинной сделки.
- Стратегия не наращивает позиции: перед новым входом позиция всегда закрывается.

## Управление объёмом
- Ордеры отправляются с фиксированным объёмом `Volume` (по умолчанию `0.1`).
- Дополнительные алгоритмы управления капиталом не реализованы, что соответствует поведению исходного советника при `DecreaseFactor = 0`.

## Параметры
| Имя | Описание | Значение по умолчанию |
| --- | -------- | ---------------------- |
| `FastCandleType` | Тип свечей для быстрого RSX | `M5` |
| `SlowCandleType` | Тип свечей для медленного RSX | `M30` |
| `RsxLength` | Общий период обоих RSX | `14` |
| `OverboughtLevel` | Порог перекупленности для входа в шорт | `75` |
| `OversoldLevel` | Порог перепроданности для входа в лонг | `25` |
| `MidlineLevel` | Средняя линия медленного RSX | `50` |
| `Volume` | Объём рыночных заявок | `0.1` |

## Рекомендации по использованию
- Убедитесь, что поток данных содержит завершённые свечи для обоих таймфреймов, иначе сигналы не появятся.
- Задержка на один бар по медленному RSX приводит к тому, что развороты старшего периода отражаются с задержкой на одну быструю свечу — это повторяет оригинальное поведение и исключает подглядывание в будущее.
- Встроенный RSX возвращает значения в диапазоне 0–100, поэтому его легко комбинировать с другими осцилляторами.
