# Стратегия SpectrAnalysis WPR

Стратегия создана на основе MQL5 эксперта *Exp_i-SpectrAnalysis_WPR*.
Она анализирует направление индикатора Williams %R и открывает или закрывает
позиции при разворотах индикатора.

## Логика

1. Подписка на свечи выбранного таймфрейма.
2. Расчёт Williams %R с заданным периодом.
3. Сохранение двух последних значений индикатора для определения направления.
4. При развороте вверх и разрешённых покупках:
   - При необходимости закрыть короткую позицию.
   - Открыть новую длинную позицию.
5. При развороте вниз и разрешённых продажах:
   - При необходимости закрыть длинную позицию.
   - Открыть новую короткую позицию.

Обрабатываются только завершённые свечи. Стратегия использует высокоуровневые
привязки и не выполняет сложные запросы истории.

## Параметры

| Название | Описание | Значение по умолчанию |
| --- | --- | --- |
| `Candle Type` | Таймфрейм используемых свечей | `4h` |
| `WPR Period` | Период индикатора Williams %R | `13` |
| `Allow Long Entry` | Разрешить открытие длинных позиций | `true` |
| `Allow Short Entry` | Разрешить открытие коротких позиций | `true` |
| `Allow Long Exit` | Разрешить закрытие длинных позиций | `true` |
| `Allow Short Exit` | Разрешить закрытие коротких позиций | `true` |

## Примечания

Оригинальная версия на MQL применяла спектральный анализ к значению Williams %R.
В данной C# реализации используется стандартный индикатор Williams %R, а логика
сигналов воспроизводится отслеживанием последних значений индикатора.
