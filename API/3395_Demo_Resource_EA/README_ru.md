# Demo Resource EA (MQL #293)

## Обзор

Demo Resource EA — это перевод оригинального примера MetaTrader, демонстрирующего загрузку графических ресурсов в кнопки на графике. Версия на StockSharp повторяет идею при помощи текстового значка валюты, который выводится на графике в нужной точке. Стратегия не генерирует сделок и служит исключительно для иллюстрации работы с аннотациями графика.

После запуска стратегия подписывается на выбранные свечи, создаёт область графика и ожидает первую завершённую свечу. Когда свеча закрывается, на график наносится символ евро («€») либо доллара («$») рядом со свечой, что имитирует состояния нажата/отпущена у исходной кнопки. Переключение символа доступно в любой момент с помощью булевого параметра.

## Логика работы

1. Подписаться на указанный тип свечей и подготовить область графика для отображения.
2. На первой завершённой свече вычислить целевое время и цену, применив горизонтальный и вертикальный сдвиги из параметров.
3. Нарисовать выбранный валютный символ в рассчитанной точке через вспомогательный метод `DrawText`.
4. Отслеживать изменение параметра выбора символа; при переключении перерисовывать подпись, чтобы показать новое состояние кнопки.

Так как стратегия демонстрационная, позиция не изменяется и торговые поручения не выставляются.

## Параметры

| Имя | Описание |
| --- | --- |
| **Candle Type** | Тип свечей, относительно которых размещается подпись. |
| **Price Offset** | Вертикальный сдвиг, добавляемый к цене закрытия свечи перед выводом символа. |
| **Time Offset** | Горизонтальный сдвиг, прибавляемый ко времени открытия свечи для смещения подписи. |
| **Use Dollar Icon** | При включении выводится знак доллара, иначе — символ евро. |

## Рекомендации по использованию

- Сдвиги позволяют расположить символ вдали от тела свечи, аналогично параметрам X/Y расстояний в MQL.
- Повторный вызов отрисовки при смене символа нормален и безопасен для графика.
- Стратегия не торгует, поэтому её можно запускать на любом инструменте для демонстрации или прототипирования интерфейса.
