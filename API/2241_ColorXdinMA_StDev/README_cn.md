# 带标准差的 Color XdinMA 策略

该策略是 MQL5 专家 **Exp_ColorXdinMA_StDev** 的 StockSharp 移植版。
它将两个移动平均线组合成名为 `XdinMA` 的单一曲线，并跟踪其随时间的变化。
当前与前一个 `XdinMA` 值之差与其近期标准差的倍数进行比较。
当该差值超过正阈值时开多仓，低于负阈值时开空仓。

## 工作原理

1. 计算两个简单移动平均线：
   - **Main MA** – 由 `MainLength` 定义的周期。
   - **Plus MA** – 由 `PlusLength` 定义的周期。
2. 构建自定义线 `XdinMA = 2 * MainMA - PlusMA`。
3. 将连续两根 K 线之间的 `XdinMA` 变化传递给周期为 `StdPeriod` 的标准差指标。
4. 当变化值大于 `K1 * StdDev` 时下达买入订单；当变化值小于 `-K1 * StdDev` 时下达卖出订单，开仓前会关闭已有的反向仓位。

## 参数

| 参数        | 说明                                   |
|-------------|----------------------------------------|
| `MainLength`| 主移动平均线的周期                     |
| `PlusLength`| 次移动平均线的周期                     |
| `StdPeriod` | 计算标准差所使用的柱数                 |
| `K1`        | 偏差阈值的倍数                         |
| `K2`        | 预留，用于未来扩展第二个过滤器         |

所有参数均通过 `StrategyParam` 暴露，可在界面中修改或用于优化。

## 注意事项

- 仅处理已完成的 K 线。
- 策略使用市价单，不包含止损或止盈逻辑。
- 图表会显示移动平均线和成交记录，方便视觉分析。
