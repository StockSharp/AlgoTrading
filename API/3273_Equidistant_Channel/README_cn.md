# 等距通道策略

## 概述
**Equidistant Channel Strategy** 是将原始 MQL4 «Equidistant Channel» 专家顾问移植到 StockSharp 高层 API 的版本。策略使用 MACD 线与信号线的交叉作为入场信号，并通过布林带触发、保本处理以及基于货币的浮动盈利追踪来管理仓位。

当 MACD 线向上穿越信号线时建立多头仓位，向下穿越时建立空头仓位。持仓期间，策略会在价格触及布林带、达到设定的绝对盈利/百分比盈利目标或回撤超过设定的追踪阈值时平仓。保本模式会在浮盈达到指定点数后将保护价移动到入场价附近。

## 指标
- **MACD (12, 26, 9)**：用于检测交叉信号。
- **Bollinger Bands (20, 2)**：当收盘价触及上轨或下轨时触发退出。

## 仓位管理
- 通过 `StartProtection` 配置的点数止损、止盈和追踪止损。
- 使用合约的 `PriceStep` 与 `StepPrice` 计算浮动盈亏，以实现基于货币的止盈和追踪逻辑。
- 百分比止盈以策略启动时的账户权益为基准。
- 保本模式使用价格步长定义触发条件与偏移量，重现原版 EA 的行为。

## 参数
详细参数说明见英文 README，主要包括：
- 交易量与蜡烛类型。
- MACD 与布林带的周期与偏差。
- 点数止损、止盈与追踪止损距离。
- 货币止盈、百分比止盈与追踪回撤设置。
- 保本触发点与偏移量。

## 说明
- 请确保标的证券提供有效的 `PriceStep` 和 `StepPrice`，以便正确计算货币金额。
- 按照仓库要求，策略代码中的所有注释均使用英文撰写。
- 仅提供 C# 版本，实现目录中未创建 Python 版本及其文件夹。
