# Стратегия Equidistant Channel

## Описание
**Equidistant Channel Strategy** — порт оригинального советника MQL4 «Equidistant Channel» на высокоуровневый API StockSharp. Стратегия отслеживает пересечения линии MACD и сигнальной линии для открытия сделок и управляет позициями с помощью касаний полос Боллинджера, режима безубытка и денежных тралений прибыли.

При пересечении линии MACD выше сигнальной открывается длинная позиция, при пересечении ниже — короткая. Пока позиция активна, стратегия контролирует выход по касанию полос Боллинджера, по достижении заданной прибыли в валюте или процента от стартового капитала, а также при откате от зафиксированного максимума прибыли на заданную величину. Дополнительно реализован режим переноса стоп-лосса в безубыток после прохождения заданного количества пунктов.

## Индикаторы
- **MACD (12, 26, 9)** — источник торговых сигналов.
- **Bollinger Bands (20, 2)** — уровни принудительного закрытия при касании верхней или нижней полосы.

## Управление позицией
- Опциональные стоп-лосс, тейк-профит и трейлинг-стоп в пунктах через `StartProtection`.
- Денежные цели и трейлинг используют параметры инструмента `PriceStep` и `StepPrice` для расчёта плавающей прибыли.
- Процентная цель вычисляется от первоначальной стоимости портфеля.
- Режим безубытка повторяет логику оригинального эксперта и использует шаги цены для триггера и смещения.

## Параметры
Подробное описание параметров приведено в английской версии README. Ключевые настройки повторяют параметры советника MQL:
- Объём ордеров.
- Периоды MACD и Bollinger Bands.
- Расстояния стоп-лосса, тейк-профита и трейлинг-стопа в пунктах.
- Денежные и процентные цели закрытия.
- Порог активации трейлинга и величина допустимого отката прибыли.
- Настройки безубытка (триггер и смещение в пунктах).

## Особенности
- Для корректного расчёта денежных величин инструмент должен предоставлять шаг цены и стоимость шага.
- Вся документация и комментарии в коде выполнены на английском языке в соответствии с требованиями репозитория.
- Папка с реализацией содержит только C#-версию, Python-реализация не создавалась по условиям задачи.
