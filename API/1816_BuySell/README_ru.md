# Стратегия BuySell
[English](README.md) | [中文](README_cn.md)

Стратегия повторяет эксперта **BuySell** для MetaTrader и объединяет скользящую среднюю с индикатором Average True Range (ATR) для определения разворотов тренда.
Когда скользящая средняя начинает расти, рынок считается бычьим; когда она падает – медвежьим.
Сделка открывается только если предыдущий бар был в противоположном состоянии, что подтверждает разворот.
Стоп‑лосс и тейк‑профит задаются в ценовых пунктах.

## Детали

- **Логика входа**
  - **Покупка**: скользящая средняя переходит из снижения в рост и предыдущий бар был медвежьим.
  - **Продажа**: скользящая средняя переходит из роста в снижение и предыдущий бар был бычьим.
- **Логика выхода**
  - **Покупка**: скользящая средняя разворачивается вниз или срабатывают стоп‑лосс/тейк‑профит.
  - **Продажа**: скользящая средняя разворачивается вверх или срабатывают стоп‑лосс/тейк‑профит.
- **Индикаторы**: простая скользящая средняя (SMA) и ATR.
- **Стопы**: присутствуют стоп‑лосс и тейк‑профит в пунктах.
- **Разрешения**: отдельные флаги для открытия/закрытия длинных и коротких позиций.
- **Стандартный таймфрейм**: свечи H4.

## Параметры

| Название | По умолчанию | Описание |
| -------- | ------------ | -------- |
| `MaPeriod` | 14 | Период скользящей средней. |
| `AtrPeriod` | 60 | Период ATR. |
| `StopLoss` | 1000 | Стоп‑лосс в ценовых пунктах. |
| `TakeProfit` | 2000 | Тейк‑профит в ценовых пунктах. |
| `AllowLongEntry` | true | Разрешение на открытие длинных позиций. |
| `AllowShortEntry` | true | Разрешение на открытие коротких позиций. |
| `AllowLongExit` | true | Разрешение на закрытие длинных позиций. |
| `AllowShortExit` | true | Разрешение на закрытие коротких позиций. |
| `CandleType` | H4 | Таймфрейм для расчётов. |

## Использование

1. Добавьте стратегию в своё решение StockSharp.
2. Настройте параметры при необходимости.
3. Запустите стратегию в режиме реальной торговли или тестирования.

Подход подходит для рынков, где развороты тренда сопровождаются изменением волатильности, отражённым ATR.
