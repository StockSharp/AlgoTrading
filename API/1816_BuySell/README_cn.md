# BuySell 策略
[English](README.md) | [Русский](README_ru.md)

该策略模拟 MetaTrader 中的 **BuySell** 专家。它结合移动平均线和平均真实波幅 (ATR) 来识别趋势反转。
当移动平均线转为向上时视为多头趋势，转为向下时视为空头趋势。
只有当上一根K线处于相反状态时才开仓，以确认趋势反转。止损和止盈以价格点表示。

## 细节

- **入场逻辑**
  - **做多**：移动平均线由下降转为上升，且上一根K线为空头。
  - **做空**：移动平均线由上升转为下降，且上一根K线为多头。
- **出场逻辑**
  - **多头**：移动平均线转为下降或触发止损/止盈。
  - **空头**：移动平均线转为上升或触发止损/止盈。
- **指标**：简单移动平均线 (SMA) 和 ATR。
- **止损**：包含价格点形式的止损和止盈。
- **权限**：分别控制多空开仓与平仓。
- **默认周期**：4 小时K线。

## 参数

| 名称 | 默认值 | 说明 |
| ---- | ------ | ---- |
| `MaPeriod` | 14 | 移动平均线周期。 |
| `AtrPeriod` | 60 | ATR 周期。 |
| `StopLoss` | 1000 | 止损点数。 |
| `TakeProfit` | 2000 | 止盈点数。 |
| `AllowLongEntry` | true | 允许开多。 |
| `AllowShortEntry` | true | 允许开空。 |
| `AllowLongExit` | true | 允许平多。 |
| `AllowShortExit` | true | 允许平空。 |
| `CandleType` | H4 | 计算所用周期。 |

## 使用方法

1. 将策略添加到您的 StockSharp 项目中。
2. 根据需要调整参数。
3. 在实盘或回测模式下运行，交易通过 `BuyMarket` 和 `SellMarket` 完成。

该方法适用于趋势反转伴随 ATR 波动变化的市场环境。
