# Стратегия закрытия по прибыли

Эта стратегия оценивает текущую плущую прибыль или убыток по открытым позициям и закрывает их при достижении заданных граничных значений. Пригодна как элемент архитектуры риск-менеджмента.

## Принцип работы
- Подписывается на свечи, чтобы получать актуальную цену закрытия.
- Вычисляет плавающую прибыль на основе средней цены входа и текущей цены.
- Когда прибыль превышает `ProfitToClose` или убыток падает ниже `-LossToClose`, все позиции закрываются.
- Прежде чем закрывать позиции, можно отменить неисполненные заказы.
- По параметру `AllSymbols` можно выбрать, закрывать ли все позиции стратегии или только текущую пару.

## Параметры
- **UseProfitToClose** – включает закрытие по прибыли (по умолчанию `true`).
- **ProfitToClose** – прибыль в денежных единицах для закрытия (по умолчанию `100`).
- **UseLossToClose** – включает закрытие по убытку (по умолчанию `false`).
- **LossToClose** – убыток в денежных единицах для закрытия (по умолчанию `100`).
- **AllSymbols** – при `true` закрывает все символы стратегии (по умолчанию `true`).
- **PendingOrders** – при `true` отменяет все неисполненные заказы (по умолчанию `true`).
- **CandleType** – тип свечей для оценки цены (по умолчанию `1m`).

## Замечания
Стратегия не открывает сделки изнутри; ее следует использовать в связке с другими системами, которые обеспечивают входы на рынок.
