# Стратегия MAMACD No Volatility

## Описание
MAMACD No Volatility — прямой порт советника MetaTrader 4 `MAMACD_novlt.mq4`. Стратегия объединяет три скользящие средние, рассчитанные по минимумам и ценам закрытия свечей, с фильтром импульса MACD. Сначала быстрая EMA должна опуститься ниже (для покупки) или подняться выше (для продажи) двух LWMA, построенных по минимумам. После этого формируется «заряженный» сигнал, который исполняется только тогда, когда основная линия MACD подтверждает изменение импульса.

## Индикаторы
- **Быстрая EMA** (`FastEmaPeriod`) по ценам закрытия.
- **LWMA 1** (`FirstLowWmaPeriod`) по минимумам свечей.
- **LWMA 2** (`SecondLowWmaPeriod`) по минимумам свечей.
- **Основная линия MACD** с быстрым периодом `FastSignalEmaPeriod` и медленным периодом `SlowEmaPeriod`.

Все индикаторы работают на таймфрейме, задаваемом параметром `CandleType` (по умолчанию 5-минутные свечи).

## Параметры
| Параметр | Описание | Значение по умолчанию |
| --- | --- | --- |
| `FirstLowWmaPeriod` | Период первой LWMA по минимумам. | 85 |
| `SecondLowWmaPeriod` | Период второй LWMA по минимумам. | 75 |
| `FastEmaPeriod` | Период быстрой EMA по ценам закрытия. | 5 |
| `SlowEmaPeriod` | Медленный период для расчёта MACD. | 26 |
| `FastSignalEmaPeriod` | Быстрый период для расчёта MACD. | 15 |
| `StopLossPoints` | Размер стоп-лосса в шагах цены (0 — без стоп-лосса). | 15 |
| `TakeProfitPoints` | Размер тейк-профита в шагах цены (0 — без тейк-профита). | 15 |
| `TradeVolume` | Объём заявки при входе в рынок. | 0.1 |
| `CandleType` | Таймфрейм для расчёта индикаторов. | 5 минут |

## Правила торговли
1. **Подготовка покупки**: быстрая EMA находится ниже обеих LWMA.
2. **Подготовка продажи**: быстрая EMA находится выше обеих LWMA.
3. **Вход в лонг**:
   - быстрая EMA вновь поднимается выше обеих LWMA,
   - ранее был подготовлен сигнал на покупку,
   - основная линия MACD положительна или выросла относительно предыдущего значения,
   - текущая позиция не лонговая.
4. **Вход в шорт**:
   - быстрая EMA вновь опускается ниже обеих LWMA,
   - ранее был подготовлен сигнал на продажу,
   - основная линия MACD отрицательна или снизилась относительно предыдущего значения,
   - текущая позиция не шортовая.
5. **Управление рисками**: стоп-лосс и тейк-профит задаются через встроенную защиту. Если параметр равен нулю, соответствующий уровень не используется.

Выход из позиции осуществляется сработавшими защитными уровнями или вручную — дополнительных условий закрытия стратегия не задаёт.

## Примечания
- Проверка MACD точно повторяет оригинальную логику: для покупок линия должна быть выше нуля или расти, для продаж — ниже нуля или снижаться.
- LWMA рассчитываются по минимумам свечей, как и в исходном советнике.
- Параметр `TradeVolume` напрямую определяет объём каждой рыночной сделки, что соответствует поведению MQL-версии.
