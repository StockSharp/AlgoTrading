# MaDelta策略
[English](README.md) | [Русский](README_ru.md)

MaDelta策略计算快慢移动平均线之间的差值。该差值先乘以系数再立方，形成振荡值`px`。两个由`Delta`（以点数表示）间隔的动态阈值跟踪`px`的最新高点和低点。当`px`突破上阈值时，策略转为做多；当`px`跌破下阈值时，策略转为做空。若当前持仓与新信号方向相反，先平仓再按信号方向开仓。

该方法能够捕捉到两条均线距离快速扩张时的强劲动能。立方运算放大了大的变化并过滤小幅波动。参数`Delta`定义了`px`在确认反转前需要移动的距离，从而减少震荡行情中的虚假信号。

## 细节

- **入场条件**：
  - **做多**：`px > hi` 设置 `trade = 1`，在空仓时开多。
  - **做空**：`px < lo` 设置 `trade = -1`，在空仓时开空。
- **反向逻辑**：
  - 做多信号出现且持有空单时，先用市价买单平空再开多。
  - 做空信号出现且持有多单时，先用市价卖单平多再开空。
- **指标**：
  - 快速移动平均线（SMA），周期为`FastMaPeriod`。
  - 慢速移动平均线（EMA），周期为`SlowMaPeriod`。
  - 振荡器：`px = ((Multiplier * 0.1) * (FastMA - SlowMA))^3`。
- **参数**：
  - `Delta` – 高低通道的宽度（点）。
  - `Multiplier` – 在立方之前对均线差值进行缩放。
  - `FastMaPeriod` – 快速SMA的周期。
  - `SlowMaPeriod` – 慢速EMA的周期。
  - `Volume` – 入场订单量。
  - `CandleType` – 处理的K线周期。
- **其他说明**：
  - 仅处理已完成的K线。
  - 无固定止损或止盈，反向信号时反手。
  - 使用高级API绑定指标并自动绘图。
