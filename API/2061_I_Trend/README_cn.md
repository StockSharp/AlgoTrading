# I Trend 策略

## 概述

**I Trend** 策略来源于 MQL5 专家 `Exp_i_Trend`，属于趋势跟随型算法。该策略结合移动平均线和布林带来识别动量变化，当自定义的 *iTrend* 数值与信号线发生交叉时执行交易。

## 工作原理

1. **指标初始化**
   - 计算可调周期的指数移动平均线 (EMA)。
   - 构建具有指定周期和标准差的布林带。
   - *iTrend* 值定义为选定价格与所选布林带线（上轨、下轨或中轨）之间的差值。
   - 信号线公式：`2 * MA - (High + Low)`。
2. **信号生成**
   - 当 iTrend **向上突破** 信号线时，策略平掉空头仓位并开多头。
   - 当 iTrend **向下跌破** 信号线时，策略平掉多头仓位并开空头。
3. **订单执行**
   - 所有进出场均按市价成交。
   - 仓位大小由参数 `Volume` 控制。

## 参数

| 名称 | 说明 |
|------|------|
| `MaPeriod` | 移动平均线周期。 |
| `BbPeriod` | 布林带周期。 |
| `BbDeviation` | 布林带标准差。 |
| `PriceType` | 计算 iTrend 使用的价格类型（收盘价、开盘价、最高价、最低价、中价、典型价等）。 |
| `BbMode` | 使用的布林带线（上轨、下轨或中轨）。 |
| `CandleType` | 策略使用的K线时间框架。 |
| `Volume` | 下单手数。 |

## 注意事项

- 策略仅处理已完成的K线，未完成的K线会被忽略。
- 本示例仅供学习使用，实际交易前需根据市场情况调整。
