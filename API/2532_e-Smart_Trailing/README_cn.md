# e-Smart Trailing
[English](README.md) | [Русский](README_ru.md)

e-Smart Trailing 策略重现了 MetaTrader 中原始 "e-Smart Trailing" 专家的移动止损工具。
策略本身不会产生入场信号，而是专注于管理已持有的仓位：当行情向持仓方向移动时，按固定点数自动
提升保护性价位，充分利用 StockSharp 的高级 API 完成与 MQL 程序相同的行为。

## 核心思路

* 订阅主交易品种的逐笔成交，以便实时响应价格变化。
* 当多头仓位出现盈利时，将保护位放在最新成交价下方指定的点数距离，只要价格至少再上移一个
  追踪步长，就把止损推高。
* 空头仓位采用镜像逻辑：保护位放在最新成交价上方的固定距离，价格每下跌一个追踪步长就向下调整。
* 一旦价格触及或突破该水平，策略立即发送市价单平掉剩余仓位。
* 当仓位回到空仓状态时，所有追踪数据都会被清空，以便下一笔交易重新计算。

## 参数

| 参数 | 说明 |
|------|------|
| **Trailing Stop (pips)** | 当前价格与追踪止损之间的距离，单位为点；策略会自动识别 3 位或 5 位小数报价并给出正确的点值。 |
| **Trailing Step (pips)** | 在再次移动止损前，价格至少需要向有利方向移动的点数。 |

## 使用提示

* 建议与其他 StockSharp 策略或手工交易结合使用，由 e-Smart Trailing 负责离场与风险管理。
* 只有在浮动盈亏不为负时才会移动止损，这一点与原版专家顾问在回撤期间暂停追踪的逻辑一致。
* 平仓通过市价单执行，不会在交易所挂出真实的止损委托。
