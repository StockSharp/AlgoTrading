# Reverse Day Fractal Strategy

## 概述
Reverse Day Fractal 是一种价格行为策略，专注于捕捉突破后的快速反转。算法会分析最近三根已完成的 K 线。当当前 K 线突破前两根 K 线的极值并在收盘时反向收回，该形态被视为假突破，策略将在反方向开仓。止盈、止损和移动止损均以价格步长为单位进行配置。

## 交易逻辑
- **多头条件**：
  - 当前完成的 K 线最低价低于前两根 K 线的最低价；
  - 当前 K 线收盘价高于开盘价，显示价格从新低反弹；
  - 满足条件且允许交易时开多仓，必要时先平掉已有空仓。
- **空头条件**：
  - 当前完成的 K 线最高价高于前两根 K 线的最高价；
  - 当前 K 线收盘价低于开盘价，显示价格从新高回落；
  - 满足条件时开空仓，必要时先平掉已有多仓。
- **持仓控制**：默认仅允许持有一笔仓位。若关闭该限制，策略会通过增加交易量来反向持仓。
- **风险控制**：启动后调用 `StartProtection`，按照设定的点数距离应用止盈、止损与移动止损。启用移动止损时，保护性止损会按设定的步长逐步跟随价格。

## 参数
- `Trade Volume` – 新订单的交易量。
- `Take Profit` – 以价格步长表示的止盈距离，0 表示关闭。
- `Stop Loss` – 以价格步长表示的止损距离，0 表示关闭。
- `Trailing Stop` – 以价格步长表示的移动止损距离，0 表示关闭。
- `Trailing Step` – 每次调整移动止损所需的最小价格步数。
- `Only One Position` – 启用后在持仓未平之前忽略新的信号。
- `Candle Type` – 用于计算的 K 线类型（默认 1 小时周期）。

## 说明
- 仅对已完成的 K 线产生信号。
- 策略需要至少两根完成的 K 线来填充历史极值，之后才能触发首个信号。
- 默认参数与原始 MQL4 策略一致：0.01 手、20 点止损、10 点止盈、25 点移动止损以及 5 点移动步长。
