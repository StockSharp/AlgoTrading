# Стратегия Forex Profit
[English](README.md) | [中文](README_cn.md)

Перевод советника MetaTrader «Forex Profit». Стратегия ожидает совпадения трёх экспоненциальных средних и подтверждения от Parabolic SAR, после чего входит в рынок по цене закрытия сформированной свечи. Управление рисками включает несимметричные уровни стоп-лосса и тейк-профита, трейлинг-стоп и дополнительную фиксацию прибыли по развороту EMA.

## Детали

- **Условия входа**:
  - Лонг: `EMA10` выше `EMA25` и `EMA50`, значение `EMA10` на предыдущей свече не выше `EMA50`, Parabolic SAR ниже прошлого закрытия.
  - Шорт: `EMA10` ниже `EMA25` и `EMA50`, значение `EMA10` на предыдущей свече не ниже `EMA50`, Parabolic SAR выше прошлого закрытия.
  - Сигналы проверяются только один раз для каждой завершённой свечи.
- **Условия выхода**:
  - Закрыть лонг, когда `EMA10` опускается ниже своего прошлого значения *и* текущая прибыль превышает `ProfitThreshold`.
  - Закрыть шорт, когда `EMA10` поднимается выше прошлого значения *и* текущая прибыль превышает `ProfitThreshold`.
  - Стоп-лосс и тейк-профит задаются при открытии сделки (разные дистанции для лонга и шорта).
  - Трейлинг-стоп активируется после движения цены на `TrailingStopPoints` от входа и сдвигается шагами `TrailingStepPoints`.
- **Стопы**: Да — фиксированный стоп-лосс, фиксированный тейк-профит и трейлинг.
- **Значения по умолчанию**:
  - `FastEmaLength` = 10
  - `MediumEmaLength` = 25
  - `SlowEmaLength` = 50
  - `TakeProfitBuyPoints` = 55
  - `TakeProfitSellPoints` = 65
  - `StopLossBuyPoints` = 60
  - `StopLossSellPoints` = 85
  - `TrailingStopPoints` = 74
  - `TrailingStepPoints` = 5
  - `ProfitThreshold` = 10
  - `SarAcceleration` = 0.02
  - `SarMaxAcceleration` = 0.2
  - `Volume` = 1
  - `CandleType` = таймфрейм 1 час
- **Дополнительные замечания**:
  - Расстояния стопов и целей задаются в шагах цены инструмента и автоматически переводятся с учётом тика.
  - Закрытия по прибыли рассчитываются от общего результата позиции (с учётом объёма) в валюте счёта через преобразование тиковой стоимости.
  - Трейлинг поддерживает стоп вслед за ценой без перескоков меньше указанного шага.
- **Фильтры**:
  - Категория: Trend following
  - Направление: Лонг и Шорт
  - Индикаторы: EMA, Parabolic SAR
  - Стопы: Да (фиксированные + трейлинг)
  - Сложность: Средняя
  - Таймфрейм: Настраиваемый (по умолчанию 1 час)
  - Сезонность: Нет
  - Нейросети: Нет
  - Дивергенция: Нет
  - Риск: Средний
