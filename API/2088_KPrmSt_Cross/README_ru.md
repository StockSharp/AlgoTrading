# Стратегия KPrmSt Cross

## Обзор
Стратегия KPrmSt Cross является портом эксперта MetaTrader 5 `exp_kprmst.mq5`. В ней используется осциллятор типа Stochastic (KPrmSt) для поиска разворотов при пересечении основной и сигнальной линий.

Стратегия подписывается на свечи выбранного таймфрейма и рассчитывает индикатор `Stochastic` (используется как приближённая реализация KPrmSt). Когда линия %K опускается ниже линии %D, открывается длинная позиция, а при обратном пересечении — короткая. При наличии противоположных позиций происходит их реверс.

## Параметры
- `Candle Type` – таймфрейм свечей.
- `K Period` – число баров для основной линии.
- `D Period` – период сглаживания сигнальной линии.
- `Slowing` – дополнительное сглаживание %K.
- `Stop Loss` – защитный стоп в единицах цены. 0 отключает.
- `Take Profit` – фиксированный профит в единицах цены. 0 отключает.

## Логика торговли
1. Обрабатываются только завершённые свечи.
2. Значения осциллятора сохраняются для поиска пересечений.
3. Если %K переходит ниже %D после нахождения выше неё, открывается покупка или закрывается продажа.
4. Если %K переходит выше %D после нахождения ниже неё, открывается продажа или закрывается покупка.
5. Стоп‑лосс и тейк‑профит (при задании) закрывают позицию при достижении уровней.

## Примечания
- Индикатор KPrmSt из оригинала приближается стандартным индикатором `Stochastic` StockSharp.
- Опции управления капиталом оригинала не реализованы.
- Для работы стратегии требуется поток рыночных данных и доступ к торговому шлюзу, поддерживаемому StockSharp.
