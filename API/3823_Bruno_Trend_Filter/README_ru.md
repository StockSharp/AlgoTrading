# Стратегия Bruno Trend

## Обзор

Bruno Trend Strategy — это порт MetaTrader-советника «Bruno_v1» на платформу StockSharp. Стратегия работает на 30-минутных свечах и ориентируется на согласованные бычьи сигналы нескольких классических трендовых и осцилляторных индикаторов. Как и оригинальный код, открываются только длинные позиции.

## Торговая логика

1. **Таймфрейм**: 30 минут.
2. **Индикаторы**:
   - Простая скользящая средняя (SMA) с периодом 4 — краткосрочный импульс.
   - Экспоненциальные скользящие средние (EMA) с периодами 8 и 21 — определяют направление тренда.
   - Индекс среднего направленного движения (ADX) с периодом 13 — подтверждает силу тренда через +DI и -DI.
   - Стохастик с параметрами %K=21, %D=3, замедление=3 — контролирует импульс и избегает перекупленности.
   - MACD (13, 34, 8) — сравнение гистограммы и сигнальной линии.
   - Параболический SAR со шагом 0.055 и максимумом 0.21 — проверка ускорения тренда и основа для выхода.
3. **Условия входа**:
   - EMA(8) должна находиться выше EMA(21).
   - Фильтр ADX: +DI больше -DI и превышает уровень 20.
   - Стохастик: %K выше %D и меньше 80.
   - MACD: гистограмма выше нуля и выше сигнальной линии.
   - Parabolic SAR растёт (текущее значение выше предыдущего).
   - Текущая позиция должна быть нулевой или короткой; если открыта короткая, она закрывается перед покупкой.
4. **Условия выхода**:
   - Длинная позиция закрывается, когда закрытие предыдущей свечи опускается ниже предыдущего значения Parabolic SAR.

## Управление рисками

- Объём по умолчанию: 0.1 лота.
- `StartProtection` повторяет метатрейдеровские уровни: стоп-лосс 30 пунктов и тейк-профит 50 пунктов. Трейлинг-стоп отключён для сохранения поведения оригинала.

## Дополнительные замечания

- В MQL-скрипте условия для шорта были фактически выключены; порт сохраняет это поведение.
- Все расчёты индикаторов выполняются через высокоуровневый API StockSharp, что избавляет от ручного буферирования и соответствует требованиям проекта.
