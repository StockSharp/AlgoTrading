# Стратегия "Линейная регрессия с триггером"

## Обзор
Стратегия использует индикатор наклона линейной регрессии и производную от него триггерную линию для определения смены тенденции. Когда триггерная линия пересекает линию наклона снизу вверх, открывается длинная позиция. При пересечении сверху вниз открывается короткая позиция. При появлении противоположного сигнала существующая позиция закрывается. Подход основан на оригинальной MQL5‑стратегии «Exp_LinearRegSlopeV2».

## Логика индикаторов
1. **Наклон линейной регрессии** рассчитывается по ценам закрытия свечей за настраиваемый период.
2. **Триггерная линия** вычисляется по формуле `2 * slope - slope[Shift]`, где `slope[Shift]` — значение наклона несколько баров назад.
3. Пересечения триггерной и основной линий служат торговыми сигналами.

## Правила торговли
- **Вход в покупку:** триггер пересекает наклон снизу вверх, а длинные сделки разрешены.
- **Вход в продажу:** триггер пересекает наклон сверху вниз, а короткие сделки разрешены.
- **Выход из покупки:** наклон поднимается выше триггера.
- **Выход из продажи:** триггер поднимается выше наклона.

## Параметры
- `SlopeLength` – период расчёта наклона линейной регрессии.
- `TriggerShift` – количество баров, используемых при вычислении триггера.
- `EnableLong` – разрешить длинные сделки.
- `EnableShort` – разрешить короткие сделки.
- `TakeProfitPercent` – тейк‑профит в процентах от цены входа.
- `StopLossPercent` – стоп‑лосс в процентах от цены входа.
- `CandleType` – таймфрейм свечей, используемых стратегией.

## Примечания
- Стратегия работает только на завершённых свечах.
- `StartProtection` задаёт фиксированные уровни тейк‑профита и стоп‑лосса в процентах.
- Необходимо обеспечить достаточный объём истории для формирования индикатора.
