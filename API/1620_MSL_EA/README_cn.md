# MSL EA 策略

## 概述

MSL EA 是一种突破策略，利用最近的局部极值构建动态支撑和阻力线。该算法捕捉短期分形高点和低点，根据设定的点距偏移，并在价格收盘突破这些水平时开仓。本版本由原始 MQL4 实现转换而来。

## 工作原理

1. 监控每根 K 线的最高价和最低价以寻找局部极值。
2. 在最近的 *Level* 个极值中选取最高值和最低值作为阻力线和支撑线。
3. 每条线按 *Distance* 个最小跳动单位进行偏移，用于过滤噪音。
4. 当收盘价突破上轨时买入；跌破下轨时卖出。
5. 同时持仓数量受 *Max Trades* 限制。

## 参数

- **Max Trades** – 允许的最大持仓数量。
- **Level** – 计算水平所使用的局部极值数量。
- **Distance** – 从极值起算的偏移点数。
- **Candle Type** – 策略处理的 K 线周期。

## 说明

本 C# 版本采用 StockSharp 高级 API，并在代码中添加了英文注释。原 MQL4 辅助库中的风险管理功能被简化为基础的持仓检查。

