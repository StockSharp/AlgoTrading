# Стратегия Lego 4 Beta

Стратегия является модульной системой, переписанной с MetaTrader скрипта «exp_Lego_4_Beta». Позволяет включать или отключать отдельные индикаторы через параметры.

## Алгоритм

1. **Пересечение скользящих средних** – рассчитываются быстрая и медленная средние. Покупка открывается, когда быстрая средняя пересекает медленную снизу вверх, продажа – при обратном пересечении.
2. **Фильтр стохастика** – при активации для покупки требуется значение %K ниже уровня перепроданности, для продажи – значение %K выше уровня перекупленности.
3. **Закрытие по RSI** – при активации длинные позиции закрываются, если RSI выше верхнего порога, короткие – если RSI ниже нижнего порога.

## Параметры

- `UseMaOpen` – использовать сигналы пересечения средних.
- `FastMaLength` / `SlowMaLength` – длины быстрый и медленной средних.
- `MaType` – тип средней (SMA, EMA, WMA).
- `UseStochasticOpen` – включить фильтр стохастика.
- `StochLength` – основной период стохастика.
- `StochKPeriod` / `StochDPeriod` – периоды сглаживания линий %K и %D.
- `StochBuyLevel` / `StochSellLevel` – уровни перепроданности и перекупленности.
- `UseRsiClose` – использовать RSI для выхода.
- `RsiPeriod` – период расчёта RSI.
- `RsiHigh` / `RsiLow` – пороги закрытия позиции по RSI.
- `CandleType` – тип свечей для подписки.

## Примечания

Стратегия использует высокоуровневый `SubscribeCandles` и `BindEx` для получения значений индикаторов и следует рекомендуемому стилю StockSharp. Для входа и выхода применяются только рыночные заявки.
