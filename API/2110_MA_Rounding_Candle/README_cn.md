# MA平滑蜡烛策略

## 概述

该策略来源于MQL5专家顾问“MA Rounding Candle”。它对每根K线的开盘价和收盘价分别计算平滑移动平均线，并根据两条平均线的相对位置生成一根“合成蜡烛”。当平滑收盘价高于平滑开盘价时视为上涨蜡烛，反之则为下跌蜡烛，相等时为中性。上一根蜡烛的颜色与当前蜡烛不同则触发交易信号。

## 算法

1. 对每根完成的K线的开盘价和收盘价分别计算给定周期的简单移动平均。
2. 根据平滑值判断蜡烛颜色：
   - **上涨蜡烛** – 平滑收盘价高于平滑开盘价。
   - **下跌蜡烛** – 平滑收盘价低于平滑开盘价。
   - **中性** – 两者相等。
3. 若上一根蜡烛为上涨而当前蜡烛不是上涨，则开多单并平掉空单。
3. 若上一根蜡烛为下跌而当前蜡烛不是下跌，则开空单并平掉多单。

## 参数

- **MaLength** – 平滑移动平均的周期，默认12。
- **CandleType** – 处理的K线时间框架。

## 说明

该策略展示了如何仅使用StockSharp内置工具复现自定义指标信号。策略没有设置止损或止盈，当出现反向信号时立即反向持仓。
