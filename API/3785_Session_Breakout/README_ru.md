# Стратегия Session Breakout

## Обзор
Стратегия Session Breakout повторяет логику советника MetaTrader "Session breakout". Она анализирует утреннюю европейскую сессию,
измеряет её ценовой диапазон и при достаточно узком диапазоне готовится торговать пробой во время американской сессии. Реализаци
я использует высокоуровневый API StockSharp, ограничивает количество сделок одним покупочным и одним продажным входом в сутки и
автоматически добавляет защитные ордера (стоп-лосс и тейк-профит).

## Торговая логика
- В начале каждого торгового дня состояние сбрасывается; выходные пропускаются. Торговля по понедельникам включается отдельным п
араметром.
- Во время европейской сессии (по умолчанию 06:00–12:00) стратегия отслеживает завершённые свечи и сохраняет максимум и минимум.
- В момент старта американской сессии диапазон признаётся "маленьким", если его ширина меньше значения `SmallSessionThresholdPi
ps` в пунктах.
- При наличии узкого диапазона стратегия отслеживает свечи американской сессии (по умолчанию 12:00–16:00) и ждёт закрытия хотя б
ы одной свечи США (`EuropeSessionStartHour + 5` до `EuropeSessionStartHour + 10`).
- Сигнал на покупку появляется, когда свеча полностью находится выше европейского максимума плюс буфер (`BreakoutBufferPips`). С
игнал на продажу возникает, если свеча располагается ниже минимума минус буфер.
- После входа стратегия выставляет стоп-лосс и тейк-профит в пунктах и запрещает новые сделки в том же направлении до конца дня.

## Параметры
| Параметр | Описание |
|----------|----------|
| `Volume` | Объём ордера для покупок и продаж. |
| `EuropeSessionStartHour` | Час начала отслеживания европейского диапазона. |
| `EuropeSessionEndHour` | Час завершения отслеживания европейского диапазона. |
| `UsSessionStartHour` | Час начала окна американской сессии. |
| `UsSessionEndHour` | Час окончания окна американской сессии. |
| `SmallSessionThresholdPips` | Максимальная ширина диапазона в пунктах, чтобы считать его сжатием. |
| `BreakoutBufferPips` | Дополнительный буфер над/под диапазоном перед входом. |
| `TradeOnMonday` | Разрешает торговлю по понедельникам (выходные всегда исключены). |
| `TakeProfitPips` | Расстояние от цены входа до тейк-профита. |
| `StopLossPips` | Расстояние от цены входа до стоп-лосса. |
| `CandleType` | Тип свечей для расчётов (по умолчанию 15-минутные). |

## Примечания
- Размер пункта определяется полем `PriceStep` выбранного инструмента. Подбирайте параметры в пунктах в соответствии с условиями
контракта.
- Ордеры генерируются по закрытию подходящей свечи, поэтому в тестах вход происходит по цене закрытия. В реальной торговле испол
нение может отличаться из-за рыночных условий.
- В сутки допускается только один длинный и один короткий вход. Логика соответствует оригинальному советнику и использует стандарт
ные средства риск-менеджмента StockSharp.
