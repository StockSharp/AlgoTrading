# SilverTrend V3 Стратегия

## Общее описание
SilverTrend V3 — это перевод оригинального советника MetaTrader 4. Стратегия определяет смену тренда по индикатору SilverTrend и подтверждает его фильтром J_TPO. Система торгует только одним инструментом и не открывает новые позиции в пятницу после заданного часа, чтобы не переносить риск на выходные.

## Логика торговли
1. **Расчёт индикаторов**
   - Стратегия хранит скользящее окно завершённых свечей и пересчитывает значения SilverTrend на каждом новом баре.
   - SilverTrend использует окно в 9 баров и риск-параметр 3 для построения адаптивного канала. Пробой закрытием верхней границы меняет сигнал на рост, пробой нижней границы — на падение.
   - Значение J_TPO с периодом 14 измеряет перекос распределения цены. Положительное значение подтверждает длинный сигнал, отрицательное — короткий.
2. **Условия входа**
   - Длинная позиция открывается при смене сигнала SilverTrend с «медвежьего» на «бычий» при J_TPO > 0.
   - Короткая позиция открывается при смене сигнала SilverTrend с «бычьего» на «медвежий» при J_TPO < 0.
   - В пятницу после заданного часа новые сделки блокируются.
3. **Управление выходами**
   - Противоположный сигнал SilverTrend закрывает открытую позицию немедленно.
   - Дополнительно можно задать стартовый стоп-лосс и тейк-профит в пунктах.
   - При желании включается трейлинг-стоп, который подтягивает защитный уровень по мере роста прибыли.

## Параметры
| Имя | Описание | Значение по умолчанию |
| --- | -------- | --------------------- |
| `Volume` | Объём сделки в лотах. | `1` |
| `TrailingStopPoints` | Дистанция трейлинг-стопа в пунктах (0 — отключить). | `0` |
| `TakeProfitPoints` | Тейк-профит в пунктах (0 — отключить). | `0` |
| `InitialStopPoints` | Стартовый стоп-лосс в пунктах (0 — отключить). | `0` |
| `FridayCutoffHour` | Час (по биржевому времени), после которого в пятницу запрещены новые входы. | `16` |
| `CandleType` | Тип/таймфрейм свечей для расчётов. | Свечи 1 час |

## Дополнительные замечания
- В любой момент времени открыта только одна позиция, что соответствует исходному советнику.
- Реализация использует высокоуровневый API StockSharp и обрабатывает только завершённые свечи.
- Стопы и трейлинг управляются внутри стратегии и закрывают позицию по рынку при достижении условий.
