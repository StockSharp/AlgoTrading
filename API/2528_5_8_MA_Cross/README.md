# 5/8 MA Cross Strategy

## Overview
The 5/8 MA Cross strategy is a StockSharp port of the MetaTrader expert advisor "5_8 MACross". It compares a fast exponential moving average (EMA) calculated on closing prices with a slower EMA calculated on opening prices. The system acts on the crossover between the two averages and can be applied to any symbol and timeframe that provides standard time-based candles.

## Indicators
- **Fast EMA** – configurable length (default 5) calculated from the candle close price.
- **Slow EMA** – configurable length (default 8) calculated from the candle open price.

## Trading Logic
1. The strategy processes only finished candles to avoid partial data.
2. A long entry is generated when the fast EMA was below or equal to the slow EMA on the previous candle and crosses above it on the current candle.
3. A short entry is generated when the fast EMA was above or equal to the slow EMA on the previous candle and crosses below it on the current candle.
4. When a signal appears the strategy reverses its exposure: it closes any open position and sends a market order sized to end up with `Volume` contracts in the new direction.

## Risk Management
- **Take Profit** – optional target expressed in price points. The point size is derived from the security price step; for three- and five-digit quotations the value is automatically multiplied by 10 to emulate MetaTrader pip handling.
- **Stop Loss** – optional protective stop, also expressed in price points from the entry price.
- **Trailing Stop** – optional distance in price points. After a position is opened the strategy tracks the highest high (for longs) or lowest low (for shorts) and moves the stop only in the profitable direction. If an initial stop loss is not specified the trailing stop will still initialize protection immediately after entry.
- If either the take profit or the (trailing) stop is hit on a closing price the position is exited at market.

## Parameters
| Name | Description | Default |
| --- | --- | --- |
| `FastLength` | Period of the fast EMA (close-based). | 5 |
| `SlowLength` | Period of the slow EMA (open-based). | 8 |
| `TakeProfitPoints` | Take profit distance in price points. | 40 |
| `StopLossPoints` | Stop loss distance in price points (0 disables the stop). | 0 |
| `TrailingStopPoints` | Trailing stop distance in price points (0 disables trailing). | 0 |
| `CandleType` | Candle type / timeframe used for calculations. | 1-minute time frame |
| `Volume` | Order volume inherited from the base `Strategy` class. | 0.1 |

## Differences Compared to the MQL Version
- MetaTrader-specific hedging checks and account information calls are omitted because StockSharp handles position accounting differently.
- Signals are evaluated on closed candles rather than on the very first tick of a new bar; this improves stability in event-driven environments.
- Trailing logic uses the candle high/low to advance the stop instead of the current bid/ask tick, providing deterministic behaviour for historical processing.

## Usage Notes
- Configure `Volume` in the strategy properties to match the desired lot size.
- Combine the strategy with StockSharp protection modules or additional filters if portfolio-level risk management is required.
- The strategy does not place pending orders; all entries and exits are executed with market orders generated by the crossover and risk logic above.
