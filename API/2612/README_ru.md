# Стратегия «Вся информация об инструменте»

## Обзор
**Стратегия «Вся информация об инструменте»** представляет собой конвертацию скрипта MQL5 *All information about the symbol.mq5*. В оригинале сведения выводились в диалоговом окне, а в StockSharp-версии данные фиксируются в журнале стратегии сразу после запуска. Торговые операции не выполняются – инструмент предназначен исключительно для аудита метаданных и последнего состояния рынка, полученного от коннектора.

## Принцип работы
1. При запуске стратегия проверяет, что выбран `Security`, и выводит заголовок.
2. Далее по группам формируются записи в журнал:
   - **Общие сведения** – код, название, класс, валюта, количество знаков после запятой, отрасль и сектор, разрешение на маржинальную торговлю и шорты и т.д.
   - **Торговые параметры** – лот, шаг объёма и цены, границы цен, различные виды маржи, страйк, тип опциона, мультипликатор, дата экспирации/расчётов и прочее.
   - **Рыночный снимок** – лучшие бид/аск, последняя сделка, значения OHLC, расчётная цена, открытый интерес, лимиты цен, торговый статус и временные метки.
   - **ExtensionInfo** – при наличии выводится содержимое словаря с дополнительными атрибутами инструмента.
   - **Полный список свойств** – оставшиеся публичные свойства `Security`, полученные через отражение, что гарантирует полноту картины.
   - **Площадка (ExchangeBoard)** – опционально печатается расширенная информация о площадке: поддерживаемые типы заявок, параметры расчётов, торговое расписание и др.
3. Значения форматируются для удобства чтения: даты – в ISO-формате, числа – в инвариантной культуре, коллекции раскрываются поэлементно, ссылки на другие инструменты заменяются на их идентификаторы.
4. После вывода всех секций стратегия остаётся в состоянии ожидания, чтобы пользователь мог ознакомиться с логом.

## Параметры
| Параметр | Значение по умолчанию | Описание |
|----------|-----------------------|----------|
| `LogBoardDetails` | `true` | Выводить ли подробности по связанному `ExchangeBoard`. |
| `LogExtensionInfo` | `true` | Печатать ли содержимое словаря `ExtensionInfo`, если он заполнен. |
| `LogFullPropertyDump` | `true` | Добавлять ли полный список оставшихся свойств, полученных через отражение (можно отключить для сокращения лога). |

## Структура вывода
Журнал формируется в фиксированном порядке:
1. Строка-указатель с идентификатором инструмента.
2. Раздел **Общие сведения**.
3. Раздел **Торговые параметры**.
4. Раздел **Рыночный снимок**.
5. При наличии – раздел **ExtensionInfo**.
6. При включённой опции – раздел **Полный список свойств** (уже выведенные поля не дублируются).
7. При включённой опции – раздел **ExchangeBoard**.
8. Итоговая строка о завершении.

Благодаря фиксированному порядку легко сравнивать результаты разных запусков и передавать лог службе поддержки.

## Использование
1. Добавьте стратегию в проект StockSharp и назначьте нужные `Security` и `Portfolio` в интерфейсе или коде.
2. При необходимости измените значения трёх булевых параметров, чтобы регулировать объём информации.
3. Запустите стратегию – первые строки лога содержат полный отчёт, дальнейшие действия не требуются.
4. Завершите работу, когда информация больше не нужна.

## Особенности и ограничения
- Стратегия не создаёт заявок и не меняет позицию, поэтому безопасна для диагностики как на реальном рынке, так и в тестере.
- Полный дамп строится через отражение, поэтому по мере развития StockSharp перечень строк может расширяться.
- Если коннектор наполняет `ExtensionInfo` сложными объектами, итоговый лог может быть довольно объёмным.
- Рыночные поля отображают только те данные, которые уже получены в `Security`. При отсутствии котировок часть значений будет `<null>`.

## Замечания по конвертации
- В MQL5 данные отображались в списке внутри диалога. В StockSharp визуальные элементы недоступны, поэтому используется лог, но набор выводимых данных сохранён.
- Проверки допустимых типов исполнения и экспирации (`IsExpirationTypeAllowed`, `IsFillingTypeAllowed`) заменены печатью параметров `ExchangeBoard`, где эти ограничения описаны.
- Сообщения `Comment` заменены на вызовы `LogInfo`, что соответствует стилю остальных примеров в репозитории.
