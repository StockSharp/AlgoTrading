# Стратегия Eugene Inside Breakout
[English](README.md) | [中文](README_cn.md)

Стратегия Eugene Inside Breakout представляет собой прямую конвертацию оригинального советника MetaTrader от barabashkakvn. Осн
ова лежит исключительно на ценовом действии: серия внутренних свечей с последующим пробоем диапазона. Уровни подтверждения, рас
считанные по телу предыдущей свечи, позволяют дождаться развития импульса до входа в позицию.

## Обзор

Алгоритм отслеживает формирование нового максимума или минимума относительно предыдущей свечи. Для лонгов требуется, чтобы мини
мум предыдущей свечи находился ниже максимума свечи два бара назад — это подчеркивает сжатие перед пробоем. Для шортов стратегия
отказывается торговать, если предыдущая свеча является внутренней, полностью повторяя защиту из исходного MQL-кода. Заявки всег
да исполняются по рынку фиксированным объемом.

## Рыночная логика

- Делает акцент на пробоях последних экстремумов, чтобы как можно раньше войти в зарождающееся движение.
- Использует тело предыдущей свечи для расчёта двух уровней отката на одну треть (`zigLevelBuy` и `zigLevelSell`). Цена должна к
оснуться соответствующего уровня либо торговая сессия должна перейти за настроенный час активации, чтобы вход был разрешён.
- Блокирует новые позиции, если пробой совпадает с внутренней свечой против направления сделки.
- Закрывает открытые позиции, когда подтверждается противоположный пробой, поэтому стратегия всегда остаётся вне рынка или в пос
леднем сигнале.

## Правила входа

### Лонг

1. Текущий максимум выше максимума предыдущей свечи.
2. Подтверждение получено, когда текущий минимум пробивает уровень отката одной третьей тела предыдущей свечи либо текущий час п
ревышает параметр активации.
3. Текущий минимум должен оставаться выше предыдущего минимума, при этом минимум предыдущей свечи располагается ниже максимума с
вечи два бара назад.
4. Открытых позиций нет.

### Шорт

1. Текущий минимум ниже минимума предыдущей свечи.
2. Подтверждение получено, когда текущий максимум тестирует верхний уровень отката одной третьей тела предыдущей свечи либо теку
щий час превышает параметр активации.
3. Предыдущая свеча не является внутренней (её максимум не ниже и минимум не выше свечи два бара назад).
4. Текущий максимум ниже максимума предыдущей свечи.
5. Открытых позиций нет.

## Правила выхода

- Закрывать лонг, когда формируется подтверждённый шорт-пробой (условия 1–3 логики входа в шорт).
- Закрывать шорт, когда формируется подтверждённый лонг-пробой (условия 1–3 логики входа в лонг).

## Параметры

| Имя | Описание | Значение по умолчанию |
| --- | -------- | --------------------- |
| `CandleType` | Таймфрейм свечей, обрабатываемых стратегией. | 1-часовые свечи |
| `Volume` | Объём заявки для каждого рыночного ордера. | 0.1 |
| `ActivationHour` | Час, после которого подтверждения принимаются автоматически. Повторяет фильтр `TimeCurrent()` из MQL-кода. | 8 |

## Примечания

- Проверки "white bird" и "black bird" из оригинального скрипта из-за условий всегда ложны; они сохранены для совместимости и н
е влияют на торговые решения.
- Дополнительные индикаторы и трейлинг-стопы не используются — стратегия полностью основана на цене и переворачивается при каждо
м противоположном пробое.
