# IsConnected 策略

## 摘要
* **来源**：由 MetaTrader 5 脚本 `IsConnected.mq5`（目录 `MQL/35056`）转换而来。
* **目标**：持续监控连接器的在线状态，在状态切换时记录时间戳以及在线/离线持续时间。
* **类型**：运维监控型策略，不包含交易信号与下单逻辑。

## 行为流程
1. 启动时输出一条初始化日志，并获取当前连接状态。
2. 后台定时器每隔 `CheckIntervalSeconds` 秒（默认 1 秒）读取一次 `Connector.IsConnected` 标志。
3. 当检测到状态变化时，策略会：
   * 使用策略的 `CurrentTime` 记录切换时刻。
   * 输出新的状态（`Online` 或 `Offline`）。
   * 给出上一状态持续的时间长度（断线前在线多久，或恢复前离线多久）。
4. 策略停止时取消定时器，并报告结束时的连接状态，便于追踪停机时是否在线。

## 参数
| 名称 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `CheckIntervalSeconds` | `int` | `1` | 连接状态检查周期（秒）。必须大于零。 |

## 日志特性
* 所有信息通过 `LogInfo` 以英文输出，以保持与原始脚本 `Print` 行为一致。
* 输出同时包含切换时间与上一阶段持续时间，便于审计。

## 与原脚本的差异
* MQL5 中的忙等待循环被托管定时器替代，避免阻塞策略主线程。
* 去除了重复输出，改为结构化地报告在线/离线持续时长。
* 在 `OnStopped` 与 `OnReseted` 中显式关闭定时器，确保不会遗留后台任务。
