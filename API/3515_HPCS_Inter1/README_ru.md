# Стратегия инициализации HPCS Inter1
[English](README.md) | [中文](README_cn.md)

**HPCS Inter1 Initialization Strategy** повторяет поведение оригинального эксперта MetaTrader: при запуске она читает первую строку CSV-файла и выводит в журнал каждую подстроку, разделённую символом подчёркивания. Такой механизм полезен для проверки доступа к сетевым папкам, контроля корректной работы вспомогательных скриптов автоматизации и подготовки более сложных сценариев, которые зависят от внешней предварительной обработки данных.

В отличие от большинства торговых алгоритмов, стратегия не отправляет заявки. Её задача — контролировать инфраструктуру торгового окружения, убедиться, что рабочая станция может прочитать текстовые файлы, создаваемые другими процессами (парсерами, сканерами или операторами). Каждая подстрока записывается в журнал стратегии, что позволяет оператору анализировать данные непосредственно в интерфейсе StockSharp.

## Как работает стратегия

1. При старте стратегия пытается определить полный путь к указанному CSV-файлу. Пустое имя файла приводит к предупреждению.
2. Если файл не найден, стратегия остаётся в пассивном режиме и фиксирует предупреждение о пропавшей зависимости.
3. Первая строка читается в кодировке UTF-8. Пустые строки или строки, состоящие только из пробелов, также отмечаются предупреждением.
4. Строка разбивается на части с помощью настраиваемого разделителя (по умолчанию — подчёркивание). Все токены выводятся в журнал в исходном порядке.
5. Любая ошибка, возникшая во время работы с файлом, перехватывается и записывается в журнал для ускорения диагностики.

## Параметры

| Имя | Описание | Значение по умолчанию |
| --- | -------- | --------------------- |
| `CsvFileName` | Имя или путь к CSV-файлу, который читается при запуске. | `Third.csv` |
| `Separator` | Символ, который разделяет первую строку на токены перед выводом в лог. | `_` |

## Рекомендации по использованию

- Размещайте стратегию в рабочих пространствах, где необходимо контролировать факт выгрузки конфигурации внешним процессом.
- Используйте планировщик заданий, который регулярно перезаписывает `Third.csv`, чтобы оперативно отслеживать содержимое последней выгрузки.
- Меняйте разделитель, если файл использует другой формат (запятые, точку с запятой и т.д.).
- Расширяйте стратегию, если требуется запуск дополнительных действий после разбора токенов, например, настройку торговых параметров или запуск заявок.

## Пример записей в журнале

Если первая строка `Third.csv` содержит `SYMBOL_EURUSD_1.2345_LONG`, стратегия сформирует следующие сообщения:

```
Original line: SYMBOL_EURUSD_1.2345_LONG
Token 1: SYMBOL
Token 2: EURUSD
Token 3: 1.2345
Token 4: LONG
```

Эти сообщения позволяют убедиться, что инфраструктура готова к дальнейшей автоматизации, основанной на внешних CSV-данных.
