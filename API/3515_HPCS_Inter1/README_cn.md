# HPCS Inter1 初始化策略
[English](README.md) | [Русский](README_ru.md)

**HPCS Inter1 Initialization Strategy** 在启动时会读取 CSV 文件的第一行，并按照下划线分割后将每个字段写入日志，从而复刻原始 MetaTrader 专家的行为。这种设计非常适合用来验证工作站对共享目录的访问权限、确认自动化脚本是否生成了预期的配置行，或者为依赖外部预处理结果的高级流程做准备。

与大多数交易算法不同，本策略不会提交任何订单。它的重点在于基础设施层面，帮助交易者确认工作环境能够访问由其他进程（如解析器、扫描器或人工操作）生成的文本文件。日志会逐条输出分割后的字段，方便在 StockSharp 界面中直接核对数据。

## 工作流程

1. 策略启动后，首先解析配置中提供的 CSV 文件路径。如果文件名为空，将在日志中给出警告。
2. 当文件不存在时，策略保持空闲状态，并提示外部依赖缺失。
3. 以 UTF-8 编码读取第一行内容。如果该行为空或仅包含空白字符，也会给出提示，避免悄然失败。
4. 使用可配置的分隔符（默认：下划线）拆分文本，并按原顺序将每个字段输出到日志。
5. 文件访问过程中出现的任何异常都会被捕获并记录，便于迅速排查问题。

## 参数

| 名称 | 说明 | 默认值 |
| ---- | ---- | ------ |
| `CsvFileName` | 启动时需要读取的 CSV 文件名称或路径。 | `Third.csv` |
| `Separator` | 在写日志之前用于拆分第一行的分隔符。 | `_` |

## 使用建议

- 将策略部署在需要监控外部系统导出配置快照的工作空间中。
- 配合计划任务定期重写 `Third.csv`，以便快速查看最近一次导出的内容。
- 如果文件使用逗号、分号等其他分隔符，可修改 `Separator` 参数与之匹配。
- 若需要在解析字段后执行更多操作（例如自动设置交易参数或触发下单），可以基于本策略继续扩展。

## 日志示例

当 `Third.csv` 的首行是 `SYMBOL_EURUSD_1.2345_LONG` 时，日志将包含以下条目：

```
Original line: SYMBOL_EURUSD_1.2345_LONG
Token 1: SYMBOL
Token 2: EURUSD
Token 3: 1.2345
Token 4: LONG
```

这些信息可以帮助你确认环境已经准备好接入依赖外部 CSV 数据的高级自动化流程。
