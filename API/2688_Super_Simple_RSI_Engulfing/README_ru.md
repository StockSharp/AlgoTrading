# Стратегия Super Simple RSI Engulfing
[English](README.md) | [中文](README_cn.md)

Эта стратегия переносит эксперт SSEATwRSI из MetaTrader в StockSharp. Анализируются только завершённые свечи, по максимумам которых считается RSI с периодом 7. Сделка возникает, когда RSI достигает экстремума и две предыдущие свечи формируют выраженный разворот в виде поглощения.

Для входа в лонг требуется, чтобы RSI поднялся выше уровня перекупленности, а медвежья свеча два бара назад была полностью поглощена следующей бычьей свечой. Короткий сигнал работает зеркально: RSI падает ниже уровня перепроданности, и бычья свеча полностью перекрывается последующей медвежьей свечой. Объём задаётся параметром `Volume`; при появлении противоположного сигнала существующая позиция закрывается перед открытием новой.

После открытия позиция контролируется по совокупному профиту и убытку. Если плавающий результат достигает заданной цели по прибыли (в валюте счёта) либо уходит ниже допустимого убытка, стратегия немедленно закрывает позицию. Дополнительных трейлинг-стопов нет — управление ведётся только по разворотному паттерну и валютным порогам `ProfitGoal` и `MaxLoss`.

## Детали

- **Условия входа**:
  - **Лонг**: RSI по максимумам > `OverboughtLevel`, последняя свеча поглощает медвежью свечу двухбарового давности и закрывается выше её открытия.
  - **Шорт**: RSI по максимумам < `OversoldLevel`, последняя свеча поглощает бычью свечу двухбарового давности и закрывается ниже её открытия.
- **Лонг/Шорт**: Да, оба направления.
- **Условия выхода**:
  - Совокупный PnL ≥ `ProfitGoal` → закрыть позицию.
  - Совокупный PnL ≤ `-MaxLoss` → закрыть позицию.
  - Противоположный сигнал автоматически разворачивает позицию при открытии новой сделки.
- **Стопы**: Проверка тейк-профита и стопа в валюте счёта по общему результату стратегии.
- **Фильтры**:
  - RSI считается по максимумам свечей, чтобы фиксировать экстремальные движения.
  - Подтверждение в виде двухсвечного паттерна поглощения.

## Параметры

- `Volume` = 0.1 – Размер заявки в контрактах, перекрывает противоположную позицию перед новым входом.
- `ProfitGoal` = 190 – Целевая прибыль в валюте счёта, при достижении позиция закрывается.
- `MaxLoss` = 10 – Допустимый убыток в валюте счёта; проверка ведётся по значению `-MaxLoss`.
- `RsiPeriod` = 7 – Период усреднения RSI.
- `RsiPrice` = High – Источник цен для расчёта RSI.
- `OverboughtLevel` = 88 – Уровень RSI, выше которого допускается вход в лонг после разворота.
- `OversoldLevel` = 37 – Уровень RSI, ниже которого допускается вход в шорт после разворота.
- `CandleType` = Свечи 1 часа по умолчанию; измените при необходимости под ваш таймфрейм.
