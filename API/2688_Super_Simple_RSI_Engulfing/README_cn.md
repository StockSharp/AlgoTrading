# Super Simple RSI Engulfing 策略
[English](README.md) | [Русский](README_ru.md)

该策略把 MetaTrader 上的 SSEATwRSI 专家顾问迁移到 StockSharp。系统仅处理已经收盘的K线，并在每根K线的最高价上计算 7 周期 RSI。只有当 RSI 到达极值并且前两根K线组成清晰的反转型吞没形态时，才会触发交易信号。

做多需要 RSI 高于设定的超买阈值，同时两根历史K线形成“先跌后涨”的吞没结构：两根之前的看跌K线被后一根看涨K线完全吞没，并且收盘价高于较早K线的开盘价。做空逻辑相反：RSI 跌破超卖阈值，最近两根K线形成看涨转看跌的吞没。仓位规模由 `Volume` 参数固定，在开立新方向之前会自动平掉相反持仓。

持仓后策略持续监控整体盈亏。当浮动盈亏达到 `ProfitGoal` 设定的货币利润目标，或者跌破 `-MaxLoss` 允许的最大亏损时，会立即清仓。策略没有额外的移动止损，完全依赖吞没形态和账户级别的盈亏阈值来管理风险。

## 细节

- **入场条件**：
  - **做多**：RSI(最高价) > `OverboughtLevel`，最近一根K线吞没两根前的看跌K线，并且收盘价高于那根K线的开盘价。
  - **做空**：RSI(最高价) < `OversoldLevel`，最近一根K线吞没两根前的看涨K线，并且收盘价低于那根K线的开盘价。
- **多空方向**：双向。
- **离场条件**：
  - 总盈亏 ≥ `ProfitGoal` → 平仓。
  - 总盈亏 ≤ `-MaxLoss` → 平仓。
  - 当出现反向信号时，新订单会自动冲销旧仓位。
- **止损/止盈**：基于策略总盈亏的货币目标和最大亏损控制。
- **过滤器**：
  - RSI 使用最高价计算，以突出极端的延伸走势。
  - 需要两根K线的吞没反转作为确认。

## 参数

- `Volume` = 0.1 – 下单手数，在新方向建仓前会先对冲已有反向仓位。
- `ProfitGoal` = 190 – 账户货币计价的盈利目标，达到后立即平仓。
- `MaxLoss` = 10 – 账户货币计价的最大亏损，触发条件为总盈亏 ≤ `-MaxLoss`。
- `RsiPeriod` = 7 – RSI 的计算周期。
- `RsiPrice` = High – RSI 使用的价格源。
- `OverboughtLevel` = 88 – 触发做多前需要突破的 RSI 超买阈值。
- `OversoldLevel` = 37 – 触发做空前需要跌破的 RSI 超卖阈值。
- `CandleType` = 默认使用 1 小时K线，可根据原始图表调整。
