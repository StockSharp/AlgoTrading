# Стратегия Crypto Scalper

Стратегия Crypto Scalper переносит оригинальную логику эксперта MetaTrader в экосистему StockSharp с использованием высокоуровн
евых компонент. Она отслеживает бычье или медвежье пересечение быстрой линейно-взвешенной скользящей средней на рабочем таймфрейме
и подтверждает сигнал фильтрами старшего таймфрейма. При совпадении условий стратегия входит по рынку и сопровождает позицию стоп-
лоссом и тейк-профитом, заданными в пунктах MetaTrader.

## Параметры
| Имя | Описание | Значение по умолчанию |
| --- | --- | --- |
| `Primary Candle` | Тип свечей на основном таймфрейме. | Таймфрейм 1 минута |
| `Higher Candle` | Тип свечей на подтверждающем таймфрейме. | Таймфрейм 15 минут |
| `Fast LWMA` | Период основной линейно-взвешенной скользящей средней. | 8 |
| `Higher Fast MA` | Период быстрой LWMA на старшем таймфрейме. | 6 |
| `Higher Slow MA` | Период медленной LWMA на старшем таймфрейме. | 85 |
| `Momentum Period` | Период индикатора Momentum на старшем таймфрейме. | 14 |
| `Momentum Threshold` | Минимальное отклонение от опорного значения Momentum (уровень 100). | 0.3 |
| `Momentum Reference` | Опорное значение Momentum для имитации масштаба MetaTrader. | 100 |
| `Stop Loss (pips)` | Размер защитного стоп-лосса в пунктах MetaTrader. | 20 |
| `Take Profit (pips)` | Размер тейк-профита в пунктах MetaTrader. | 50 |
| `Volume` | Торговый объём в лотах. | 0.01 |
| `MACD Fast` | Период быстрой EMA в MACD. | 12 |
| `MACD Slow` | Период медленной EMA в MACD. | 26 |
| `MACD Signal` | Период сигнальной EMA в MACD. | 9 |

## Логика торговли
1. Подписка на основной таймфрейм и расчёт быстро реагирующей LWMA.
2. Определение точки входа при пересечении предыдущей свечой LWMA снизу вверх (лонг) или сверху вниз (шорт).
3. Подтверждение сигнала фильтрами старшего таймфрейма:
   - Для лонга быстрая LWMA должна находиться выше медленной, для шорта — ниже.
   - Гистограмма MACD (разница между основной и сигнальной линиями) должна быть положительной для лонга и отрицательной для шорта.
   - Значение Momentum должно отклоняться от опорного уровня минимум на `Momentum Threshold`.
4. При отсутствии активных заявок и допустимом направлении позиции отправляется рыночная заявка.
5. На последующих свечах контролируется достижение уровней стоп-лосса или тейк-профита и при срабатывании позиция закрывается.

## Примечания
- Используется высокоуровневый API StockSharp и механизм `Bind`, что исключает ручную работу с буферами индикаторов.
- Защитные уровни пересчитываются на каждой свече с учётом шага цены инструмента. При отсутствии настройки шага применяется
  запасное значение `0.0001`.
- Одновременно допускается только одна позиция: новые сигналы игнорируются, пока текущая сделка не завершена.
- Все комментарии в коде стратегии написаны на английском языке согласно требованиям репозитория.
