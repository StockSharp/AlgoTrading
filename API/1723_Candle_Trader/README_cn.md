# Candle Trader策略

## 概述

**Candle Trader策略** 分析最近4根K线的开收价方向，寻找短期的逆转机会。该策略在单一品种上运行，使用市价委托，并为每笔交易设置预先确定的止盈和止损。

## 策略逻辑

1. **做多直接入场** – 最近一根为阳线，前两根为阴线。
2. **做多连续入场** – 最近一根阳线，前一根阴线，再前两根阳线，仅在启用 *Continuation* 时生效。
3. **做空直接入场** – 最近一根为阴线，前两根阳线。
4. **做空连续入场** – 最近一根阴线，前一根阳线，再前两根阴线，仅在启用 *Continuation* 时生效。
5. 如果启用 *Reverse Close*，新信号与现有仓位相反，策略会先关闭相反仓位再入新仓。
6. 所有订单均用预设的止盈、止损（价格步长）进行保护。

## 参数

| 名称 | 说明 |
|------|-------------|
| `Volume` | 单笔交易的量。 |
| `TakeProfitTicks` | 止盈距离（价格步长）。 |
| `StopLossTicks` | 止损距离（价格步长）。 |
| `Continuation` | 是否启用连续型入场。 |
| `ReverseClose` | 新信号出现时是否先关止相反仓位。 |
| `CandleType` | 分析所用的点价类型。 |

## 注意事项

- 策略仅分析已完成的K线。
- 每次发出市价委托前会取消所有未结委托。
- 通过 `StartProtection` 设置止盈和止损。
- `Volume` 参数可用于优化。
