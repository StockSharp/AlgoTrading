# Стратегия Candle Trader

## Обзор

**Candle Trader** анализирует направление (бычье или медвежье) последних четырех завершенных свечей, ища краткосрочные сигналы на разворот. Стратегия работает с одним инструментом, использует рыночные заявки и настраиваемые уровни тейк-профита и стоп-лосса.

## Логика торговли

1. **Покупка (прямой сигнал)** – последняя свеча бычья, две предыдущие – медвежьие.
2. **Покупка (подтверждение)** – последняя свеча бычья, предыдущая – медвежья, ещё две ранее – бычьие. Срабатывает только при *Continuation* = `true`.
3. **Продажа (прямой сигнал)** – последняя свеча медвежья, две предыдущие бычьие.
4. **Продажа (подтверждение)** – последняя свеча медвежья, предыдущая – бычья, ещё две ранее – медвежьие. Срабатывает только при *Continuation* = `true`.
5. Если включен *Reverse Close*, новый сигнал противоположен текущей позиции, стратегия сначала закрывает старую позицию, затем открывает новую.
6. Каждая сделка защищается фиксированными уровнями тейк-профита и стоп-лосса ( в шагах цены ).

## Параметры

| Название | Описание |
|------|-------------|
| `Volume` | объём заявки на каждую сделку. |
| `TakeProfitTicks` | дистанция до тейк-профита (в шагах цены). |
| `StopLossTicks` | дистанция до стоп-лосса (в шагах цены). |
| `Continuation` | включение схем продолжения. |
| `ReverseClose` | закрыть ли противоположную позицию перед открытием новой. |
| `CandleType` | тип свечей для анализа. |

## Замечания

- учитываются только закрытые свечи;
- перед отправкой новой заявки стратегия удаляет все активные заявки;
- ограничения на убыток и прибыль задаются через `StartProtection`;
- объём позиций допускает оптимизацию.
