# Trade Channel ATR 策略
[English](README.md) | [Русский](README_ru.md)

Trade Channel 策略复刻了原始的 MetaTrader 专家顾问：它基于价格通道交易，并使用 ATR 设置初始止损。策略等待通道上下边界保持不变，同时最新蜡烛触碰或反转这些位置。一旦触发条件成立，系统会在触碰方向的反向开仓，并使用以点数衡量的自适应跟踪止损保护浮盈。

该方法旨在把握稳定区间内的均值回归。当通道没有刷新新高或新低时才允许入场，从而过滤掉噪音。保护性止损放置在通道之外，距离等于平均真实波幅；若行情持续发展，可选的跟踪止损会逐步收紧仓位风险。

## 细节

- **入场条件**：
  - 做空：当前通道上轨与上一根保持一致，且最新蜡烛突破上轨或在上轨与枢轴价 `(high + low + close) / 3` 之间收盘。
  - 做多：当前通道下轨与上一根保持一致，且最新蜡烛跌破下轨或在下轨与枢轴价之间收盘。
- **方向**：双向，但同一时间仅持有一个仓位。
- **出场条件**：
  - 多单：价格触及保持不变的通道上轨。
  - 空单：价格触及保持不变的通道下轨。
  - 当盈利超过 `TrailingDistance` 点时，跟踪止损开始向市场价格靠拢。
- **止损**：初始止损放在 `通道边界 ± ATR`，激活跟踪后由新的止损取代。
- **默认参数**：
  - `Volume` = 0.1m
  - `ChannelPeriod` = 20
  - `AtrPeriod` = 4
  - `TrailingDistance` = 30
  - `CandleType` = 30 分钟蜡烛
- **过滤信息**：
  - 类别：均值回归
  - 方向：双向
  - 指标：Highest、Lowest、Average True Range
  - 止损：ATR 止损、跟踪止损
  - 复杂度：中等
  - 周期：日内（30 分钟）
  - 季节性：无
  - 神经网络：无
  - 背离：无
  - 风险等级：中等

## 备注

- `Volume` 控制下单手数；策略不会同时开多个仓位。
- `TrailingDistance` 以最小价格波动单位表示，设置为 0 可关闭跟踪止损。
- 运行前需要足够的历史蜡烛，为 Highest/Lowest 和 ATR 指标提供预热数据。
- 仓位关闭或策略复位时会自动撤销所有止损单。
