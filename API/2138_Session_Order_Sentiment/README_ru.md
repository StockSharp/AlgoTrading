# Стратегия ордерного сентимента

## Обзор
Стратегия торгует по дисбалансу между заявками на покупку и продажу в стакане. Она вычисляет соотношения количества заявок и общего объёма для обеих сторон и открывает позицию, когда доминирование одной стороны превышает заданные пороги. Торговля разрешена только в заданном временном окне.

После открытия позиции пороги уменьшаются для мониторинга противоположной стороны. Если противоположная сторона превышает эти уменьшенные пороги, позиция закрывается. Также применяются стоп‑лосс и тейк‑профит, задаваемые в ценовых пунктах.

## Правила торговли
- **Вход в лонг**:
  - `BUY volume / SELL volume >= DiffVolumesEx` и `BUY orders / SELL orders >= DiffTradersEx`
  - Любая сторона удовлетворяет `MinTraders` и `MinVolume`
  - Текущее время проходит проверку `CheckTradingTime`
- **Вход в шорт**: зеркальная логика для преобладания продавцов.
- **Выход**:
  - Закрытие лонга при `SELL volume / BUY volume > 1 / DiffVolumes` или `SELL orders / BUY orders > 1 / DiffTraders`
  - Закрытие шорта при `SELL volume / BUY volume < DiffVolumes` или `SELL orders / BUY orders < DiffTraders`
  - Вне торгового времени позиции закрываются
- **Стопы**: применяются стоп‑лосс и тейк‑профит в ценовых пунктах.

## Параметры
- `MinVolume` – минимальный суммарный объём на любой стороне стакана (по умолчанию 20000)
- `MinTraders` – минимальное количество заявок на любой стороне (по умолчанию 1000)
- `DiffVolumesEx` – порог отношения объёмов для входа (по умолчанию 2.0)
- `DiffTradersEx` – порог отношения количества заявок для входа (по умолчанию 1.5)
- `MinDiffVolumesEx` – отношение объёмов после входа (по умолчанию 1.5)
- `MinDiffTradersEx` – отношение количества заявок после входа (по умолчанию 1.3)
- `SleepMinutes` – задержка между проверками стакана в минутах (по умолчанию 5)
- `TpPips` – тейк‑профит в пунктах (по умолчанию 500)
- `SlPips` – стоп‑лосс в пунктах (по умолчанию 500)

## Примечания
Python‑версия отсутствует.
