# Стратегия Color Zerolag DeMarker

Эта стратегия представляет собой портирование MQL5-советника `Exp_ColorZerolagDeMarker` на платформу StockSharp. В ней используется комбинация нескольких индикаторов **DeMarker** для построения быстрых и медленных линий тренда. Торговые сигналы появляются при пересечении этих линий.

## Индикаторы

- Пять индикаторов DeMarker с периодами 8, 21, 34, 55 и 89.
- Каждое значение умножается на весовой коэффициент: 0.05, 0.10, 0.16, 0.26 и 0.43.
- Взвешенные значения суммируются, образуя **быструю** линию.
- **Медленная** линия получается экспоненциальным сглаживанием быстрой линии по параметру `Smoothing`.

## Логика торговли

1. Подписка на свечи выбранного таймфрейма.
2. На каждой завершённой свече вычисляются быстрые и медленные линии.
3. Если на предыдущей свече быстрая линия была выше медленной, а текущая опустилась ниже:
   - При необходимости закрываются короткие позиции.
   - При разрешении открывается длинная позиция.
4. Если на предыдущей свече быстрая линия была ниже медленной, а текущая поднялась выше:
   - При необходимости закрываются длинные позиции.
   - При разрешении открывается короткая позиция.
5. Для новых позиций могут устанавливаться процентные уровни стоп-лосса и тейк-профита.

## Параметры

- `CandleTimeframe` – таймфрейм свечей.
- `Smoothing` – коэффициент сглаживания медленной линии.
- `Factor1`–`Factor5` – веса для каждого периода DeMarker.
- `DeMarkerPeriod1`–`DeMarkerPeriod5` – периоды индикаторов DeMarker.
- `Volume` – объём заявки.
- `OpenBuy` / `OpenSell` – включение сигналов на покупку/продажу.
- `CloseBuy` / `CloseSell` – включение закрытия длинных/коротких позиций.
- `StopLossPct` / `TakeProfitPct` – процентные уровни стоп-лосса и тейк-профита.

## Примечания

Стратегия работает только с закрытыми свечами и использует высокоуровневый API StockSharp (`SubscribeCandles` и `Bind`). Комментарии в коде приведены на английском языке.
