# Стратегия TradePad Sample

## Обзор

**TradePad Sample Strategy** — порт примера MetaTrader «TradePad». В исходном советнике на графике строилась таблица кнопок,
цвет которых отражал текущее состояние случайного осциллятора (Stochastic). В версии для StockSharp сохранена аналитическая
часть — мониторинг нескольких инструментов и классификация тренда — но не воспроизводится визуальная панель MT5. Стратегия
подписывается на свечи для всех выбранных инструментов, рассчитывает Stochastic и присваивает каждому статус *Uptrend*,
*Downtrend* или *Flat*. При изменении статуса в журнал отправляется сообщение, что соответствует смене цвета в оригинале.

Стратегия не торгует автоматически и предназначена как вспомогательная панель для трейдеров, которые принимают решения вручную.

## Как работает

1. **Выбор инструментов.** Параметр `SymbolList` принимает список тикеров, разделённых запятыми. Если он пустой, используется
   основной инструмент стратегии.
2. **Подписка на свечи.** Для всех инструментов применяется один таймфрейм из `CandleType`.
3. **Расчёт индикатора.** Для каждого инструмента создаётся собственный `StochasticOscillator`, который выдаёт значение `%K`
   после закрытия свечи.
4. **Определение тренда.** Значение выше `UpperLevel` соответствует *Uptrend*, ниже `LowerLevel` — *Downtrend*, промежуточные
   значения дают статус *Flat*. Последнее значение сохраняется в `LatestKValues`.
5. **Интервал обновления.** Параметр `TimerPeriodSeconds` имитирует таймер из оригинального TradePad — для каждого инструмента
   статус обновляется не чаще указанного интервала, чтобы избежать лишних сообщений.

## Параметры

| Параметр | Описание |
|----------|----------|
| `SymbolList` | Список тикеров через запятую. Пустое значение — использовать основной инструмент. |
| `TimerPeriodSeconds` | Минимальное время между повторными обновлениями статуса для одного инструмента. |
| `StochasticLength` | Длина расчёта исходной линии `%K`. |
| `StochasticKPeriod` | Период сглаживания `%K`. |
| `StochasticDPeriod` | Период сглаживания `%D` (оставлен для совместимости, хотя стратегия использует только `%K`). |
| `UpperLevel` | Порог, при превышении которого фиксируется восходящий тренд. |
| `LowerLevel` | Порог, при падении ниже которого фиксируется нисходящий тренд. |
| `CandleType` | Таймфрейм свечей для расчёта индикатора. |

## Рекомендации по использованию

- Убедитесь, что все указанные тикеры доступны в подключённом источнике данных. Отсутствующие инструменты выводятся в журнал и
  игнорируются.
- Свойство `TrendStates` публикует текущую классификацию и может использоваться во внешних панелях Designer.
- В Designer или Runner можно построить собственный интерфейс, реагирующий на сообщения `AddInfoLog` или данные из словарей.
- Отсутствие торговых операций делает стратегию безопасной для запуска на реальном подключении в режиме мониторинга.

## Отличия от MQL-версии

| Функция MQL5 | Реализация в StockSharp |
|--------------|------------------------|
| Таблица кнопок | Представлена через журнальные сообщения и публичные словари. |
| Кнопки BUY/SELL | Не реализованы, стратегия остаётся наблюдателем. |
| Перетаскивание панели | Не требуется в StockSharp и опущено. |
| Обновление цветов | Заменено обновлением статуса с периодичностью `TimerPeriodSeconds`. |

## Идеи для расширения

- Подключите словарь `TrendStates` к визуальным элементам Designer, чтобы восстановить цветовую матрицу.
- Настройте уведомления при переходе инструмента из *Flat* в *Uptrend* или *Downtrend*.
- При необходимости можно добавить торговую логику поверх текущих сигналов и реализовать полуавтоматическую панель.
