# Spread Informer 策略
[English](README.md) | [Русский](README_ru.md)

用于收集所选品种买卖价差（Bid-Ask Spread）的完整统计信息，并在价差超过可配置的上限时给出提示。策略持续订阅 Level1 行情，记录价差的最大值、最小值和平均值（以点数表示），在停止时输出总结，可用于在回测前评估流动性情况或验证历史数据质量。

## 详细信息

- **数据来源**：Level1 的最优买价（Bid）与最优卖价（Ask）。
- **统计内容**：
  - 观测周期的起始与结束时间。
  - 价差最大值及对应时间。
  - 价差最小值及对应时间。
  - 基于所有 Level1 更新计算的平均价差。
- **警报机制**：
  - 当价差（点数）突破 `MaxSpreadPoints` 阈值时，可选地触发提醒。
  - `AlertIntervalSeconds` 控制相邻提醒之间的最小时间间隔，避免日志被刷屏。
  - 只有在价差从下方向上突破阈值时才会触发提醒。
- **日志输出**：
  - 实时提醒通过 `LogInfo` 写入日志。
  - 策略停止时在 `OnStopped` 输出总体统计。
- **默认参数**：
  - `MaxSpreadPoints` = 0（禁用提醒）。
  - `AlertIntervalSeconds` = 0（不限制提醒频率）。

## 参数

| 名称 | 说明 | 默认值 | 备注 |
| --- | --- | --- | --- |
| `MaxSpreadPoints` | 最大允许的价差（点）。设置为 0 时关闭提醒。 | 0 | 点数基于品种的最小报价步长计算。 |
| `AlertIntervalSeconds` | 连续提醒之间的最小时间间隔。 | 0 | 当价差持续过大时，可避免重复提醒。 |

## 使用建议

1. 将策略绑定到目标品种，并确认能获取 Level1 行情。
2. 根据该品种的可接受价差配置 `MaxSpreadPoints`。
3. 如需抑制频繁提醒，可提高 `AlertIntervalSeconds` 的值。
4. 停止策略后查看日志输出，即可获得完整的价差统计。
