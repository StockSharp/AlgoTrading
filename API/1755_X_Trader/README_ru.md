# Стратегия X Trader

Данная стратегия реализует контртрендовую систему пересечения скользящих средних, исходно написанную на MQL как **X trader**.
Используются две простые скользящие средние. При пересечении быстрой и медленной средних открывается позиция в противоположном направлении.
Риск управляется фиксированными значениями тейк‑профита и стоп‑лосса в абсолютных пунктах через `StartProtection`.

## Принцип работы

1. Подписка на свечи выбранного таймфрейма.
2. Расчёт двух скользящих средних с задаваемыми периодами.
3. Отслеживание последних двух значений каждой средней для определения пересечения.
4. Если быстрая средняя пересекает медленную снизу вверх, две свечи остаётся выше, а две свечи назад была ниже — открывается **короткая** позиция.
5. Если быстрая средняя пересекает медленную сверху вниз, две свечи остаётся ниже, а две свечи назад была выше — открывается **длинная** позиция.
6. Одновременно может быть открыта только одна позиция. Защита автоматически закрывает позицию при достижении заданных уровней стоп‑лосса или тейк‑профита.

## Параметры

- `CandleType` – используемый тип свечей.
- `Ma1Period` – период первой скользящей средней.
- `Ma2Period` – период второй скользящей средней.
- `TakeProfitPoints` – размер тейк‑профита в пунктах.
- `StopLossPoints` – размер стоп‑лосса в пунктах.

## Индикаторы

- `SimpleMovingAverage` – используется дважды с разными периодами.

## Управление рисками

`StartProtection` вызывается в `OnStarted` и применяет значения тейк‑профита и стоп‑лосса ко всем позициям.
