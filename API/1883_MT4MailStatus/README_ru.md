# Стратегия MT4 Mail Status

## Обзор

**Стратегия MT4 Mail Status** периодически отправляет письмо с информацией обо всех активных заявках. Она создана на основе исходного MQL-скрипта `MT4MailStatus.mq4` и адаптирована для StockSharp API.

Стратегия не открывает и не управляет сделками. Она отслеживает существующие заявки и через заданные промежутки времени отправляет подробный отчёт. Если отправка письма не удалась, сообщение об ошибке записывается в локальный лог-файл.

## Параметры

- **SendInterval** – интервал между отчётами, минимум 60 секунд, по умолчанию 1 час.
- **SmtpHost** – адрес SMTP-сервера.
- **SmtpPort** – порт SMTP-сервера.
- **SmtpUser** – имя пользователя для SMTP-аутентификации.
- **SmtpPassword** – пароль для SMTP-аутентификации.
- **FromEmail** – адрес отправителя.
- **ToEmail** – адрес получателя.

## Как работает

1. После запуска стратегия каждые две секунды проверяет, прошёл ли заданный интервал с момента последнего отчёта.
2. Когда время пришло и есть активные заявки, формируется письмо со следующими данными:
   - Номер заявки и инструмент
   - Тип заявки и цена
   - Уровни стоп-лосса и тейк-профита
   - Текущие лучшая цена спроса и предложения
   - Объём заявки
3. Письмо отправляется через указанный SMTP-сервер. При ошибке информация записывается в файл `mylog_YYYY_MM_DD.txt`.

## Примечания

- Предполагается, что SMTP-сервер поддерживает SSL.
- Новые сделки не создаются и не изменяются; отправляются только отчёты по существующим заявкам.
- Убедитесь в корректности SMTP-учётных данных и адресов электронной почты.

## Файлы

- `CS/Mt4MailStatusStrategy.cs` – основная реализация на C#.
- `README.md` – документация на английском.
- `README_cn.md` – документация на китайском.
- `README_ru.md` – документация на русском.
