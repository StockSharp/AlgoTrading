# Стратегия Easiest Ever Daytrade

## Обзор
- Конвертация эксперта MetaTrader 4 **«Easiest ever - daytrade robot»** на высокоуровневый API StockSharp.
- Простая дневная торговля: за сессию открывается не более одной позиции, направление определяется предыдущей дневной свечой.
- Используются только данные свечей без индикаторов и осцилляторов; все заявки — рыночные.

## Логика торговли
1. Подписка на дневные свечи (`DailyCandleType`, по умолчанию `TimeSpan.FromDays(1)`) и сохранение цены открытия и закрытия последнего завершённого дня.
2. Подписка на внутридневные свечи (`IntradayCandleType`, по умолчанию `TimeSpan.FromMinutes(1)`), которые запускают логику входов и выходов.
3. В утренний период (пока час открытия свечи строго меньше `EntryHourLimit`, по умолчанию `1`):
   - Если дневная свеча закрылась выше открытия, открывается длинная позиция через `BuyMarket(TradeVolume)`.
   - Если дневная свеча закрылась ниже открытия, открывается короткая позиция через `SellMarket(TradeVolume)`.
   - При равенстве открытия и закрытия сделка не совершается.
4. Позиция удерживается весь день. Когда час свечи становится больше либо равен `MarketCloseHour` (по умолчанию `20`), любая открытая позиция закрывается рыночной заявкой (`SellMarket` для лонга, `BuyMarket` для шорта).
5. Новая сделка возможна только при отсутствии активной позиции, поэтому за день выполняется максимум одна сделка.

## Параметры
| Параметр | Описание | Значение по умолчанию |
|----------|----------|-----------------------|
| `TradeVolume` | Объём сделки для длинных и коротких входов. Должен быть положительным. | `1` |
| `EntryHourLimit` | Последний час (не включая), когда можно открыть новую позицию. Проверяется диапазон `[0, 23]`. | `1` |
| `MarketCloseHour` | Час, в который стратегия принудительно закрывает позицию. Применяется каждый день. | `20` |
| `IntradayCandleType` | Таймфрейм для выполнения логики и контроля позиций. | `TimeSpan.FromMinutes(1).TimeFrame()` |
| `DailyCandleType` | Таймфрейм для чтения открытия и закрытия предыдущего дня. | `TimeSpan.FromDays(1).TimeFrame()` |

Все параметры созданы через `Param()` и доступны для оптимизации в среде StockSharp.

## Управление рисками
- Отдельные стоп-лоссы и тейк-профиты не используются; риск ограничивается ежедневным закрытием в `MarketCloseHour`.
- В `OnStarted` вызывается `StartProtection()` для контроля непредвидённых позиций.
- Максимальная экспозиция задаётся параметром `TradeVolume`, так как стратегия допускает лишь одну позицию одновременно.

## Рекомендации по использованию
- Необходимо обеспечить историю как внутридневных, так и дневных свечей. Настройки по умолчанию требуют минутные и дневные данные.
- Настройте `EntryHourLimit` и `MarketCloseHour` под торговую сессию выбранного инструмента.
- Предполагается, что временные метки свечей соответствуют времени площадки; при отличиях используйте скорректированные источники данных.
- Логика полностью повторяет оригинального MQL-эксперта, что позволяет воспроизвести его поведение в инфраструктуре StockSharp без Python-версии.
