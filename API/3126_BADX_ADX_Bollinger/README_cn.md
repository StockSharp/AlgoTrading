# BADX ADX 布林带策略

## 概述

该策略按照 MetaTrader 平台上的 BADX 专家顾问在 StockSharp 高阶 API 中实现。策略结合 **平均趋向指数（ADX）** 与 **布林带** 来捕捉区间震荡行情：当 ADX 低于设定阈值且价格触碰外侧带时，系统逆势入场，预期价格回归均值。止损、止盈以及可选的跟踪止损均由 `StartProtection` 自动管理。

## 工作原理

1. 订阅设定的蜡烛序列，并通过高阶绑定同时驱动 `AverageDirectionalIndex` 与 `BollingerBands` 指标。
2. 在每根已完成蜡烛上，回调会收到 ADX 数值以及布林带的上轨和下轨。
3. 当 ADX 低于 `AdxLevel` 时视为盘整环境：
   - 若收盘价低于下轨且当前无持仓，则以市价买入。
   - 若收盘价高于上轨且当前无持仓，则以市价卖出。
4. 风险参数会把“点”距离转换为绝对价格偏移。止损、止盈和跟踪止损（如启用）会在进场后立即通过保护管理器设置。
5. 任意时刻仅允许存在一个持仓，退出由保护性订单或跟踪止损触发。

## 参数

- **CandleType** (`DataType`): 指标计算使用的时间框架，默认为 15 分钟。
- **AdxPeriod** (`int`): ADX 平滑周期，默认 30。
- **AdxLevel** (`decimal`): 判定盘整的 ADX 上限阈值，默认 20。
- **BollingerPeriod** (`int`): 布林带均线周期，默认 10。
- **BollingerDeviation** (`decimal`): 布林带标准差倍数，默认 1.5。
- **StopLossPips** (`decimal`): 止损距离（单位：点），默认 50。
- **TakeProfitPips** (`decimal`): 止盈距离（单位：点），默认 50。
- **TrailingStopPips** (`decimal`): 跟踪止损距离（单位：点），默认 5。
- **TrailingStepPips** (`decimal`): 调整跟踪止损前所需的最小盈利（单位：点），默认 5。

## 使用方法

1. 将策略附加到目标证券，并根据需要调整参数。
2. 启动策略后会自动订阅蜡烛数据、初始化指标并设置保护性订单。
3. 在支持图表的终端中可以同时观察蜡烛、布林带以及成交轨迹。
4. 根据品种波动率或个人偏好调整止损、止盈及跟踪参数。

## 说明

- 仅处理已完成的蜡烛，避免提前入场。
- “点”大小依据证券的 `PriceStep` 计算；当报价有 3 或 5 位小数时，点值会额外乘以 10，以匹配原始 EA 的处理方式。
- 默认将 `Volume` 设为 1，可按需修改基类的 `Volume` 属性以匹配期望手数。
- 源码中的注释全部使用英文，遵循仓库要求。
