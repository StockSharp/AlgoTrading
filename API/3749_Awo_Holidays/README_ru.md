# Стратегия Awo Holidays

## Обзор

**AwoHolidaysStrategy** переносит индикатор MetaTrader «awo Holidays» в StockSharp. Стратегия считывает CSV-файл с календарём праздников, определяет выходные и выводит в журнале несколько дат, чтобы трейдер заранее видел дни со свопами, выходными или официальными праздниками. Формат сообщений повторяет оригинальный MQL-скрипт: сначала показываются завтрашний и текущий день, затем заданное количество предыдущих дат с пояснительными цветными ярлыками.

Стратегия не размещает заявок и служит информационной надстройкой над графиком. Её можно запускать на любом инструменте и периоде, но для точного соответствия оригиналу рекомендуется дневной таймфрейм.

## Формат календаря

Ожидается CSV-файл с разделителем `;` и четырьмя колонками:

| Колонка | Описание |
| ------- | -------- |
| `Date` | Дата в формате `yyyy.MM.dd` (также поддерживаются `yyyy-MM-dd` и `dd.MM.yyyy`). |
| `Country` | Страна или рынок, где наблюдается праздник. |
| `Symbols` | Перечень тикеров через запятую. Пустое значение означает, что праздник актуален для всех инструментов. |
| `Holiday` | Название события. |

Пример строки:

```
2024.12.25;United States;EURUSD,USDJPY;Christmas Day
```

Если идентификатор активного инструмента содержит один из токенов из колонки `Symbols`, стратегия выводит текст вида `Holiday in Country`. При отсутствии файла выводится предупреждение, и активна только проверка выходных.

## Параметры

| Параметр | Назначение | Значение по умолчанию |
| -------- | ---------- | --------------------- |
| `History Depth` | Сколько прошлых дней отображать после строк о будущем и настоящем. | `3` |
| `Clear On Stop` | Очищать ли кешированный текст при остановке стратегии. | `true` |
| `Holiday File` | Относительный или абсолютный путь к CSV-файлу праздников. | `holidays.csv` |
| `Candle Type` | Тип свечей, по которым выполняется обновление. Рекомендуются дневные свечи. | Таймфрейм 1 день |
| `Workday Label` | Текстовая метка для рабочих дней. | `LightBlue` |
| `Weekend Label` | Метка для выходных. | `Blue` |
| `Holiday Label` | Метка для праздников. | `DarkOrange` |

## Порядок работы

1. Подготовьте CSV-файл в описанном формате и разместите его в каталоге терминала либо задайте абсолютный путь в параметре `Holiday File`.
2. Назначьте стратегию на нужный инструмент и убедитесь, что параметр `Candle Type` соответствует выбранному таймфрейму.
3. Запустите стратегию. После первой завершённой свечи в журнале появится блок вида:
   ```
   Holiday overview:
   2024-06-15 | Tomorrow | saturday | - | Blue
   2024-06-14 | Today | workday | Flag Day in United States | DarkOrange
   2024-06-13 | Yesterday | workday | - | LightBlue
   2024-06-12 | 2 days ago | workday | - | LightBlue
   2024-06-11 | 3 days ago | workday | - | LightBlue
   ```
4. Следите за журналом, чтобы контролировать приближающиеся выходные и праздники. При обновлении CSV перезапустите стратегию, чтобы перечитать данные.

## Дополнительные сведения

- Сравнение тикеров нечувствительно к регистру и допускает частичные совпадения, как и в оригинальном MQL-скрипте.
- Если нужно отображать только завтра и сегодня, установите `History Depth` в ноль.
- Цветовые метки — это лишь текстовые подписи. Их можно заменить на любые обозначения, принятые в вашей схеме оформления графиков.
- Строки с отсутствующим файлом или некорректной датой игнорируются. В журнал выводится количество успешно загруженных праздников для контроля.
