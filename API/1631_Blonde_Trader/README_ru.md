# Стратегия Blonde Trader

Blonde Trader — это сеточная стратегия, портированная из MQL. Она ищет отклонение цены от недавних экстремумов и открывает позицию с набором отложенных заявок.

## Идея

- Рассчитывается максимум и минимум за последние **Period X** свечей.
- Если текущая цена ниже недавнего максимума больше чем на **Limit** тиков, открывается длинная позиция и выставляется серия отложенных заявок Buy Limit.
- Если текущая цена выше недавнего минимума больше чем на **Limit** тиков, открывается короткая позиция и выставляется серия заявок Sell Limit.
- Все позиции закрываются при достижении суммарной прибыли **Amount**.
- Дополнительно после прохождения цены на **LockDown** тиков в прибыль ставится защитная стоп-заявка на уровне безубыточности.

## Параметры

| Имя | Описание |
| ---- | ----------- |
| `PeriodX` | Длина окна для поиска максимумов и минимумов. |
| `Limit` | Минимальное расстояние в тиках от текущей цены до экстремума. |
| `Grid` | Шаг сетки в тиках между отложенными заявками. |
| `Amount` | Целевой уровень прибыли в валюте счёта. |
| `LockDown` | Расстояние в тиках для переноса стопа в безубыток. |
| `CandleType` | Тип свечей для анализа. |

## Индикаторы

- `Highest` — отслеживает максимумы за период.
- `Lowest` — отслеживает минимумы за период.

## Логика заявок

1. Длинный сигнал:
   - Покупка по рынку стандартным объёмом стратегии.
   - Четыре дополнительных Buy Limit ниже цены входа с шагом **Grid**, объём каждой увеличивается вдвое.
2. Короткий сигнал:
   - Продажа по рынку стандартным объёмом.
   - Четыре дополнительных Sell Limit выше входа с тем же шагом и удвоением объёма.
3. При достижении `PnL` уровня **Amount** все позиции и заявки закрываются.
4. Если `LockDown` больше нуля и цена прошла указанное количество тиков в прибыль, выставляется защитный стоп на один тик за ценой входа.

## Примечания

Стратегия демонстрирует базовую идею сеточной торговли и использует только высокоуровневые возможности API: подписку на свечи, привязку индикаторов и функции упрощённой регистрации заявок.
