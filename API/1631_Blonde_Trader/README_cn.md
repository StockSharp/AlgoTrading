# Blonde Trader 策略

Blonde Trader 是从 MQL 移植而来的网格交易策略。它监控价格相对近期极值的偏离程度，并在触发条件时建立头寸并挂出一组挂单。

## 思路

- 计算最近 **Period X** 根 K 线的最高价和最低价。
- 当当前价格低于最近最高价超过 **Limit** 个跳动点时，按市价买入并在下方按 **Grid** 间距挂出一系列 Buy Limit 单。
- 当当前价格高于最近最低价超过 **Limit** 个跳动点时，按市价卖出并在上方按 **Grid** 间距挂出一系列 Sell Limit 单。
- 当累计利润达到 **Amount** 时，关闭所有头寸和挂单。
- 另外，如果价格朝有利方向运行了 **LockDown** 个跳动点，会在成本价附近放置保护性止损单。

## 参数

| 名称 | 说明 |
| ---- | ---- |
| `PeriodX` | 计算极值的回溯周期长度。 |
| `Limit` | 当前价格距离极值的最小跳动点数。 |
| `Grid` | 网格挂单之间的跳动点间隔。 |
| `Amount` | 以账户货币计的目标利润。 |
| `LockDown` | 价格获利一定跳动点后移动止损到保本价。 |
| `CandleType` | 用于分析的 K 线类型。 |

## 指标

- `Highest` – 追踪窗口内的最高价。
- `Lowest` – 追踪窗口内的最低价。

## 订单逻辑

1. 多头信号：
   - 按市价买入默认数量。
   - 在入场价下方按 **Grid** 间隔挂出四个 Buy Limit，每个订单的数量翻倍。
2. 空头信号：
   - 按市价卖出默认数量。
   - 在入场价上方按相同间隔挂出四个 Sell Limit，数量同样逐次翻倍。
3. 当 `PnL` 达到 **Amount** 时，所有头寸与挂单立即关闭。
4. 若 `LockDown` 大于零且价格朝有利方向运行到指定跳动点，则在成本价附近放置一张保护性的止损单。

## 备注

该策略演示了基本的网格交易思想，使用了高层 API 特性：`SubscribeCandles`、指标绑定以及 `BuyMarket`、`SellLimit`、`SellStop` 等简化下单函数。
