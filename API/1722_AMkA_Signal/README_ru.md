# Стратегия AMkA Signal

## Обзор

Стратегия использует производную адаптивной скользящей средней Кауфмана (KAMA) и фильтр волатильности на основе стандартного отклонения. Длинная позиция открывается, когда изменение KAMA превышает положительный порог, короткая – когда изменение опускается ниже отрицательного порога. Порог вычисляется как произведение стандартного отклонения изменений KAMA и заданного множителя.

## Параметры

- **KAMA Length** – период расчёта индикатора KAMA.
- **Fast Period** – период быстрого EMA в расчёте KAMA.
- **Slow Period** – период медленного EMA в расчёте KAMA.
- **Deviation Multiplier** – множитель для стандартного отклонения при формировании порога.
- **Take Profit** – процент фиксации прибыли.
- **Stop Loss** – процент защитного стопа.
- **Candle Type** – таймфрейм свечей для расчётов.

## Логика торговли

1. Подписка на свечи выбранного таймфрейма.
2. Расчёт KAMA и её изменения относительно предыдущего значения.
3. Обновление индикатора стандартного отклонения значениями изменения.
4. При превышении `Deviation Multiplier * StdDev`:
   - Изменение больше порога – закрываются короткие и открываются длинные позиции.
   - Изменение меньше отрицательного порога – закрываются длинные и открываются короткие позиции.
5. Защитные приказы по take profit и stop loss выставляются автоматически через `StartProtection`.

## Примечания

Стратегия работает только с завершёнными свечами. Отступы в коде выполнены табуляцией, комментарии – на английском языке.
