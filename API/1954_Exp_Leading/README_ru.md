# Стратегия Exp Leading

Эта стратегия реализует систему пересечений на основе кастомного индикатора **Leading**, описанного Джоном Эллерсом в книге «Cybernetics Analysis for Stock and Futures». Индикатор строит две линии:

1. **NetLead** – сглаженный ведущий фильтр, управляемый коэффициентами `Alpha1` и `Alpha2`.
2. **EMA** – экспоненциальное среднее с постоянным множителем 0.5.

Стратегия работает на завершённых свечах выбранного таймфрейма. Когда линия NetLead пересекает **снизу** линию EMA, предполагается разворот вверх и открывается длинная позиция. При пересечении NetLead **сверху** EMA открывается короткая позиция. Предыдущая позиция закрывается автоматически встречным ордером.

## Параметры

- `Alpha1` – коэффициент промежуточного расчёта. По умолчанию `0.25`.
- `Alpha2` – фактор сглаживания. По умолчанию `0.33`.
- `CandleType` – тип свечей для расчётов. По умолчанию четырёхчасовой таймфрейм.
- `StopLoss` – стоп‑лосс в абсолютных единицах цены. По умолчанию `1000`.
- `TakeProfit` – тейк‑профит в абсолютных единицах цены. По умолчанию `2000`.

## Логика торговли

1. На каждой завершённой свече пересчитываются значения NetLead и EMA.
2. Если на предыдущей свече NetLead была выше EMA, а на последней стала ниже, отправляется рыночный ордер **на покупку**.
3. Если NetLead была ниже EMA, а затем стала выше, отправляется рыночный ордер **на продажу**.
4. Метод `StartProtection` автоматически применяет стоп‑лосс и тейк‑профит.

Пример предназначен для демонстрации переноса стратегии из MetaTrader на высокоуровневый API StockSharp.
