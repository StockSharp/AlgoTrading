# Стратегия Force DiverSign

Стратегия Force DiverSign торгует на основе дивергенций между двумя индикаторами Force Index,
вычисленными с разными периодами сглаживания. Используется разворотный паттерн из трёх свечей
вместе с противоположными колебаниями быстрого и медленного значений Force. При бычьей дивергенции
стратегия покупает, при медвежьей – продаёт.

## Параметры
- `Period1` – период быстрого Force Index.
- `Period2` – период медленного Force Index.
- `MaType1` – тип скользящей средней для быстрого Force Index.
- `MaType2` – тип скользящей средней для медленного Force Index.
- `CandleType` – таймфрейм свечей для расчётов.

## Логика торговли
1. Рассчитывается сырой Force Index как объём, умноженный на изменение цены закрытия.
2. Сырое значение сглаживается двумя скользящими средними для получения быстрых и медленных рядов Force.
3. Хранятся последние пять значений Force и четыре последние свечи.
4. **Покупка**, когда:
   - Три предыдущие свечи образуют паттерн вниз–вверх–вниз.
   - Оба ряда Force формируют локальное дно и затем растут.
   - Быстрое и медленное значения Force движутся в противоположных направлениях между первой и третьей свечой.
5. **Продажа**, когда:
   - Три предыдущие свечи образуют паттерн вверх–вниз–вверх.
   - Оба ряда Force формируют локальную вершину и затем падают.
   - Быстрое и медленное значения Force движутся в противоположных направлениях между первой и третьей свечой.

Позиции разворачиваются при каждом сигнале: покупка закрывает шорт, продажа закрывает лонг.
