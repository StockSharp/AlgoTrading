# Directed Movement 策略

## 概述

该策略复刻了 MetaTrader 中的 **Directed Movement** 智能交易系统。它先计算相对强弱指数（RSI），然后通过两次移动平均进行平滑：第一次平滑得到快速线，第二次平滑得到慢速线。

交易信号基于这两条线的反向交叉：

- 当快速线向下穿越慢速线时买入；
- 当快速线向上穿越慢速线时卖出；

止损和止盈可以按入场价格的百分比设置。

## 指标

- `RelativeStrengthIndex` —— 基础动量指标；
- `MovingAverage` —— RSI 的第一次平滑（快速线）；
- `MovingAverage` —— 快速线的第二次平滑（慢速线）。

## 交易规则

1. 使用收盘价计算 RSI；
2. 用第一条移动平均线平滑 RSI，得到快速线；
3. 再用第二条移动平均线平滑快速线，得到慢速线；
4. 当快速线从上向下穿越慢速线时开多，并在必要时平掉空头；
5. 当快速线从下向上穿越慢速线时开空，并在必要时平掉多头；
6. 如设置了止损或止盈，则在交易保护中使用它们。

## 参数

| 名称 | 说明 |
|------|------|
| `CandleType` | 用于计算的蜡烛序列类型；|
| `RsiPeriod` | RSI 的周期；|
| `FirstMaType` | 快速线使用的移动平均类型；|
| `FirstMaLength` | 快速线的周期；|
| `SecondMaType` | 慢速线使用的移动平均类型；|
| `SecondMaLength` | 慢速线的周期；|
| `StopLossPercent` | 以百分比表示的止损；|
| `TakeProfitPercent` | 以百分比表示的止盈；|

