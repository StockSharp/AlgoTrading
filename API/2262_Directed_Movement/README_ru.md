# Стратегия Directed Movement

## Обзор

Стратегия повторяет работу советника **Directed Movement** из MetaTrader. В ней используется индекс относительной силы (RSI), который дважды сглаживается скользящими средними. Первое сглаживание образует быструю линию, второе — более медленную.

Торговые решения принимаются на основе пересечения этих линий в контртрендовом стиле:

- **Покупка** при пересечении быстрой линии ниже медленной.
- **Продажа** при пересечении быстрой линии выше медленной.

Стоп‑лосс и тейк‑профит задаются в процентах от цены входа.

## Индикаторы

- `RelativeStrengthIndex` — базовый индикатор импульса.
- `MovingAverage` — первое сглаживание RSI (быстрая линия).
- `MovingAverage` — второе сглаживание (медленная линия).

## Правила торговли

1. Рассчитать RSI по закрытиям свечей.
2. Сгладить RSI первой скользящей средней, получив быструю линию.
3. Сгладить быструю линию второй скользящей средней, получив медленную линию.
4. Открыть длинную позицию, когда быстрая линия пересекает медленную сверху вниз. Перед входом закрыть короткую позицию, если она есть.
5. Открыть короткую позицию, когда быстрая линия пересекает медленную снизу вверх. Перед входом закрыть длинную позицию.
6. При необходимости применить стоп‑лосс и тейк‑профит.

## Параметры

| Имя | Описание |
|-----|----------|
| `CandleType` | Тип свечей для расчётов. |
| `RsiPeriod` | Период расчёта RSI. |
| `FirstMaType` | Тип скользящей средней для быстрой линии. |
| `FirstMaLength` | Период первой скользящей средней. |
| `SecondMaType` | Тип скользящей средней для медленной линии. |
| `SecondMaLength` | Период второй скользящей средней. |
| `StopLossPercent` | Размер стоп‑лосса в процентах. |
| `TakeProfitPercent` | Размер тейк‑профита в процентах. |

