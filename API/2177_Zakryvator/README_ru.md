# Стратегия Zakryvator
[English](README.md) | [中文](README_cn.md)

Стратегия Zakryvator служит модулем управления риском: она контролирует текущую открытую позицию и закрывает её, как только нереализованный убыток превышает заранее заданный порог. Допустимый убыток зависит от объёма позиции, что повторяет логику исходного MQL‑скрипта, где для разных лотов установлены разные ограничения.

Стратегия не открывает сделки самостоятельно. Предполагается, что позиции открываются вручную или другой стратегией, а Zakryvator лишь защищает счёт, автоматически закрывая убыточные сделки.

## Детали

- **Условия входа**: отсутствуют; стратегия управляет только уже открытыми позициями.
- **Условия выхода**: позиция закрывается при достижении порога убытка для её объёма.
- **Длинные/Короткие**: поддерживаются оба направления.
- **Стопы**: фиксированные ограничения убытка, зависящие от объёма.
- **Фильтры**: отсутствуют.

## Параметры

| Параметр | Описание |
|----------|----------|
| `Min001002` | Максимальный убыток для объёма ≤ 0.02 лота. |
| `Min002005` | Максимальный убыток для объёма 0.02–0.05 лота. |
| `Min00501` | Максимальный убыток для объёма 0.05–0.10 лота. |
| `Min0103` | Максимальный убыток для объёма 0.10–0.30 лота. |
| `Min0305` | Максимальный убыток для объёма 0.30–0.50 лота. |
| `Min051` | Максимальный убыток для объёма 0.50–1 лот. |
| `MinFrom1` | Максимальный убыток для объёма более 1 лота. |

## Поведение

1. Стратегия подписывается на тиковые сделки и отслеживает цену в реальном времени.
2. На каждом тике рассчитывается нереализованный PnL по текущей цене и средней цене входа.
3. Если убыток превышает порог для соответствующего объёма, позиция закрывается по рынку.

Таким образом, Zakryvator предоставляет простой и эффективный способ ограничить просадку в зависимости от размера сделки.

