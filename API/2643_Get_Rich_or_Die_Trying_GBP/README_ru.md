# Стратегия Get Rich or Die Trying GBP
[English](README.md) | [中文](README_cn.md)

Эта стратегия StockSharp воспроизводит поведение советника MetaTrader «Get Rich or Die Trying GBP». Она сосредотачивается на активном пересечении сессий Лондона и Нью-Йорка и ждёт короткого импульса дисбаланса на минутных свечах. Алгоритм подсчитывает, сколько последних баров закрылись ниже цены открытия (в оригинале они назывались "бычьими"), и сравнивает их с количеством баров, закрывшихся выше открытия. Когда значения отличаются, стратегия ищет возможность войти против более слабой стороны в первые пять минут выбранных временных окон.

Система держит только одну позицию одновременно. После каждого входа действует пауза минимум 61 секунду, работают основной фиксированный тейк-профит и более близкая цель раннего выхода, а при необходимости подключается трейлинг-стоп после достаточного движения цены. Все расстояния заданы в пунктах и пересчитываются через минимальный шаг цены инструмента (для котировок с 3 и 5 знаками применяется множитель ×10), чтобы логика совпадала с реализацией в MT5.

## Подробности

- **Условия входа**:
  - **Покупка**: за последние `CountBars` минутных свечей больше баров с `Open > Close`, чем с `Open < Close`; текущее время попадает в первые пять минут после `22:00 + AdditionalHour` или `19:00 + AdditionalHour`; позиций нет; выдержана пауза в 61 секунду.
  - **Продажа**: больше баров с `Open < Close`, чем с `Open > Close`, при тех же временных ограничениях и паузе.
- **Направление**: длинные и короткие позиции.
- **Условия выхода**:
  - Основной тейк-профит на расстоянии `TakeProfitPips` и стоп-лосс на `StopLossPips` от цены входа.
  - Принудительный выход при достижении плавающей прибыли `SecondaryTakeProfitPips`.
  - Необязательный трейлинг-стоп, который активируется после прохождения `TrailingStopPips + TrailingStepPips` и переносит стоп на расстояние `TrailingStopPips`, соблюдая шаг трейлинга.
- **Стопы**: фиксированный стоп-лосс, фиксированный тейк-профит, дополнительный тейк-профит и опциональный трейлинг-стоп.
- **Фильтр по времени**: сделки только в первые пять минут после скорректированных отметок 19:00 и 22:00.
- **Пауза**: минимум 61 секунда после каждого входа перед открытием новой сделки.
- **Значения по умолчанию**:
  - `StopLossPips` = 100
  - `TakeProfitPips` = 100
  - `SecondaryTakeProfitPips` = 40
  - `TrailingStopPips` = 30
  - `TrailingStepPips` = 5
  - `CountBars` = 18
  - `AdditionalHour` = 2
  - `MaxPositions` = 1000
  - `CandleType` = таймфрейм 1 минута
- **Примечания**:
  - Параметр `MaxPositions` сохранён для совместимости, но данная реализация держит не более одной позиции.
  - Пересчёт пунктов автоматически учитывает инструменты с 3 и 5 знаками, умножая шаг цены на 10.
  - Логика трейлинг-стопа повторяет MT5: стоп не двигается, пока цена не пройдёт расстояние `TrailingStopPips` плюс шаг `TrailingStepPips`.
