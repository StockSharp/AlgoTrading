# Стратегия Larry Connors RSI-2
[English](README.md) | [中文](README_cn.md)

Порт стратегии Larry Connors RSI-2 для StockSharp. Алгоритм использует быструю RSI с периодом 2 и пару скользящих средних на часовом таймфрейме, чтобы отлавливать краткосрочные возвраты к среднему и фильтровать сделки в направлении долгосрочного тренда. Опциональные стоп-лосс и тейк-профит в пунктах повторяют логику оригинального эксперта для MetaTrader.

## Краткое описание

- **Тип**: Контртренд с фильтром по тренду.
- **Рынок**: Валютные пары на графике H1.
- **Направление**: Открывает как длинные, так и короткие позиции, но только если цена находится по нужную сторону от медленной SMA.
- **Индикаторы**: SMA(5) для выхода, SMA(200) для фильтра, RSI(2) для сигналов.

## Правила торговли

### Вход в лонг
- Значение RSI падает ниже порога `RSI Long Entry` (по умолчанию 6).
- Закрытие свечи находится выше `Slow SMA` (200 периодов).
- Открытых позиций нет.

### Вход в шорт
- RSI поднимается выше `RSI Short Entry` (по умолчанию 95).
- Цена закрытия ниже `Slow SMA`.
- Стратегия находится вне рынка.

### Закрытие позиций
- **Лонг** закрывается, когда закрытие поднимается выше `Fast SMA` (5 периодов) либо срабатывает стоп/профит в пунктах при их активации.
- **Шорт** закрывается, когда закрытие опускается ниже `Fast SMA`, либо достигаются стоп или тейк-профит.

### Управление рисками
- Параметр `Use Stop Loss` включает фиксированное расстояние до стоп-лосса в пунктах от цены входа.
- `Use Take Profit` задаёт симметричный тейк-профит.
- Пересчёт пунктов в цену выполняется через `PriceStep` и количество знаков инструмента, как в оригинальной версии MT5 для четырёх- и пятизначных котировок.

## Значения по умолчанию

| Параметр | Значение | Описание |
|----------|----------|----------|
| `Trade Volume` | 1 | Объём заявки при входе. |
| `Fast SMA Period` | 5 | Быстрая SMA для выхода. |
| `Slow SMA Period` | 200 | Медленная SMA для фильтра тренда. |
| `RSI Period` | 2 | Период RSI. |
| `RSI Long Entry` | 6 | Порог RSI для покупки. |
| `RSI Short Entry` | 95 | Порог RSI для продажи. |
| `Use Stop Loss` | true | Включить защитный стоп. |
| `Stop Loss (pips)` | 30 | Расстояние до стоп-лосса в пунктах. |
| `Use Take Profit` | true | Включить фиксированный тейк-профит. |
| `Take Profit (pips)` | 60 | Расстояние до тейк-профита в пунктах. |
| `Candle Type` | 1 час | Рабочий таймфрейм. |

Все настраиваемые параметры помечены `.SetCanOptimize(true)`, поэтому легко оптимизируются в Designer или Tester.

## Особенности реализации

- Обработка сигналов выполняется по закрытию свечи, что повторяет поведение советника MT5.
- Уровни стопа и профита отслеживаются во внутреннем состоянии и закрывают всю позицию рыночными ордерами при достижении.
- При каждом перезапуске сбрасываются данные о размере пункта и ценах входа для воспроизводимых результатов.
- Для повторения опубликованных результатов подключите качественные исторические данные по выбранной валютной паре.

## Рекомендации по использованию

1. Подключите источник данных с часовыми свечами по интересующей валютной паре.
2. Добавьте стратегию в StockSharp Designer или запускайте через API.
3. При необходимости скорректируйте параметры стопа/профита под спецификации вашего брокера.
4. Используйте оптимизацию RSI и SMA, чтобы адаптировать стратегию под другие инструменты или таймфреймы.

Стратегия переносит ключевую идею Larry Connors RSI-2 в экосистему StockSharp, что позволяет удобно сравнивать результаты с MetaTrader-версией и комбинировать её с другими модулями S#.
