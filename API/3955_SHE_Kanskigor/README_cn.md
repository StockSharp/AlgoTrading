# She Kanskigor 日线策略

## 概述
She Kanskigor 日线策略复刻了 MetaTrader 指标 `SHE_kanskigor.mq4` 的交易思想。策略在每天固定的时间窗口内只开一笔仓位，根据上一根日线的方向选择做多或做空，并按照可配置的价格步长自动平仓。

## 交易逻辑
1. 同时订阅所选品种的日线和日内（默认 1 分钟）K 线数据。
2. 每当收到一根已完成的日线时，更新其开盘价和收盘价。
3. 对于每根已完成的日内 K 线：
   - 当日期发生变化时重置“今日是否已交易”的标志。
   - 检查当前持仓是否触及止盈或止损水平，若触及则以市价平仓。
   - 判断当前时间是否处于设定的入场窗口（默认开始时间 00:05，持续 5 分钟）。
   - 若当日尚未开仓且已取得上一根日线数据：
     - 若上一根日线收阴（开盘价高于收盘价），则买入做多。
     - 若上一根日线收阳（开盘价低于收盘价），则卖出做空。
   - 如果上一根日线收盘价等于开盘价，则跳过交易。
4. 当收盘价触及止盈或止损水平时，策略使用市价单离场。

## 参数
| 名称 | 说明 | 默认值 |
| ---- | ---- | ------ |
| **Volume** | 入场订单的交易量。 | `0.1` |
| **Take Profit** | 止盈距离，按价格步长计（0 表示禁用）。 | `35` |
| **Stop Loss** | 止损距离，按价格步长计（0 表示禁用）。 | `55` |
| **Start Time** | 入场窗口开始时间（交易所时区）。 | `00:05` |
| **Window (min)** | 入场窗口持续时间，单位为分钟。 | `5` |
| **Intraday Candle** | 日内处理所使用的 K 线类型（默认 1 分钟）。 | `TimeFrameCandleMessage(1m)` |

## 补充说明
- 每个交易日最多只开一笔仓位。
- 策略会等待完整的日线数据后才会开仓。
- 止盈止损逻辑基于已完成日内 K 线的收盘价。
- 代码遵循项目的统一规范：使用 StockSharp 高级 API、制表符缩进、参数带有元数据，所有注释均为英文。
