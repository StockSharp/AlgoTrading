# Стратегия Breakout Bars Trend
[English](README.md) | [中文](README_cn.md)

Стратегия определяет развороты тренда с помощью индикатора Parabolic SAR. Перед входом в сделку она ожидает заданное число неудачных разворотов, после чего открывается в сторону нового тренда. Расстояния для стоп‑лосса и тейк‑профита задаются либо в пунктах, либо в процентах от цены входа.

## Параметры

- **Reversal Mode** – выбор расчёта дистанций: пункты или проценты.
- **Delta** – минимальное движение цены между разворотами.
- **Negative Signals** – сколько отрицательных разворотов должно произойти перед входом.
- **Stop Loss** – расстояние защитного ордера от цены входа.
- **Take Profit** – расстояние целевой прибыли от цены входа.
- **Candle Type** – тип свечей для расчётов.

## Логика

1. Подписка на свечи и расчёт Parabolic SAR.
2. При смене направления индикатора и движении цены не менее чем на *Delta* запоминается цена разворота.
3. Подсчитываются отрицательные развороты, когда цена шла против предыдущего тренда.
4. При достижении порога **Negative Signals** открывается позиция в новом направлении.
5. На каждой свече проверяются уровни стоп‑лосса и тейк‑профита согласно выбранному **Reversal Mode**.
6. Позиция закрывается при смене тренда или срабатывании защитных уровней.

Стратегия предназначена для следования за трендом и позволяет оптимизировать параметры delta, стоп‑лосс и тейк‑профит.
