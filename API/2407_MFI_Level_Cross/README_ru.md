# Стратегия пересечения уровней MFI
[English](README.md) | [中文](README_cn.md)

Стратегия использует осциллятор Money Flow Index (MFI) для определения перекупленности и перепроданности. Когда MFI пересекает заданные пороговые уровни, стратегия открывает или разворачивает позиции. В зависимости от выбранного режима она может торговать по направлению пересечения или против него.

По умолчанию анализируются четырёхчасовые свечи и рассчитывается MFI с периодом 14. Стратегия открывает длинную позицию, когда MFI опускается ниже нижнего уровня, и короткую позицию, когда поднимается выше верхнего уровня. В режиме "Against" логика входа инвертируется и торгуется против направления индикатора.

Управление риском осуществляется с помощью стоп-лосса и тейк-профита, задаваемых в процентах от цены входа.

## Подробности

- **Условия входа**:
  - **Режим Direct**:
    - **Long**: Предыдущее значение MFI > нижний уровень и текущее значение MFI ≤ нижний уровень.
    - **Short**: Предыдущее значение MFI < верхний уровень и текущее значение MFI ≥ верхний уровень.
  - **Режим Against**:
    - **Long**: Предыдущее значение MFI < верхний уровень и текущее значение MFI ≥ верхний уровень.
    - **Short**: Предыдущее значение MFI > нижний уровень и текущее значение MFI ≤ нижний уровень.
- **Long/Short**: Оба направления.
- **Условия выхода**: Позиция разворачивается при появлении противоположного сигнала или закрывается модулем защиты.
- **Стопы**: Стоп-лосс и тейк-профит в процентах от цены входа.
- **Значения по умолчанию**:
  - `Тип свечей` = четырёхчасовые.
  - `Период MFI` = 14.
  - `Нижний уровень` = 40.
  - `Верхний уровень` = 60.
  - `Стоп-лосс %` = 1.
  - `Тейк-профит %` = 2.
- **Фильтры**:
  - Категория: Осциллятор
  - Направление: Настраивается
  - Индикаторы: Money Flow Index
  - Стопы: Да
  - Сложность: Базовая
  - Таймфрейм: Среднесрочный
  - Сезонность: Нет
  - Нейросети: Нет
  - Дивергенция: Нет
  - Уровень риска: Средний

## Примечания

Реализация использует высокоуровневый API StockSharp. Стратегия подписывается на данные свечей, связывает индикатор MFI и исполняет рыночные заявки при выполнении условий. Модуль защиты инициализируется один раз при старте и автоматически управляет риском.
