# Стратегия OSF Countertrend
[English](README.md) | [中文](README_cn.md)

Стратегия воспроизводит контртрендовый эксперт Open Source Forex «Overbought/Oversold».
Осциллятор исходной версии моделируется значением RSI, а отклонение от уровня равновесия 50
определяет направление сделки и величину позиции. Сделки открываются по закрытию свечи и
закрываются фиксированным тейк-профитом, выраженным в пунктах инструмента.

## Правила торговли

- **Данные**: Закрытые свечи типа `CandleType`.
- **Индикатор**: RSI с периодом `RsiPeriod`. В MQL-версии усреднялись пять одинаковых значений RSI,
  поэтому одного индикатора достаточно.
- **Логика входа**:
  - RSI > 50 — рынок перекуплен, открывается короткая позиция.
  - RSI < 50 — рынок перепродан, открывается длинная позиция.
  - Абсолютное отклонение |RSI − 50| умножается на `VolumePerPoint` и задаёт торгуемый объём.
- **Пауза**: После каждой сделки стратегия пропускает `CooldownBars` закрытых свечей. Это повторяет
  «сглаживание» по барам из оригинального кода.
- **Выход**: Для каждой позиции задаётся тейк-профит на расстоянии `TakeProfitPoints` * `PriceStep` от
  цены входа. Стоп-лосс не используется, как и в исходном эксперте.
- **Реверс**: При смене направления объём заявки увеличивается, чтобы закрыть текущую позицию перед
  открытием новой.

## Параметры

| Параметр | Описание |
|----------|----------|
| `RsiPeriod` | Период RSI, имитирующий осциллятор OSF (по умолчанию 14). |
| `VolumePerPoint` | Объём на каждый пункт отклонения RSI от уровня 50 (по умолчанию 0.01). |
| `TakeProfitPoints` | Расстояние до тейк-профита в пунктах инструмента (по умолчанию 150). |
| `CooldownBars` | Количество закрытых свечей ожидания после сделки (по умолчанию 5). |
| `CandleType` | Тип свечей для расчётов (по умолчанию таймфрейм 1 минута). |

## Примечания

- Для корректного расчёта тейк-профита у инструмента должен быть задан `PriceStep`. При его отсутствии
  берётся шаг 1.
- В исходном советнике нет защиты позиции. Для реальной торговли рекомендуется добавить управление
  рисками и ограничения просадки.
