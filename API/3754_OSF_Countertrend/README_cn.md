# OSF 逆势策略
[English](README.md) | [Русский](README_ru.md)

该策略复刻 Open Source Forex 的“超买/超卖”逆势专家。
通过一个 RSI 指标来近似原始振荡器，并把与 50 均衡水平的偏离视为方向与仓位规模信号。
所有交易都在完成的K线收盘时触发，并以固定点数的止盈价离场。

## 交易规则

- **数据**：使用参数 `CandleType` 定义的已完成K线。
- **指标**：周期为 `RsiPeriod` 的 RSI。原版专家对五个相同的 RSI 结果求平均，
  因此此处单个 RSI 即可重现行为。
- **信号逻辑**：
  - 当 RSI > 50 时认为市场超买，开空头仓位。
  - 当 RSI < 50 时认为市场超卖，开多头仓位。
  - 绝对偏差 |RSI − 50| 乘以 `VolumePerPoint` 得出下单数量。
- **冷却**：每次下单后等待 `CooldownBars` 根已完成K线后再评估下一次入场，
  对应原代码中的柱状平滑。
- **离场**：下单后设置手动止盈，距离为 `TakeProfitPoints` × `PriceStep`。
  策略不使用止损，与原始专家保持一致。
- **反手**：如果出现反向信号，会通过增加委托数量先平掉当前仓位再建立新仓。

## 参数

| 参数 | 说明 |
|------|------|
| `RsiPeriod` | 用于逼近 OSF 振荡器的 RSI 周期，默认 14。 |
| `VolumePerPoint` | RSI 每偏离 1 点所交易的数量，默认 0.01。 |
| `TakeProfitPoints` | 止盈距离（以合约最小价位单位计），默认 150。 |
| `CooldownBars` | 每次交易后的等待K线数量，默认 5。 |
| `CandleType` | 指标计算所使用的K线类型，默认 1 分钟。 |

## 备注

- 若所选品种未设置 `PriceStep`，策略会假设步长为 1 来计算止盈。
- 原策略缺乏风险控制，实盘使用时建议结合额外的资金和风控管理。
