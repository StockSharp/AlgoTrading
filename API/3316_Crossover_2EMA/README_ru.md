# Стратегия Crossover 2 EMA
[English](README.md) | [中文](README_cn.md)

Стратегия повторяет логику советника MetaTrader «Crossover_2EMA» и торгует пересечения экспоненциальных скользящих средних (EMA), рассчитанных по цене закрытия. Когда быстрая EMA поднимается выше медленной, открывается длинная позиция. При обратном пересечении стратегия немедленно переворачивается в короткую позицию. Таким образом, позиция всегда совпадает с текущей тенденцией по отношению быстрого и медленного сглаживания.

## Торговая логика
1. Подписка на выбранный тип свечей и расчёт двух EMA с заданными периодами.
2. На каждой завершённой свече вычисляется разница между значениями быстрой и медленной EMA.
3. Если разница переходит из отрицательной или нулевой области в положительную, закрываются короткие позиции и открывается длинная позиция с заданным объёмом.
4. Если разница переходит из положительной или нулевой области в отрицательную, закрываются длинные позиции и открывается короткая позиция.
5. Используются рыночные приказы, что обеспечивает немедленное реагирование и позволяет одним ордером закрыть старую позицию и открыть новую в противоположную сторону.

## Управление рисками
- При старте вызывается `StartProtection()`, что позволяет задействовать стандартные защитные механизмы StockSharp (ограничение просадки, торговый регламент, аварийные стопы и т. п.).
- Перевороты осуществляются единым приказом, благодаря чему снижается задержка между закрытием и открытием позиции.

## Параметры
- **Тип свечей** — источник данных для расчёта EMA.
- **Период быстрой EMA** — длительность быстрой EMA; должен быть меньше периода медленной EMA.
- **Период медленной EMA** — длительность медленной EMA; должен быть больше периода быстрой EMA.

## Дополнительные замечания
- Торговля начинается только после формирования обеих EMA, что исключает ложные сигналы на старте.
- Значения по умолчанию (12 и 24 на минутных свечах) соответствуют исходному советнику из MQL.
- Параметры помечены как доступные для оптимизации, что упрощает пакетный перебор в StockSharp.
