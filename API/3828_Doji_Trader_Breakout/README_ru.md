# Стратегия Doji Trader

Стратегия представляет собой конвертацию эксперта MQL4 "DojiTrader" в пример на C# для StockSharp. Она ищет свежие свечи-доджи и торгует пробой их диапазона в основные европейские и американские часы.

## Логика торговли
- Обрабатываются только завершённые свечи выбранного таймфрейма (по умолчанию 30 минут).
- Открытие сделок разрешено только с 08:00 до 17:00 по времени площадки.
- Находясь вне позиции, стратегия анализирует до трёх последних завершённых свечей и запоминает самую свежую свечу-доджи (открытие равно закрытию).
- Если следующая за доджи свеча закрывается выше максимума доджи, готовится пробой вверх. Если она закрывается ниже минимума доджи, готовится пробой вниз.
- Когда последующая свеча закрывается за ценой пробоя, отправляется рыночная заявка в сторону пробоя.
- После входа диапазон доджи сохраняется для контроля выхода. Позиция закрывается, когда:
  - Предыдущая свеча закрывается обратно в диапазоне (для лонга – закрытие ниже минимума доджи, для шорта – выше максимума).
  - Экстремумы свечи достигают синтетических уровней стоп-лосса или тейк-профита, имитирующих фиксированные пункты оригинального советника.

## Параметры
- **Order volume** – объём рыночных заявок.
- **Take profit (steps)** – расстояние до тейк-профита в шагах цены.
- **Stop loss (steps)** – расстояние до стоп-лосса в шагах цены.
- **Candle type** – таймфрейм свечей для расчётов.

Стоп-лосс и тейк-профит рассчитываются через шаг цены инструмента, повторяя логику исходного MQL4-советника с фиксированным количеством пунктов. Если в последних трёх свечах нет подходящего доджи, состояние пробоя сбрасывается и поиск начинается заново.
