# 平滑蜡烛策略

该策略基于平滑蜡烛的颜色进行交易。对于每个完成的蜡烛，计算收盘价与开盘价之差并通过移动平均线平滑。当平滑后的差值改变符号时，蜡烛颜色发生切换，策略相应反转头寸。

## 逻辑

1. 订阅可配置的蜡烛序列。
2. 计算每个完成蜡烛的 `diff = close - open`。
3. 使用选定的移动平均线平滑 `diff`。
4. 判断颜色：
   - `smoothed diff > 0` 时为 **颜色 0**（收盘高于开盘）。
   - 否则为 **颜色 1**。
5. 生成信号：
   - 颜色从 0 变为 1 时 **买入**。
   - 颜色从 1 变为 0 时 **卖出**。
6. 开仓前先平掉当前持仓。

## 参数

- `CandleType` – 处理蜡烛的时间框架，默认 1 小时。
- `MaLength` – 平滑移动平均的长度，默认 30。
- `MaMethods` – 移动平均算法：`Simple`、`Exponential`、`Smma`、`Weighted`，默认 `Weighted`。

## 说明

- 策略通过 `BuyMarket` 和 `SellMarket` 发送市价单。
- 使用高级 API 进行蜡烛订阅和图表可视化。
- 指标值通过 `TryGetValue` 获取，避免直接访问缓冲区。
