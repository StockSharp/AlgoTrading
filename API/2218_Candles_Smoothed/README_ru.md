# Стратегия сглаженных свечей

Эта стратегия торгует по цвету сглаженных свечей. Для каждой завершённой свечи вычисляется разность между ценой закрытия и открытия, затем она сглаживается выбранным скользящим средним. Когда сглаженная разность меняет знак, цвет свечи переключается и стратегия разворачивает позицию.

## Логика

1. Подписка на настраиваемый ряд свечей.
2. Расчёт `diff = close - open` для каждой завершённой свечи.
3. Сглаживание `diff` выбранным скользящим средним.
4. Определение цвета:
   - **Цвет 0** если `smoothed diff > 0` (закрытие выше открытия).
   - **Цвет 1** в остальных случаях.
5. Сигналы:
   - **Покупка** при переходе цвета с 0 на 1.
   - **Продажа** при переходе цвета с 1 на 0.
6. Перед открытием новой позиции текущая позиция закрывается.

## Параметры

- `CandleType` – таймфрейм обрабатываемых свечей, по умолчанию 1 час.
- `MaLength` – длина сглаживающего скользящего среднего, по умолчанию 30.
- `MaMethods` – алгоритм скользящего среднего: `Simple`, `Exponential`, `Smma`, `Weighted`; по умолчанию `Weighted`.

## Примечания

- Стратегия использует рыночные заявки через `BuyMarket` и `SellMarket`.
- Для подписки на свечи и визуализации применяется высокоуровневый API.
- Значения индикатора получаются с помощью `TryGetValue`, без прямого доступа к буферам.
