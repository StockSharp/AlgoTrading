# Стратегия No Nonsense Tester

## Обзор
**No Nonsense Tester** – порт эксперта MQL4 "NoNonsenseTester" на платформу StockSharp. Реализация повторяет ключевую идеологию NNFX: сначала определяется трендовая базовая линия, затем проверяются два подтверждающих индикатора, дополнительно оценивается волатильность через ATR, после чего сделки сопровождаются строгими правилами выхода. Все важные параметры вынесены в `StrategyParam`, что позволяет проводить многофакторную оптимизацию в экосистеме StockSharp.

## Логика торговли
1. **Базовая линия** – экспоненциальная скользящая средняя с настраиваемым периодом задаёт направление тренда. Сделки рассматриваются только при закрытии цены по другую сторону линии.
2. **Первое подтверждение** – RSI должен находиться выше заданного уровня для покупок либо ниже взаимодополняющего уровня для продаж.
3. **Второе подтверждение** – CCI обязан совпадать с направлением сигнала и превышать заданную абсолютную величину, отсекая слабые импульсы.
4. **Фильтр волатильности** – значение ATR должно быть не ниже `AtrMinimum`, что защищает стратегию от торговли во флэтовых условиях.
5. **Вход** – при выполнении всех условий стратегия открывает позицию по направлению пробоя. Объём может масштабироваться с учётом ATR через параметр `AtrEntryMultiplier`.
6. **Стоп и цель** – сразу после входа рассчитываются уровни стоп-лосса и тейк-профита в кратных ATR. При необходимости включается трейлинг-стоп, который подтягивает защиту вслед за движением.
7. **Выходной индикатор** – дополнительный RSI меньшего периода контролирует открытые позиции и может досрочно закрыть их при выходе за границы допустимых зон.

## Параметры
| Параметр | Описание |
|----------|----------|
| `BaselineLength` | Период EMA, используемой в качестве базовой линии. |
| `ConfirmationRsiLength` | Период подтверждающего RSI. |
| `ConfirmationRsiThreshold` | Уровень RSI, разделяющий бычьи и медвежьи сигналы. |
| `ConfirmationCciLength` | Период подтверждающего CCI. |
| `ConfirmationCciThreshold` | Минимальное абсолютное значение CCI для приёма сигнала. |
| `AtrPeriod` | Период расчёта ATR. |
| `AtrEntryMultiplier` | Множитель ATR для масштабирования объёма. |
| `AtrTakeProfitMultiplier` | Множитель ATR для тейк-профита. |
| `AtrStopLossMultiplier` | Множитель ATR для стоп-лосса. |
| `AtrTrailingMultiplier` | Множитель ATR для трейлинг-стопа (0 отключает). |
| `AtrMinimum` | Минимально допустимое значение ATR перед входом. |
| `ExitRsiLength` | Период выходного RSI. |
| `ExitRsiUpperLevel` | Верхняя граница RSI, принудительно закрывающая продажи. |
| `ExitRsiLowerLevel` | Нижняя граница RSI, принудительно закрывающая покупки. |
| `CandleType` | Тип свечей (таймфрейм), используемых в расчётах. |

## Объекты графика
Стратегия автоматически выводит:
- базовые свечи;
- EMA-базовую линию;
- отметки совершённых сделок.

## Рекомендации по оптимизации
Каждый параметр `StrategyParam` снабжён диапазоном оптимизации, что позволяет повторить сеточные тесты оригинального советника. Используйте инструменты оптимизации StockSharp для подбора периодов, порогов и риск-параметров.

## Советы по использованию
- Настройте пороги под свои наборы индикаторов NNFX, чтобы быстро валидировать собственные идеи.
- Следите за `AtrMinimum`, чтобы стратегия не торговала в периоды низкой волатильности.
- Для тестирования продолжений тренда задайте `AtrTrailingMultiplier` больше нуля – это позволит фиксировать прибыль и одновременно оставлять пространство движению.

