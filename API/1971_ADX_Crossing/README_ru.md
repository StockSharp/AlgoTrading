# Стратегия ADX Crossing

**Стратегия ADX Crossing** основана на индикаторе Average Directional Index (ADX). Она анализирует пересечения линий +DI и -DI для определения возможной смены тенденции.

Когда +DI пересекает -DI снизу вверх, считается, что начинается восходящий тренд. Стратегия может открыть длинную позицию и при необходимости закрыть открытую короткую. Если +DI пересекает -DI сверху вниз, это трактуется как сигнал на продажу: открывается короткая позиция и при необходимости закрывается длинная. Опциональные уровни стоп-лосса и тейк-профита реализованы через встроенную систему риск‑менеджмента.

## Индикатор

Используется индикатор `AverageDirectionalIndex` из StockSharp. Для принятия решений задействуются только линии направленного движения; значение ADX не участвует в логике.

## Параметры

- `ADX Period` – период расчёта ADX. По умолчанию `50`.
- `Candle Type` – таймфрейм свечей. По умолчанию `1 час`.
- `Allow Buy Open` – разрешение на открытие длинных позиций. По умолчанию `true`.
- `Allow Sell Open` – разрешение на открытие коротких позиций. По умолчанию `true`.
- `Allow Buy Close` – разрешение закрывать длинные позиции при сигнале на продажу. По умолчанию `true`.
- `Allow Sell Close` – разрешение закрывать короткие позиции при сигнале на покупку. По умолчанию `true`.
- `Stop Loss` – расстояние до стоп‑лосса в абсолютных ценовых единицах. По умолчанию `1000`.
- `Take Profit` – расстояние до тейк‑профита в абсолютных ценовых единицах. По умолчанию `2000`.

## Логика торговли

1. Подписка на свечи выбранного таймфрейма и вычисление индикатора ADX.
2. Сохранение предыдущих значений +DI и -DI для поиска пересечений.
3. При пересечении +DI вверх:
   - Закрытие короткой позиции, если включён параметр `Allow Sell Close`.
   - Открытие длинной позиции, если включён параметр `Allow Buy Open`.
4. При пересечении +DI вниз:
   - Закрытие длинной позиции при активном `Allow Buy Close`.
   - Открытие короткой позиции при активном `Allow Sell Open`.
5. Уровни стоп-лосса и тейк-профита устанавливаются через `StartProtection`.

## Примечания

- Обрабатываются только завершённые свечи (`CandleStates.Finished`).
- За исполнение стопов отвечает встроенный механизм StockSharp.
- Позиции закрываются отправкой противоположной рыночной заявки.

Стратегия предназначена для обучения и требует дополнительной настройки перед использованием на реальных рынках.
