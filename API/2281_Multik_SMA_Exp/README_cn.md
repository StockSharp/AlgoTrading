# Multik SMA Exp 策略

## 概述
该策略从 MetaTrader 5 的 “Multik_SMA_Exp” 专家顾问移植，基于简单移动平均线 (SMA) 斜率的逆势交易方法。

策略跟踪最近三次 SMA 值。如果 SMA 在最近两个完成区间内持续下降，则开多仓；如果 SMA 在最近两个区间内持续上升，则开空仓。当 SMA 斜率反转时平仓。

## 参数
- **MA Period** – 移动平均线周期，默认 50。
- **Candle Type** – 计算所用的 K 线类型，默认 1 分钟。

## 交易规则
1. 在每根完成的 K 线上计算 SMA。
2. 计算斜率：
   - `dsma1 = SMA[n-1] - SMA[n-2]`
   - `dsma2 = SMA[n-2] - SMA[n-3]`
3. 入场：
   - 若 `dsma1 < 0` 且 `dsma2 < 0` 且当前无多仓，则买入。
   - 若 `dsma1 > 0` 且 `dsma2 > 0` 且当前无空仓，则卖出。
4. 离场：
   - 若持有多仓且 `dsma1 > 0`，则平多。
   - 若持有空仓且 `dsma1 < 0`，则平空。

新订单的数量等于策略的 `Volume` 加上当前仓位的绝对值，以在需要时完全反向。
