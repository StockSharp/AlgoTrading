# 定时器策略
[English](README.md) | [Русский](README_ru.md)

定时器策略按照固定的时间间隔重新计算突破价格，当价格突破这些动态阈值时入场。突破水平由平均真实波幅（ATR）和可选的附加点差确定，用于捕捉双向的短期突破。

每隔 `WaitSeconds` 秒，策略设置：
- **买入水平**：`close + pipDistance + ATR`
- **卖出水平**：`close - pipDistance - ATR`

如果下一根完成的K线收盘价超出其中一个水平，就按对应方向发送市价单。仓位通过可配置的止盈、止损和跟踪止损进行保护。

可选的交易时间过滤器允许仅在指定的时间段内交易。

## 参数
- `WaitSeconds` – 重新计算水平的时间间隔（秒）。
- `PipDistance` – 与当前价格的额外距离（点）。
- `AtrPeriod` – ATR 指标周期。
- `TakeProfit` – 止盈距离（点）。
- `StopLoss` – 止损距离（点）。
- `TrailingStop` – 跟踪止损距离（点）。
- `TradeVolume` – 下单数量。
- `CandleType` – 用于计算的K线类型。
- `UseTradingHours` – 是否启用交易时间过滤。
- `StartTime` – 交易开始时间。
- `StopTime` – 交易结束时间。

## 工作流程
1. 订阅K线并计算 ATR。
2. 对每根完成的K线：
   - 当时间间隔到达时重新计算买卖水平。
   - 如果启用时间过滤，则检查当前时间是否在允许范围内。
   - 价格突破水平时发送相应方向的市价单。
3. 止盈、止损和跟踪止损由策略框架自动管理。

## 特点
- 支持做多和做空。
- 适用于任何品种和时间周期。
- 基于ATR的水平能够适应市场波动性。
