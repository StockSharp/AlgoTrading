# Стратегия MasterMind 2

## Обзор
MasterMind 2 — это конвертация советника "TheMasterMind2" с платформы MQL4. Стратегия ждёт экстремальных значений индикаторов Stochastic Oscillator и Williams %R, чтобы определить истощение движения. При одновременном подтверждении перепроданности открывается длинная позиция, а при подтверждённой перекупленности открывается короткая позиция. Обработка ведётся только по закрытым свечам, что повторяет логику оригинального советника.

## Индикаторы
- **Stochastic Oscillator** — используется с большим окном расчёта, чтобы отслеживать зоны перекупленности и перепроданности. В качестве сигнала используется линия %D.
- **Williams %R** — служит дополнительным фильтром, требуя значений, близких к -100 для покупок и к 0 для продаж.

## Правила входа
1. Дождаться закрытия очередной свечи.
2. Рассчитать Stochastic и получить значение сигнальной линии %D.
3. Рассчитать Williams %R на выбранном интервале.
4. **Покупка**: если `%D < 3` и `Williams %R < -99.9`, закрываются все короткие позиции и открывается покупка.
5. **Продажа**: если `%D > 97` и `Williams %R > -0.1`, закрываются все длинные позиции и открывается продажа.

## Правила выхода
- Стоп-лосс и тейк-профит задаются в пунктах относительно цены входа.
- Трейлинг-стоп позволяет подтягивать защитный уровень при благоприятном движении цены.
- Опция безубыточности переносит стоп-лосс на цену входа после накопления заданной прибыли.
- Появление обратного сигнала приводит к немедленному закрытию текущей позиции перед открытием новой.

## Параметры
- `Trade Volume` — объём заявки в контрактах.
- `Stochastic Period`, `Stochastic %K`, `Stochastic %D` — параметры Stochastic Oscillator.
- `Williams %R Period` — период расчёта Williams %R.
- `Stop Loss`, `Take Profit` — защитные уровни в пунктах.
- `Trailing Stop`, `Trailing Step` — параметры управления трейлинг-стопом.
- `Break Even` — расстояние до перевода сделки в безубыток.
- `Candle Type` — тип свечей или таймфрейм, используемый в расчётах.

## Примечания
- Стратегия обрабатывает только свечи в состоянии `Finished`, исключая сигналы на незавершённых барах.
- Все заявки регистрируются по рынку с объёмом `Trade Volume`.
- Установка нуля в параметрах расстояний отключает соответствующие защитные механизмы.
