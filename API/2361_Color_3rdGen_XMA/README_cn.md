# Color 3rd Generation XMA 策略

该策略基于第三代移动平均线的方向进行交易。该指标由两个指数移动平均线组合而成，当上升时显示为蓝色，下跌时显示为粉色。指标向上转变时记录买入信号，向下转变时记录卖出信号。

只有在信号出现后的用户指定时间才会下单。持仓还可以在出现相反信号或达到设置的持有时间后平仓，并支持以点数表示的止损和止盈。

## 参数

- **Length** – 第三代平均线的平滑周期。
- **StartHour** – 允许开仓的小时。
- **StartMinute** – 允许开仓的分钟。
- **HoldMinutes** – 持仓的最长时间（分钟）。
- **Volume** – 下单数量。
- **StopLoss** – 止损距离（点），`0` 表示不使用。
- **TakeProfit** – 止盈距离（点），`0` 表示不使用。
- **UseLongEntries** – 允许开多。
- **UseShortEntries** – 允许开空。
- **CloseLongBySignal** – 出现卖出信号时平多。
- **CloseShortBySignal** – 出现买入信号时平空。
- **CandleType** – 用于计算的K线周期。

## 逻辑

1. 订阅选定周期的K线。
2. 对每根K线计算第三代移动平均线。
3. 判断相邻K线之间平均线的上升或下降。
4. 根据方向保存买入或卖出信号。
5. 在指定时间按保存的信号方向入场。
6. 出现相反信号、达到持有时间或触发止损/止盈时平仓。
