# Стратегия SAW System 1
[English](README.md) | [中文](README_cn.md)

Эта стратегия пробоя устанавливает стоп-заявки в начале каждого торгового дня. Она измеряет средний дневной диапазон за настраиваемый период и использует это значение для расчёта уровней стоп-лосса и тейк-профита. Заявки выставляются по обе стороны от текущей цены, ожидается срабатывание только одной из них.

В момент `OpenHour` стратегия рассчитывает цены Buy Stop и Sell Stop на расстоянии половины стоп-лосса от текущей цены. Стоп-лосс и тейк-профит задаются как проценты от среднего диапазона. После исполнения одной заявки противоположная может быть отменена или оставлена для реверса позиции. Опциональный мартингейл увеличивает объём оставшейся заявки.

Неисполненные заявки удаляются в `CloseHour`, чтобы избежать переноса позиций через ночь. После входа стратегия сразу размещает защитные стоп-лосс и тейк-профит относительно цены сделки.

## Подробности

- **Условия входа:**
  - Рассчитывается средний дневной диапазон с помощью ATR за `VolatilityDays` дней.
  - Стоп-лосс и тейк-профит равны `StopLossRate` и `TakeProfitRate` процентам от диапазона.
  - В `OpenHour` выставляются стоп-заявки на расстоянии `offset = stopLoss/2` от цены.
- **Условия выхода:**
  - Позиции закрываются защитными стоп-лоссом и тейк-профитом.
  - Неисполненные заявки удаляются в `CloseHour`.
- **Режим реверса:**
  - Если `Reverse` включён, противоположная заявка остаётся для реверса позиции.
  - При включённом `UseMartingale` её объём умножается на `MartingaleMultiplier`.
- **Направление:** длинные и короткие позиции.
- **Стопы:** фиксированные уровни на основе дневного диапазона.
- **Значения по умолчанию:**
  - `VolatilityDays` = 5
  - `OpenHour` = 7
  - `CloseHour` = 10
  - `StopLossRate` = 15%
  - `TakeProfitRate` = 30%
  - `Reverse` = false
  - `UseMartingale` = false
  - `MartingaleMultiplier` = 2.0

Стратегия стремится поймать утренний пробой после спокойной ночной сессии и контролирует риск через волатильность.
