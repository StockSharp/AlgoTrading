# 抛硬币策略

## 概述

**抛硬币策略** 在没有持仓时，会在每根新蜡烛上随机选择做多或做空。若上一笔交易亏损，下一笔交易的手数会根据马丁系数增加。策略通过以价格步长表示的固定止盈和止损来平仓，并可在价格移动一定距离后启用追踪止损。

## 参数

- `Volume` – 初始下单手数。
- `Martingale` – 亏损后放大的马丁系数。
- `MaxVolume` – 马丁放大后的最大手数限制。
- `TakeProfit` – 以价格步长表示的止盈值。
- `StopLoss` – 以价格步长表示的止损值。
- `TrailingStart` – 激活追踪止损所需的价格步长。
- `TrailingStop` – 追踪止损的价格步长。
- `CandleType` – 用于决策的蜡烛周期。

## 工作流程

1. 每根收盘蜡烛到来时，检查是否有持仓。
2. 如果有持仓，根据收盘价计算盈亏；满足止盈、止损或追踪止损条件时平仓。
3. 若没有持仓，则抛硬币决定方向：
   - 正面开多。
   - 反面开空。
4. 若上一笔交易亏损，则按 `Martingale` 系数放大下次手数，但不超过 `MaxVolume`。
5. 当价格朝有利方向移动达到 `TrailingStart` 时启动追踪止损。

## 注意

该示例仅用于展示如何使用 StockSharp 高级 API 构建随机信号和仓位管理的策略。
