# Стратегия "Подброс монеты"

## Обзор

**Стратегия "Подброс монеты"** при отсутствии позиции на каждой новой свече случайным образом выбирает открывать длинную или короткую позицию. После закрытия позиции, если сделка завершилась убытком, объем следующей сделки увеличивается по принципу мартингейла. Закрытие позиции происходит по фиксированным уровням тейк‑профита и стоп‑лосса, заданным в шагах цены, а при необходимости может использоваться трейлинг‑стоп.

## Параметры

- `Volume` – базовый объем первой сделки.
- `Martingale` – коэффициент увеличения объема после убыточной сделки.
- `MaxVolume` – максимальный допустимый объем после увеличения.
- `TakeProfit` – размер тейк‑профита в шагах цены.
- `StopLoss` – размер стоп‑лосса в шагах цены.
- `TrailingStart` – дистанция в шагах цены для включения трейлинг‑стопа.
- `TrailingStop` – расстояние трейлинг‑стопа в шагах цены.
- `CandleType` – таймфрейм используемых свечей.

## Логика работы

1. На каждой закрывшейся свече стратегия проверяет наличие позиции.
2. Если позиция открыта, рассчитывается текущая прибыль или убыток; при достижении тейк‑профита, стоп‑лосса или уровня трейлинг‑стопа позиция закрывается.
3. При отсутствии позиции подбрасывается "монета":
   - Орёл – открытие длинной позиции.
   - Решка – открытие короткой позиции.
4. Если предыдущая сделка была убыточной, объем следующей сделки умножается на `Martingale`, но не превышает `MaxVolume`.
5. Трейлинг‑стоп активируется после прохождения ценой расстояния `TrailingStart` в прибыльную сторону.

## Примечание

Пример предназначен для учебных целей и демонстрирует работу со случайными сигналами и управлением позиций средствами высокого уровня API StockSharp.
