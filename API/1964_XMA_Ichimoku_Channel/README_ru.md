# Стратегия XMA Ichimoku Channel

## Обзор

Стратегия реализует систему пробоя канала на основе концепции XMA Ichimoku. Она строит динамический канал вокруг сглаженного среднего последних максимумов и минимумов и генерирует сделки при подтверждении пробоя с откатом.

## Принцип работы

1. **Максимумы и минимумы**: Для каждой завершённой свечи рассчитываются наибольший максимум и наименьший минимум за заданные периоды.
2. **Сглаженная средняя линия**: Среднее значение между максимумом и минимумом сглаживается простой скользящей средней.
3. **Построение канала**: Верхняя и нижняя границы получаются путём применения процентных отклонений от сглаженной средней.
4. **Торговая логика**:
   - Если предыдущая цена закрытия была выше предыдущей верхней границы и текущая цена закрытия вернулась ниже текущей верхней границы, стратегия открывает длинную позицию и закрывает короткую.
   - Если предыдущая цена закрытия была ниже предыдущей нижней границы и текущая цена закрытия вернулась выше текущей нижней границы, стратегия открывает короткую позицию и закрывает длинную.

## Параметры

- **Up Period** – период расчёта максимума.
- **Down Period** – период расчёта минимума.
- **MA Length** – длина сглаживающей средней.
- **Up Percent** – процент добавления к средней для формирования верхней границы.
- **Down Percent** – процент вычитания от средней для формирования нижней границы.
- **Candle Type** – тип свечей, используемых в расчётах.

## Особенности использования

- Сделки выполняются рыночными ордерами.
- Обрабатываются только завершённые свечи, чтобы избежать ложных сигналов.
- Перед открытием новой позиции противоположная позиция закрывается.

## Дисклеймер

Пример предназначен только для образовательных целей. Перед реальной торговлей требуется тщательное тестирование.
