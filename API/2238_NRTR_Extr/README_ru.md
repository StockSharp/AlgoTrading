# Стратегия NRTR Extr

Стратегия реализует алгоритм **Nick Rypock Trailing Reverse** (NRTR) с дополнительными стрелками сигналов. Это конвертация оригинального примера MQL5 "Exp_NRTR_extr" на высокоуровневый API StockSharp.

## Как работает

- Пользовательский индикатор `NrtrExtrIndicator` рассчитывает средний диапазон за заданный период и строит следящий уровень, который повторяет цену.
- При пробое этого уровня индикатор меняет направление и генерирует сигнал на покупку или продажу.
- Стратегия открывает длинную позицию при сигнале покупки и короткую при сигнале продажи.
- Текущие позиции закрываются при противоположном сигнале либо при достижении уровней стоп-лосса или тейк-профита.

## Параметры

| Имя | Описание |
| --- | --- |
| `Period` | Количество свечей для расчёта среднего диапазона. |
| `Digits Shift` | Дополнительная поправка точности для коэффициента диапазона. |
| `Stop Loss` | Защитный стоп в пунктах цены. |
| `Take Profit` | Целевая прибыль в пунктах цены. |
| `Enable Buy Open` / `Enable Sell Open` | Разрешить открытие длинных или коротких позиций. |
| `Enable Buy Close` / `Enable Sell Close` | Разрешить закрытие позиций по противоположным сигналам. |
| `Candle Type` | Таймфрейм свечей для расчёта индикатора. |

## Примечания

Индикатор использует Average True Range для оценки волатильности рынка. Для наглядности стратегия автоматически выводит свечи и совершённые сделки на график.

