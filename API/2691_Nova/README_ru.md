# Стратегия Nova

## Описание
- Конвертация советника MetaTrader 5 «Nova», отслеживающего импульс цены на заданном интервале времени.
- Работает с любым типом свечей, заданным параметром `CandleType`, и выполняет расчёты только по завершённым свечам.
- Использует данные Level1 для хранения лучших цены спроса и предложения `SecondsAgo` секунд назад.
- Открывает **покупку**, если предыдущая свеча бычья, а текущая цена Ask выросла относительно сохранённого Ask минимум на `StepPips`.
- Открывает **продажу**, если предыдущая свеча медвежья, а текущая цена Bid упала относительно сохранённого Ask минимум на `StepPips`.
- При положительных значениях стоп-лосса или тейк-профита автоматически задействует защиту `StartProtection`.
- После срабатывания стоп-лосса умножает объём следующей сделки на `LossCoefficient`; после прибыльного выхода объём возвращается к `BaseVolume`.

## Параметры
- `SecondsAgo` – интервал в секундах между контрольной точкой и текущим моментом.
- `StepPips` – фильтр пробоя в пунктах; автоматически переводится в цену с учётом минимального шага (для инструментов с 3/5 знаками после запятой используется множитель ×10).
- `BaseVolume` – базовый объём сделки; нормализуется по `Security.VolumeStep`, `Security.MinVolume` и `Security.MaxVolume`.
- `StopLossPips` – дистанция защитного стоп-лосса в пунктах (0 — без стоп-лосса).
- `TakeProfitPips` – дистанция защитного тейк-профита в пунктах (0 — без тейк-профита).
- `LossCoefficient` – множитель, применяемый к последнему объёму после убыточной сделки.
- `CandleType` – тип свечей (таймфрейм, тиковые, рендж и т.п.), на основе которых строятся сигналы.

## Дополнительные замечания
- Для максимально точной конверсии из MT5 требуется поток Level1; при его отсутствии используется цена закрытия свечи как запасной вариант.
- Нормализация объёма предотвращает отправку заявок с недопустимым количеством лотов.
- Перевод пунктов в цену основан на `Security.PriceStep` и `Security.Decimals`, что обеспечивает корректную работу на форекс и других рынках.
- Версия на Python для данной стратегии отсутствует.
