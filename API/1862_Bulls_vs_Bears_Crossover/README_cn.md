# Bulls vs Bears Crossover 策略

## 概述

该策略基于 **Bulls vs Bears (BvsB)** 指标实现。该指标衡量蜡烛高价和低价与移动平均线之间的距离。当多头距离下降到空头距离之下，表明上行动能减弱，策略开多单。相反，当多头距离上升到空头距离之上时，策略开空单。当前持仓在出现反向信号或达到止盈止损时关闭。

移动平均类型和周期可配置，以适应不同市场和时间框架。风险控制通过以价格步长表示的固定止损和止盈水平来实现。

## 参数

| 名称 | 描述 |
|------|------|
| `MaType` | 移动平均算法类型（SMA、EMA、SMMA、WMA）。 |
| `MaLength` | 移动平均周期。 |
| `StopLoss` | 止损距离（价格步长）。 |
| `TakeProfit` | 止盈距离（价格步长）。 |
| `OpenLong` | 在多头交叉时允许开多单。 |
| `OpenShort` | 在空头交叉时允许开空单。 |
| `CloseLong` | 在空头交叉时允许平多单。 |
| `CloseShort` | 在多头交叉时允许平空单。 |
| `CandleType` | 处理的蜡烛时间框架。 |

## 工作原理

1. 订阅指定的蜡烛序列并计算移动平均线。
2. 对于每根完成的蜡烛，计算多头和空头距离：
   - **Bull** = `(HighPrice - MA) / PriceStep`
   - **Bear** = `(MA - LowPrice) / PriceStep`
3. 检测 Bull 与 Bear 的交叉。
4. 根据交叉方向和启用的选项开仓或平仓。
5. 通过设置的止损和止盈水平进行风险管理。

这种简洁而灵活的方法可用于评估买卖双方力量的变化。
