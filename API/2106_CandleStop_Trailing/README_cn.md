# CandleStop Trailing 策略

## 概述
该策略基于 CandleStop 方法实现跟踪止损。它只分析已完成的 K 线，并且仅在对仓位有利的方向上移动止损水平。算法使用不同周期的唐奇安通道分别处理多头和空头仓位，非常适合与手动交易或其他入场策略配合使用。

## 参数
- **Up Trail Periods** – 计算空头仓位跟踪最高价所使用的 K 线数量。
- **Down Trail Periods** – 计算多头仓位跟踪最低价所使用的 K 线数量。
- **Candle Type** – 用于分析的 K 线时间框架。

## 策略逻辑
1. 等待已有仓位，策略本身不会主动开仓。
2. 多头仓位：
   - 计算最近 *Down Trail Periods* 根 K 线的最低价。
   - 若该值高于当前止损，则将止损上移。
   - 价格触及或跌破止损时，以市价单平仓。
3. 空头仓位：
   - 计算最近 *Up Trail Periods* 根 K 线的最高价。
   - 若该值低于当前止损，则将止损下移。
   - 价格触及或突破止损时，以市价单回补仓位。

## 使用说明
- 基于 StockSharp 高级 API，依赖于对蜡烛图的订阅。
- 适合用于保护手动开仓或其它策略产生的仓位。
- 图表中可显示蜡烛、通道线以及已执行的交易，便于可视化。
