# 图表浏览器策略

## 概述
图表浏览器策略将 MetaTrader 脚本的功能迁移到 StockSharp，通过文本日志监控单个标的的图表相关信息。策略同时关注两个不同周期的K线数据，计算一个示例性的简单移动平均线，跟踪策略本身的下单与成交情况，并按计划输出汇总报告。“活动标签”参数模拟原脚本的标签切换，在有新数据到达时突出显示对应部分。

## 行为
- 订阅 **Chart Candle Type** 指定的周期，当“Charts”标签处于活动状态时输出最近一根完成的K线。
- 订阅 **Indicator Candle Type** 指定的周期，按照 **Indicator Length** 设置的周期计算 **SMA**，并在“Indicators”标签中记录最新指标值。
- 统计已注册订单数量、当前活跃订单数量、成交次数以及当前持仓，在“Experts”标签中展示。
- 利用汇总定时器模拟“Scripts”标签，报告最近一次生成完整摘要的时间及定时器配置。
- 在设定的时间间隔以及运行过程中切换活动标签时输出完整摘要。

## 参数
| 名称 | 说明 |
| --- | --- |
| Chart Candle Type | “Charts”标签使用的K线周期。 |
| Indicator Candle Type | 用于计算指标的K线周期。 |
| Indicator Length | SMA 指标的周期长度。 |
| Active Tab | 指定在收到新数据时需要突出显示的标签。 |
| Summary Interval | 自动输出汇总的时间间隔，设置为零可禁用定时器。 |
| Auto Log Latest Values | 启用后，在相应标签收到新数据时立即记录描述信息。 |

## 使用步骤
1. 选择目标标的，根据需要调整两个K线周期和 SMA 周期，使其符合希望监控的图表组合。
2. 设置默认的 **Active Tab**，以便在运行时模拟需要关注的标签。
3. 配置 **Summary Interval** 控制完整状态报告的输出频率（设置为 `00:00:00` 可禁用周期性输出）。
4. 启动策略。随后日志中将显示K线、指标以及交易活动，提供类似原始图表浏览器对话框的概览。

## 注意事项
- 策略不会主动发送订单，只会统计该策略实例内部手动或自动生成的订单与成交。
- 在策略运行期间切换 **Active Tab** 会立即打印新标签的描述信息。
- 请确保所选周期的历史或实时行情可用，以便填充图表和指标数据。
