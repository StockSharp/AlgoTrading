# Стратегия Genie Pivot

Стратегия **Genie Pivot** основана на идее разворота по пивотам из исходного советника MQL4. Она отслеживает формирование разворотного паттерна из семи последовательных свечей и управляет позицией при помощи фиксированного тейк‑профита и трейлинг‑стопа.

## Логика стратегии

1. **Поиск паттерна** – сигнал на покупку появляется, когда семь предыдущих минимумов строго убывают, а последняя завершённая свеча делает более высокий минимум и закрывается выше предыдущего максимума. Сигнал на продажу формируется зеркальными условиями по максимумам.
2. **Открытие позиции** – после подтверждения сигнала стратегия открывает рыночный ордер с объёмом, рассчитанным из величины капитала и параметров риска.
3. **Сопровождение сделки** – после входа выставляются тейк‑профит и трейлинг‑стоп. Трейлинг активируется только после достижения прибыли, превышающей расстояние трейлинга. Если следующая свеча разворачивается (медвежья для лонга, бычья для шорта), позиция закрывается.
4. **Снижение объёма** – серия убыточных сделок уменьшает объём согласно параметру `Decrease Factor`.

## Параметры

| Имя | Описание |
|-----|----------|
| `TakeProfit` | Цель по прибыли в шагах цены от цены входа. |
| `TrailingStop` | Дистанция трейлинг‑стопа в шагах цены. |
| `MaximumRisk` | Доля капитала, используемая для расчёта объёма. |
| `DecreaseFactor` | Снижение объёма после серии убыточных сделок. |
| `BaseVolume` | Резервный объём, когда стоимость портфеля неизвестна. |
| `CandleType` | Таймфрейм свечей. |

## Примечания

Стратегия обрабатывает только завершённые свечи. Версия на Python пока отсутствует.
