# Genie Pivot 策略

该策略实现了原始 MQL4 版本的 **Genie Pivot** 反转剥头皮思路。它等待由七根连续 K 线组成的转向形态，并使用固定止盈和跟踪止损来管理持仓。

## 策略逻辑

1. **形态识别**：当之前七个最低价持续下降且最新完成的 K 线形成更高的低点并收盘价高于前一根 K 线的最高价时产生做多信号；做空信号条件相反。
2. **下单执行**：信号确认后根据账户权益和风险参数计算下单量并以市价成交。
3. **交易管理**：开仓后设置止盈与跟踪止损。只有当利润超过跟踪距离时才激活跟踪止损。如果下一根 K 线反向（多单为阴线，空单为阳线）则立即平仓。
4. **仓位递减**：连续亏损会根据 `Decrease Factor` 参数降低交易量。

## 参数

| 名称 | 说明 |
|------|------|
| `TakeProfit` | 距离入场价的止盈距离（价格步长）。 |
| `TrailingStop` | 跟踪止损距离（价格步长）。 |
| `MaximumRisk` | 用于计算仓位的账户资金比例。 |
| `DecreaseFactor` | 连续亏损后减少仓位的系数。 |
| `BaseVolume` | 当账户价值未知时使用的基础数量。 |
| `CandleType` | 分析所用的 K 线周期。 |

## 备注

该策略仅处理收盘完成的 K 线。目前尚未提供 Python 版本。
