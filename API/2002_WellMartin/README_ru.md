# Стратегия Well Martin

## Описание

**Well Martin** – это стратегия возврата к среднему, которая использует индикаторы Bollinger Bands и Average Directional Index (ADX). Покупка выполняется при уходе цены ниже нижней полосы Боллинджера при низком значении ADX. Продажа выполняется при выходе цены выше верхней полосы при тех же условиях. Выход из позиции происходит при достижении противоположной полосы или уровней тейк‑профита и стоп‑лосса.

## Параметры

- **CandleType** – тип свечей для расчётов.
- **BollingerPeriod** – период полос Боллинджера.
- **BollingerWidth** – множитель стандартного отклонения.
- **AdxPeriod** – период индикатора ADX.
- **AdxLevel** – порог ADX; сделки открываются только если значение ниже порога.
- **Volume** – объём каждой сделки.
- **TakeProfit** – целевая прибыль в ценовых пунктах.
- **StopLoss** – допустимый убыток в ценовых пунктах.

## Логика работы

1. Подписка на поток свечей и расчёт индикаторов Bollinger Bands и ADX.
2. При отсутствии позиции:
   - **Покупка**, если цена закрытия ниже нижней полосы и ADX ниже порога.
   - **Продажа**, если цена закрытия выше верхней полосы и ADX ниже порога.
3. Запоминается направление последней сделки и новые входы разрешаются только в том же направлении либо при отсутствии сделок.
4. При длинной позиции выход выполняется при касании верхней полосы, достижении тейк‑профита или стоп‑лосса.
5. При короткой позиции выход выполняется при касании нижней полосы, достижении тейк‑профита или стоп‑лосса.

## Примечания

В текущей реализации используется фиксированный объём. В оригинальном коде MQL объём увеличивался после убыточной сделки; эту функциональность можно добавить при необходимости.
