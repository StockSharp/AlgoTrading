# Стратегия уведомления о свечах «Доджи»

## Общее описание
Стратегия Doji Pattern Alert реализует на StockSharp высокоуровневую версию эксперта MetaTrader **DojiEN.mq4**. Она не выставляет
заявки, а только отслеживает последнюю закрытую свечу и сообщает о появлении классического доджи. Свеча считается доджи, когда
тело практически отсутствует, а цены открытия и закрытия расположены около середины дневного диапазона.

Логика полностью повторяет оригинал:

1. Считываются цены открытия, максимума, минимума и закрытия предыдущей завершённой свечи.
2. Проверяется, что разница между открытием и закрытием меньше заданного количества пунктов.
3. Вычисляется середина диапазона и контролируется, чтобы и открытие, и закрытие находились внутри допустимого отклонения от
середины.
4. При выполнении обоих условий в журнал записывается уведомление.

Вместо рисования объектов на графике, как в MQL, порт автоматически добавляет диаграмму свечей в окно стратегии, чтобы пользователь
мог визуально подтвердить найденные доджи.

## Параметры
| Название | Описание | Значение по умолчанию |
| --- | --- | --- |
| Candle Type | Таймфрейм свечей, используемых в расчёте. | 15-минутные свечи |
| Middle Tolerance (%) | Максимальное отклонение от середины свечи в процентах от полного диапазона. | 10 |
| Body Difference (points) | Максимальная допустимая величина тела свечи в шагах цены. | 3 |

### Примечания по параметрам
- Значение **Middle Tolerance (%)** `10` означает, что открытие и закрытие должны оставаться в пределах 10% от полного диапазона,
отсчитанных от середины свечи. Уменьшение процента делает фильтр более строгим.
- **Body Difference (points)** умножается на шаг цены инструмента. Если тик не определён, стратегия использует значение 1, чтобы
проверка оставалась работоспособной.

## Уведомления и журнал
При обнаружении доджи стратегия записывает сообщение следующего вида:

```
Classic doji detected at 2024-05-15T08:45:00.0000000+00:00. Body size: 0.00020, range: 0.00150.
```

При необходимости можно подключить собственные механизмы оповещения (почта, всплывающие окна и т. п.) к системе логирования.

## Торговое поведение
Стратегия не совершает сделок. Она только отслеживает поток свечей и выводит уведомления, полностью сохраняя поведение исходного
эксперта MetaTrader, который ограничивался графическими объектами и звуковыми сигналами.
