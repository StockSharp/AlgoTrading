[English](README.md) | [Русский](README_ru.md)

该策略通过对最近的蜡烛进行多项式回归来重建原始 MQL4 专家使用的 Center of Gravity 通道。回归中心来自最小二乘解的常数项，通道宽度则来自同一观察窗口内的收盘价标准差。下轨等于中心减去放大后的标准差，对应于源码中调用的 `stdl` 缓冲区。

运行时维护一个长度为 **Bars Back** 的收盘价滚动队列。每当形成一根完整蜡烛时，策略都会使用高斯消元法求解正常方程组，重新计算回归系数。这样无需保存完整历史即可得到与自定义指标相同的通道结构。如果矩阵病态，计算会被跳过，以防止产生不稳定的交易决策。

交易逻辑继承自原始专家：当当前蜡烛的最低价仍高于下轨（MQL 表达为 `lowerBand < Low`）时，策略将其视为向均值回归的信号。如果没有持有多头头寸，则平掉所有空头并按策略的 Volume 参数买入。最新的中心值以及上下轨通过只读属性提供，方便绘图或诊断。

风控参数是可选的。**Stop Loss Distance** 和 **Take Profit Distance** 使用价格单位表示。当设置为正值时，策略会记录多头的入场价格，并根据蜡烛极值判断是否触发止损或止盈。如果保持为零，持仓可由人工或外部模块管理。

### 参数
- **Candle Type** – 用于回归计算的蜡烛时间框架。
- **Bars Back** – 参与回归计算的历史蜡烛数量（默认 125）。
- **Polynomial Degree** – 多项式回归的阶数，决定通道的弯曲程度（默认 2）。
- **Std Multiplier** – 构建通道时应用于标准差的倍数（默认 1）。
- **Stop Loss Distance** – 多头止损价格距离，0 表示禁用。
- **Take Profit Distance** – 多头止盈价格距离，0 表示禁用。

该策略仅处理已完成的蜡烛，使用市价单入场，而且不会自动做空，因为原始脚本中的卖出分支已被注释掉。
