# Стратегия Auto Trading Publish

## Обзор
Данная стратегия переносит утилиту MetaTrader 4 **«Auto Trading Publish»** на платформу StockSharp. Вместо отправки заявок она
контролирует временные окна, когда торговля разрешена. Стратегия подписывается на поток свечей, чтобы отслеживать биржевое
время, и переключает флаг `AutoTradingActive` при достижении заданных часов запуска и остановки, тем самым повторяя работу
оригинального инструмента, который нажимал кнопку «AutoTrading» в MT4.

## Логика работы
- Подписка на «легкие» свечи (по умолчанию минутные), чтобы получать актуальное время даже без сделок.
- Когда закрытая свеча попадает на час `StartHour`, флаг `AutoTradingActive` включается и событие фиксируется в журнале.
- Когда закрытая свеча попадает на час `StopHour`, флаг `AutoTradingActive` выключается и запись попадает в журнал.
- В пределах одного часа повторные переключения подавляются, чтобы журнал не заполнялся одинаковыми сообщениями.

## Параметры
| Параметр | Описание |
|----------|----------|
| `StartHour` | Час (0-23), с которого торговля разрешена. |
| `StopHour` | Час (0-23), по достижении которого торговля запрещается. |
| `CandleType` | Таймфрейм свечей для проверки времени; чем он меньше, тем быстрее реакция. |

## Рекомендации по использованию
- Стратегия не отправляет ордера: используйте флаг `AutoTradingActive` в своих модулях или панелях управления, чтобы решать,
когда разрешать сделки.
- Если `StartHour` и `StopHour` совпадают, событие остановки выполняется сразу после запуска — итоговое состояние «торговля
выключена», как и в оригинальном советнике.
- Выбирайте таймфрейм свечи в зависимости от требуемой скорости реакции. Минутные свечи дают хороший компромисс между
оперативностью и нагрузкой на систему.

## Отличия от версии MetaTrader
- В MT4 глобальная кнопка переключалась через Windows-сообщения. В StockSharp используется флаг на уровне стратегии, что упрощает
интеграцию с комплексными системами.
- Порт полностью реализован на высокоуровневом API, поэтому не требует работы с низкоуровневыми хукми и легко комбинируется с
графиками или другими вспомогательными стратегиями.
