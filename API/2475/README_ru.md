# Стратегия ExpBuySellSide
[English](README.md) | [中文](README_cn.md)

Стратегия **ExpBuySellSide** представляет собой конвертацию одноимённого советника MetaTrader в API StockSharp. Она сочетает ATR‑основанные стопы с упрощённым фильтром тренда Step Up/Down.

Модуль ATR строит динамические уровни вокруг каждой свечи. Пробой верхней границы трактуется как начало бычьей фазы, пробой нижней – как начало медвежьей.

Фильтр Step Up/Down сравнивает очень быструю SMA с более медленной SMA и контролирует, растёт ли расстояние между ними. Увеличение спреда в направлении пересечения подтверждает тренд.

Сделка открывается только тогда, когда **оба** модуля указывают в одном направлении. При желании имеющаяся позиция может быть закрыта при появлении противоположного сигнала.

## Детали

- **Условия входа**:
  - **Покупка**: цена закрывается выше верхней границы ATR **и** быстрая SMA удаляется от медленной вверх.
  - **Продажа**: цена закрывается ниже нижней границы ATR **и** быстрая SMA удаляется от медленной вниз.
- **Длинные/короткие**: обе стороны.
- **Условия выхода**:
  - Появление обратного сигнала и включённый параметр *Close Opposite*.
  - Ручная остановка через защиту позиции.
- **Стопы**: основаны на `ATR * Multiplier`.
- **Значения по умолчанию**:
  - `ATR Period` = 5.
  - `ATR Multiplier` = 2.5.
  - `Fast SMA` = 2.
  - `Slow SMA` = 30.
  - `Candle Type` = таймфрейм 1 час.
  - `Close Opposite` = да.
- **Фильтры**:
  - Категория: Следование тренду
  - Направление: Оба
  - Индикаторы: Несколько
  - Стопы: Да
  - Сложность: Средняя
  - Таймфрейм: Среднесрочный
  - Сезонность: Нет
  - Нейросети: Нет
  - Дивергенция: Нет
  - Уровень риска: Средний

