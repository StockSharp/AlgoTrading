# Boll Trade Breakout 策略
[English](README.md) | [Русский](README_ru.md)

该策略将 MetaTrader 上的 **BollTrade** EA 移植到 StockSharp 平台，通过布林带突破信号进行交易，并提供可配置
的点值缓冲与可选的资金规模管理。策略仅在 K 线收盘后作出决策，并使用固定的止损与止盈价位管理仓位。

## 核心逻辑

- 订阅所选的主图时间框架，根据参数计算布林带（周期与标准差）。
- 在上轨和下轨外侧再加上 `Band Offset` 指定的点数缓冲，减少虚假突破。
- 当收盘价低于下轨减去缓冲时开多单；当收盘价高于上轨加上缓冲时开空单。
- 始终只持有一个方向的仓位，新的信号会等待当前交易结束后再执行。

## 仓位管理

- 开仓后立即根据点数参数计算止损与止盈水平，在每根完成的 K 线上检查最高/最低价是否触及目标，一旦触发
  则通过市价单平仓。
- 如果启用 `Scale Volume`，策略会按照账户权益与初始权益的比例调整下次下单的手数，最大不超过 500 手，以
  保持与原始 EA 相同的风险限制。
- 点值根据 `PriceStep` 自动推导。对于价格步长非常小的外汇品种，会将步长乘以 10，以得到与 MetaTrader
  相同的标准点。

## 参数说明

| 参数 | 说明 | 默认值 |
| ---- | ---- | ------ |
| `Candle Type` | 用于生成信号的 K 线类型/周期。 | 15 分钟 K 线 |
| `Bollinger Period` | 布林带计算周期。 | 4 |
| `Bollinger Deviation` | 布林带宽度系数。 | 2 |
| `Band Offset` | 在触发信号前需要突破的额外点数。 | 3 |
| `Take Profit (pips)` | 止盈距离（点）。 | 3 |
| `Stop Loss (pips)` | 止损距离（点）。 | 20 |
| `Base Volume` | 未启用规模管理时的基础手数。 | 1 |
| `Scale Volume` | 是否根据账户权益自动调整手数。 | 开启 |

## 使用建议

- 适用于外汇、差价合约等以点为主要波动单位的市场；若在期货或股票上使用，请确保正确配置品种的 `PriceStep`。
- 策略仅基于收盘价，因此盘中突破后回落的情况不会立即触发交易。
- 固定的止损/止盈需要根据所选品种的波动性进行调整，以避免过度紧或过度宽松。
- 原版 EA 使用服务器端的止损与止盈，本移植版本通过检查 K 线的最高价和最低价来模拟相同的保护逻辑。

## 文件结构

- `CS/BollTradeStrategy.cs` —— C# 策略实现。
- `README.md` —— 英文说明。
- `README_ru.md` —— 俄文说明。
- `README_cn.md` —— 中文说明（当前文件）。

按要求暂未提供 Python 版本。
