# Стратегия AfterEffects
[English](README.md) | [中文](README_cn.md)

Стратегия AfterEffects основана на идее, что цены могут иметь последействия.
Она рассчитывает сигнал на основе текущей цены закрытия и цен открытия `p` и `2p` баров назад:

`signal = Close - 2 * Open[p] + Open[2p]`

Положительный сигнал открывает длинную позицию, отрицательный — короткую.
Параметр `Random` инвертирует сигнал.

После входа стратегия ставит стоп-лосс на расстоянии `StopLoss` пунктов.
Когда цена движется на `2 * StopLoss` пунктов в благоприятном направлении:

- при смене знака сигнала позиция переворачивается двойным объёмом;
- иначе стоп-лосс переносится вслед за ценой.

## Подробности

- **Критерии входа**: `signal > 0` для long, `signal < 0` для short.
- **Длинные/короткие**: оба направления.
- **Критерии выхода**: противоположный сигнал или стоп-лосс.
- **Стопы**: трейлинг-стоп.
- **Значения по умолчанию**:
  - `StopLoss` = 500
  - `Period` = 3
  - `Random` = false
  - `Volume` = 1
  - `CandleType` = TimeSpan.FromMinutes(1)
- **Фильтры**:
  - Категория: Тренд
  - Направление: Оба
  - Индикаторы: Пользовательская формула
  - Стопы: Трейлинг
  - Сложность: Базовая
  - Таймфрейм: Внутридневной (1m)
  - Сезонность: Нет
  - Нейросети: Нет
  - Дивергенция: Нет
  - Уровень риска: Средний
