# The Puncher 策略

## 概述
The Puncher 策略源自 MetaTrader 4 专家顾问 "The Puncher by L. Bigger"，是一套反转型动量系统。策略同时使用慢速随机指标与经典 RSI，在两者共同指向极端超卖或超买时，于 K 线收盘后反向入场，从而捕捉潜在的回归行情。

## 交易逻辑
- **做多条件：** 随机指标的信号线与 RSI 一同跌破超卖阈值。若持有空头仓位会先行平仓，随后开立新的多单。
- **做空条件：** 当两者同时升破超买阈值时触发。若有多头仓位会先平仓，然后建立空单。
- **离场方式：** 反向信号或保护规则（止损、止盈、保本、移动止损）都会导致平仓。

策略仅在所选时间框架的收盘 K 线运行，从而复刻原始 EA 的“在收盘交易”行为并降低噪音。

## 风险控制
- **止损 / 止盈：** 以点数设定的固定距离，设为 0 时表示关闭。
- **保本：** 当浮盈达到设定值后，将止损移动到开仓价。
- **移动止损：** 价格每向有利方向移动足够距离时，按指定间距上调止损。
- **下单手数：** 使用固定交易量参数，对应 MT4 中的 Lots 设置。

## 参数
| 参数 | 说明 | 默认值 |
| --- | --- | --- |
| `OrderVolume` | 新开仓的交易量。 | `1` |
| `StochasticLength` | 随机指标 %K 的回溯长度。 | `100` |
| `StochasticSignalPeriod` | %K 进入信号线前的平滑周期。 | `3` |
| `StochasticSmoothingPeriod` | %D 信号线的平滑周期。 | `3` |
| `RsiPeriod` | RSI 指标的计算周期。 | `14` |
| `OversoldLevel` | 判断超卖的共有阈值。 | `30` |
| `OverboughtLevel` | 判断超买的共有阈值。 | `70` |
| `StopLossPips` | 止损距离（0 表示禁用）。 | `2000` |
| `TakeProfitPips` | 止盈距离（0 表示禁用）。 | `0` |
| `TrailingStopPips` | 移动止损距离（0 表示禁用）。 | `0` |
| `TrailingStepPips` | 每次调整移动止损所需的最小有利点数。 | `1` |
| `BreakEvenPips` | 将止损移至保本所需的浮盈点数。 | `0` |
| `CandleType` | 计算使用的 K 线类型。 | `M15` |

## 说明
- 点值依据标的的最小报价步长或小数位推导，确保所有价格保护符合交易所精度要求。
- MT4 原版中的声音提示、邮件通知和图形标注属于平台特性，此处未实现。
- 策略可作为 StockSharp 环境下进一步实验与优化的基础模板。
