# Стратегия EF Distance Reversal
[English](README.md) | [中文](README_cn.md)

Эта стратегия представляет собой адаптацию советника MetaTrader "Exp_EF_distance" на платформе StockSharp. Вместо оригинальных индикаторов EF Distance и Flat-Trend используются простая скользящая средняя (SMA) и фильтр Average True Range (ATR) для поиска точек разворота. Алгоритм наблюдает за тремя последовательными значениями SMA и определяет локальные минимумы или максимумы. Длинная позиция открывается, когда SMA образует локальное дно и волатильность превышает заданный порог. Короткая позиция открывается при обратном паттерне. Позиции закрываются по противоположному сигналу или при достижении уровней stop-loss или take-profit.

## Детали

- **Условия входа**:
  - **Лонг**: `SMA(t-1) < SMA(t-2)` и `SMA(t) > SMA(t-1)` и `ATR(t) ≥ AtrThreshold`.
  - **Шорт**: `SMA(t-1) > SMA(t-2)` и `SMA(t) < SMA(t-1)` и `ATR(t) ≥ AtrThreshold`.
- **Направления**: обе стороны.
- **Условия выхода**:
  - Сигнал в противоположном направлении.
  - Срабатывание stop-loss или take-profit.
- **Индикаторы**:
  - Простая скользящая средняя (SMA) – приближение к EF Distance.
  - Average True Range (ATR) – фильтр волатильности.
- **Значения по умолчанию**:
  - `SMA period` = 10.
  - `ATR period` = 20.
  - `ATR threshold` = 1.
  - `StopLoss` = 100.
  - `TakeProfit` = 200.
- **Фильтры**:
  - Категория: Разворотная
  - Направление: Оба
  - Индикаторы: Два
  - Stops: Да
  - Сложность: Средняя
  - Таймфрейм: Настраиваемый
  - Сезонность: Нет
  - Нейросети: Нет
  - Дивергенция: Да (используются точки разворота)
  - Уровень риска: Средний
