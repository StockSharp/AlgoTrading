# Стратегия Reco RSI Grid

## Обзор
Стратегия реализует логику советника «Reco» для платформы MetaTrader на базе высокоуровневого API StockSharp. Алгоритм открывает первоначальную позицию по сигналу индикатора RSI и затем строит сетку из встречных ордеров. Расстояние между ордерами и их объём увеличиваются по геометрической прогрессии. Все позиции закрываются одновременно при достижении заданного суммарного профита или убытка.

## Логика торговли
- **Первичный сигнал** – когда RSI выходит за пределы зон перекупленности или перепроданности. Если значение выше уровня продажи – открывается короткая позиция, ниже уровня покупки – длинная.
- **Расширение сетки** – после первой сделки стратегия отслеживает движение цены относительно последнего ордера. При отклонении на рассчитанное расстояние отправляется противоположный рыночный ордер. Дистанция на каждом шаге умножается на коэффициент *Distance Multiplier* и ограничивается параметрами *Max Distance* и *Min Distance*.
- **Увеличение объёма** – объём каждого нового ордера равен начальному *Lot*, умноженному на *Lot Multiplier* в степени количества уже открытых ордеров. Поддерживаются ограничения по максимальному и минимальному объёму.
- **Выход из позиции** – при включённом *Use Close Profit* все ордера закрываются, когда совокупная прибыль превышает *Profit First Order*, скорректированное на *Profit Multiplier* для каждого дополнительного ордера. Аналогично работает режим *Use Close Lose* для фиксации убытка с параметрами *Lose First Order* и *Lose Multiplier*.

## Параметры
| Имя | Описание |
|-----|----------|
| `RsiPeriod` | Период индикатора RSI. |
| `RsiSellZone` | Уровень RSI для сигнала на продажу. |
| `RsiBuyZone` | Уровень RSI для сигнала на покупку. |
| `StartDistance` | Начальное расстояние до последнего ордера в пунктах. |
| `DistanceMultiplier` | Множитель для увеличения расстояния между ордерами. |
| `MaxDistance` | Максимальное расстояние (0 – без ограничения). |
| `MinDistance` | Минимальное расстояние (0 – без ограничения). |
| `MaxOrders` | Максимальное количество одновременно открытых ордеров (0 – без ограничения). |
| `Lot` | Базовый объём ордера. |
| `LotMultiplier` | Множитель увеличения объёма. |
| `MaxLot` | Максимальный объём одного ордера (0 – без ограничения). |
| `MinLot` | Минимальный объём одного ордера (0 – без ограничения). |
| `UseCloseProfit` | Закрывать все позиции при достижении прибыли. |
| `ProfitFirstOrder` | Целевой профит для первого ордера. |
| `ProfitMultiplier` | Множитель прибыли для последующих ордеров. |
| `UseCloseLose` | Закрывать все позиции при достижении убытка. |
| `LoseFirstOrder` | Допустимый убыток первого ордера. |
| `LoseMultiplier` | Множитель убытка для последующих ордеров. |
| `PointMultiplier` | Множитель шага цены для расчёта пункта. |
| `CandleType` | Тип свечей, используемый для расчётов. |

## Примечания
- Стратегия использует рыночные ордера и предполагает их мгновенное исполнение.
- Применяется неттинг позиций: встречный ордер может уменьшить или развернуть текущую позицию.
- Код оформлен с применением табуляции и содержит комментарии на английском языке в соответствии с требованиями проекта.
