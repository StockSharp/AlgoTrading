# Стратегия CHO Smoothed EA

## Обзор
Стратегия воспроизводит логику оригинального советника «CHO Smoothed EA». На каждой закрывшейся свече рассчитывается осциллятор Chaikin, для сигнальной линии используется настраиваемое скользящее среднее. Дополнительные фильтры позволяют ограничить торговлю по времени, выбрать направление сделок и проверять сигналы относительно нулевой линии. После подтверждения сигнала стратегия открывает позицию по рынку и сопровождает её фиксированными дистанциями в пунктах для стоп-лосса, тейк-профита и трейлинг-стопа.

## Логика торговли
- Значения осциллятора Chaikin рассчитываются по завершённым свечам с заданными быстрым и медленным периодами.
- Скользящее среднее создаёт сглаженную сигнальную линию; его период и тип можно изменять.
- Покупка выполняется при пересечении осциллятора выше сигнальной линии, продажа — при обратном пересечении. Сигналы можно инвертировать.
- При включённой проверке по нулевой линии для покупок оба значения должны быть ниже нуля, для продаж — выше нуля.
- Можно автоматически закрывать встречные позиции перед входом или, наоборот, ждать пока позиция станет нулевой. Также доступен режим «только одна позиция».
- Торговлю можно ограничить дневным временным окном; поддерживаются интервалы, переходящие через полночь.
- После входа значения в пунктах переводятся в ценовые уровни с учётом шага цены инструмента, далее свечи контролируются на предмет срабатывания стоп-лосса, тейк-профита и трейлинг-стопа.

## Управление рисками
- Стоп-лосс и тейк-профит рассчитываются от цены входа как количество пунктов, умноженное на шаг цены.
- Трейлинг-стоп активируется после прохождения ценой заданного минимального хода и затем следует за ценой на установленном расстоянии.
- При достижении любого защитного уровня позиция закрывается рыночной заявкой, а все контрольные уровни сбрасываются.

## Параметры
- **Candle Type** — таймфрейм свечей для расчётов.
- **Fast Period / Slow Period** — быстрый и медленный периоды осциллятора Chaikin.
- **Signal MA Period / Signal MA Type** — параметры сглаживающего скользящего среднего.
- **Use Zero Level** — требование нахождения показаний по соответствующую сторону нуля.
- **Trade Mode** — разрешённое направление торговли (только покупка, только продажа или обе стороны).
- **Reverse Signals** — инвертирование сигналов.
- **Close Opposite** — закрывать ли встречные позиции перед входом.
- **Only One Position** — запрещать ли открытие новой позиции при уже открытой.
- **Use Time Control / Start Time / End Time** — включение и настройки торгового окна.
- **Stop Loss (pts)** — расстояние стоп-лосса в пунктах.
- **Take Profit (pts)** — расстояние тейк-профита в пунктах.
- **Trailing Stop (pts)** — дистанция трейлинг-стопа в пунктах.
- **Trailing Step (pts)** — минимальный ход цены в пунктах для переноса трейлинг-стопа.

## Дополнительные рекомендации
- Перед запуском задайте свойство `Volume`, чтобы выбрать объём сделки.
- Поскольку используются рыночные заявки, учитывайте ликвидность и возможное проскальзывание.
- Если время начала и окончания торгового окна совпадают, стратегия не будет совершать сделки — это соответствует поведению исходного советника.
