# Стратегия Perceptron AC

Данная стратегия реализует простейший персептрон на базе индикатора Accelerator Oscillator (AC).
Значение AC текущей свечи и трех прошлых смещений умножаются на настраиваемые веса.
Сумма произведений формирует выход персептрона, определяющий направление сделки.

## Принцип работы

1. Рассчитывается AC как разница между Awesome Oscillator и его SMA(5).
2. Хранится 22 последних значения AC для доступа к смещениям 0, 7, 14 и 21 бар.
3. Вычисляется выход персептрона:
   `P = (X1-100)*AC[0] + (X2-100)*AC[7] + (X3-100)*AC[14] + (X4-100)*AC[21]`.
4. Если `P > 0` — открывается или удерживается длинная позиция; если `P < 0` — короткая.
5. Когда прибыль превышает уровень `StopLoss` сверх начального стопа:
   - При смене знака `P` позиция переворачивается.
   - В противном случае стоп подтягивается на расстояние `StopLoss` от текущей цены.

## Параметры

- **X1** – вес текущего значения AC (по умолчанию 288).
- **X2** – вес AC 7 баров назад (по умолчанию 216).
- **X3** – вес AC 14 баров назад (по умолчанию 144).
- **X4** – вес AC 21 бар назад (по умолчанию 72).
- **Stop Loss** – порог сопровождения и переворота в ценовых единицах (по умолчанию 300).
- **Volume** – объем заявки (по умолчанию 1).
- **Candle Type** – тип используемых свечей (по умолчанию 5-минутные).

## Правила торговли

- Открыть long при `P > 0`, если позиции нет.
- Открыть short при `P < 0`, если позиции нет.
- При открытой позиции переносить стоп после движения цены на `StopLoss * 2` в прибыль.
- Переворачивать позицию, если при этом знак `P` изменился.

## Оригинал

Конвертировано из скрипта MQL4 `auto_m5.mq4` из папки `MQL/11102`.
